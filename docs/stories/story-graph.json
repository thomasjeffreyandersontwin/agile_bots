{
  "epics": [
    {
      "name": "Build Agile Bots",
      "sequential_order": null,
      "domain_concepts": [],
      "sub_epics": [
        {
          "name": "Generate MCP Tools",
          "sequential_order": 0.0,
          "sub_epics": [],
          "story_groups": [
            {
              "name": "",
              "sequential_order": 0.0,
              "type": "and",
              "connector": "or",
              "stories": [
                {
                  "name": "Generate Bot Tools",
                  "sequential_order": 0.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "MCP Server Generator"
                  ],
                  "test_file": null,
                  "test_class": "TestGenerateBotTools",
                  "scenarios": [
                    {
                      "name": "Generator creates bot tool for test_bot",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_generator_creates_bot_tool_for_test_bot",
                      "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen Generator processes Bot Config\nThen Generator creates 1 bot tool instance"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Generator processes Bot Config",
                      "text": "WHEN Generator processes Bot Config",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Generator creates 1 bot tool instance",
                      "text": "THEN Generator creates 1 bot tool instance",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Generate Behavior Tools",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "MCP Server Generator"
                  ],
                  "test_file": null,
                  "test_class": "TestGenerateBehaviorTools",
                  "scenarios": [
                    {
                      "name": "Generator creates behavior tools for test_bot with 4 behaviors",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_generator_creates_behavior_tools_for_test_bot_with_4_behaviors",
                      "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen Generator processes Bot Config\nThen Generator creates 4 behavior tool instances"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Generator processes Bot Config",
                      "text": "WHEN Generator processes Bot Config",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Generator creates behavior tool instances for each behavior",
                      "text": "THEN Generator creates behavior tool instances for each behavior",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Generate MCP Bot Server",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "MCP Server Generator"
                  ],
                  "test_file": null,
                  "test_class": "TestGenerateMCPBotServer",
                  "scenarios": [
                    {
                      "name": "Generator creates MCP server for test_bot",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_generator_creates_mcp_server_for_test_bot",
                      "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen MCP Server Generator receives Bot Config\nThen Generator creates MCP Server instance with unique server name"
                    },
                    {
                      "name": "Generator fails when Bot Config is missing",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_generator_fails_when_bot_config_missing",
                      "steps": "Given A bot directory exists\nAnd Bot Config does NOT exist\nWhen MCP Server Generator attempts to receive Bot Config\nThen Generator raises FileNotFoundError and does not create MCP Server instance"
                    },
                    {
                      "name": "Generator fails when Bot Config is malformed",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_generator_fails_when_bot_config_malformed",
                      "steps": "Given A bot directory exists\nAnd Bot Config file exists with invalid JSON syntax\nWhen MCP Server Generator attempts to receive Bot Config\nThen Generator raises JSONDecodeError and does not create MCP Server instance"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN MCP Server Generator receives Bot Config",
                      "text": "WHEN MCP Server Generator receives Bot Config",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Generator generates unique MCP Server instance with Unique server name from bot name",
                      "text": "THEN Generator generates unique MCP Server instance with Unique server name from bot name",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Generated server includes Bot Config reference",
                      "text": "AND Generated server includes Bot Config reference",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND Generated server leverages Specific Bot instantiation code",
                      "text": "AND Generated server leverages Specific Bot instantiation code",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Generate Behavior Action Tools",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "MCP Server Generator"
                  ],
                  "test_file": null,
                  "test_class": "TestGenerateBehaviorActionTools",
                  "scenarios": [
                    {
                      "name": "Tools generated for each behavior action",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_tools_generated_for_each_behavior_action",
                      "steps": "GIVEN: Bot with behaviors and actions\nWHEN: Tool generation is triggered\nTHEN: MCP tools are created for each action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Generator processes Bot Config",
                      "text": "WHEN Generator processes Bot Config",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Generator creates tool code for each (behavior, action) pair",
                      "text": "THEN Generator creates tool code for each (behavior, action) pair",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Enumerates all behaviors and actions from Bot Config",
                      "text": "AND Enumerates all behaviors and actions from Bot Config",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND For each pair, generates tool code with unique name, trigger words, forwarding logic",
                      "text": "AND For each pair, generates tool code with unique name, trigger words, forwarding logic",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND Tool catalog prepared with all generated tool instances",
                      "text": "AND Tool catalog prepared with all generated tool instances",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Deploy MCP BOT Server",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [],
                  "test_file": null,
                  "test_class": "TestDeployMCPBotServer",
                  "scenarios": [
                    {
                      "name": "MCP server deployed with tools",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_mcp_server_deployed_with_tools",
                      "steps": "GIVEN: Bot tools are generated\nWHEN: Server deployment is triggered\nTHEN: MCP server is running with tools"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Generation Complete",
                      "text": "WHEN Generation Complete",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Generator deploys/starts generated MCP Server",
                      "text": "THEN Generator deploys/starts generated MCP Server",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Server initializes in separate thread",
                      "text": "AND Server initializes in separate thread",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND Server registers with MCP Protocol Handler using unique server name",
                      "text": "AND Server registers with MCP Protocol Handler using unique server name",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND Server publishes tool catalog to AI Chat",
                      "text": "AND Server publishes tool catalog to AI Chat",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND Each tool entry includes name, description, trigger patterns, parameters",
                      "text": "AND Each tool entry includes name, description, trigger patterns, parameters",
                      "sequential_order": 6.0
                    }
                  ]
                },
                {
                  "name": "Restart MCP Server To Load Code Changes",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "MCP Server Generator"
                  ],
                  "test_file": null,
                  "test_class": "TestRestartMCPServerToLoadCodeChanges",
                  "scenarios": [
                    {
                      "name": "Clear Python bytecode cache",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_clear_python_bytecode_cache",
                      "steps": "Given __pycache__ directories exist with .pyc files\nWhen clear_python_cache is called\nThen All __pycache__ directories are removed\nAnd All .pyc files are deleted\nAnd Cache is cleared before server restart"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot code changes are detected",
                      "text": "WHEN Bot code changes are detected",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN MCP Server clears Python bytecode cache (__pycache__)",
                      "text": "THEN MCP Server clears Python bytecode cache (__pycache__)",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND MCP Server restarts to load new code",
                      "text": "AND MCP Server restarts to load new code",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND Server restarts gracefully without losing state",
                      "text": "AND Server restarts gracefully without losing state",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND Server re-registers with MCP Protocol Handler after restart",
                      "text": "AND Server re-registers with MCP Protocol Handler after restart",
                      "sequential_order": 5.0
                    }
                  ]
                }
              ]
            }
          ],
          "stories": [
            {
              "name": "Generate Bot Tools",
              "sequential_order": 0.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "MCP Server Generator"
              ],
              "test_file": null,
              "test_class": "TestGenerateBotTools",
              "scenarios": [
                {
                  "name": "Generator creates bot tool for test_bot",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_generator_creates_bot_tool_for_test_bot",
                  "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen Generator processes Bot Config\nThen Generator creates 1 bot tool instance"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN Generator processes Bot Config",
                  "text": "WHEN Generator processes Bot Config",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN Generator creates 1 bot tool instance",
                  "text": "THEN Generator creates 1 bot tool instance",
                  "sequential_order": 2.0
                }
              ]
            },
            {
              "name": "Generate Behavior Tools",
              "sequential_order": 1.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "MCP Server Generator"
              ],
              "test_file": null,
              "test_class": "TestGenerateBehaviorTools",
              "scenarios": [
                {
                  "name": "Generator creates behavior tools for test_bot with 4 behaviors",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_generator_creates_behavior_tools_for_test_bot_with_4_behaviors",
                  "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen Generator processes Bot Config\nThen Generator creates 4 behavior tool instances"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN Generator processes Bot Config",
                  "text": "WHEN Generator processes Bot Config",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN Generator creates behavior tool instances for each behavior",
                  "text": "THEN Generator creates behavior tool instances for each behavior",
                  "sequential_order": 2.0
                }
              ]
            },
            {
              "name": "Generate MCP Bot Server",
              "sequential_order": 2.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "MCP Server Generator"
              ],
              "test_file": null,
              "test_class": "TestGenerateMCPBotServer",
              "scenarios": [
                {
                  "name": "Generator creates MCP server for test_bot",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_generator_creates_mcp_server_for_test_bot",
                  "steps": "Given A bot configuration file with a working directory and behaviors\nAnd A bot that has been initialized with that config file\nWhen MCP Server Generator receives Bot Config\nThen Generator creates MCP Server instance with unique server name"
                },
                {
                  "name": "Generator fails when Bot Config is missing",
                  "sequential_order": 2.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_generator_fails_when_bot_config_missing",
                  "steps": "Given A bot directory exists\nAnd Bot Config does NOT exist\nWhen MCP Server Generator attempts to receive Bot Config\nThen Generator raises FileNotFoundError and does not create MCP Server instance"
                },
                {
                  "name": "Generator fails when Bot Config is malformed",
                  "sequential_order": 3.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_generator_fails_when_bot_config_malformed",
                  "steps": "Given A bot directory exists\nAnd Bot Config file exists with invalid JSON syntax\nWhen MCP Server Generator attempts to receive Bot Config\nThen Generator raises JSONDecodeError and does not create MCP Server instance"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN MCP Server Generator receives Bot Config",
                  "text": "WHEN MCP Server Generator receives Bot Config",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN Generator generates unique MCP Server instance with Unique server name from bot name",
                  "text": "THEN Generator generates unique MCP Server instance with Unique server name from bot name",
                  "sequential_order": 2.0
                },
                {
                  "name": "AND Generated server includes Bot Config reference",
                  "text": "AND Generated server includes Bot Config reference",
                  "sequential_order": 3.0
                },
                {
                  "name": "AND Generated server leverages Specific Bot instantiation code",
                  "text": "AND Generated server leverages Specific Bot instantiation code",
                  "sequential_order": 4.0
                }
              ]
            },
            {
              "name": "Generate Behavior Action Tools",
              "sequential_order": 3.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "MCP Server Generator"
              ],
              "test_file": null,
              "test_class": "TestGenerateBehaviorActionTools",
              "scenarios": [
                {
                  "name": "Tools generated for each behavior action",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_tools_generated_for_each_behavior_action",
                  "steps": "GIVEN: Bot with behaviors and actions\nWHEN: Tool generation is triggered\nTHEN: MCP tools are created for each action"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN Generator processes Bot Config",
                  "text": "WHEN Generator processes Bot Config",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN Generator creates tool code for each (behavior, action) pair",
                  "text": "THEN Generator creates tool code for each (behavior, action) pair",
                  "sequential_order": 2.0
                },
                {
                  "name": "AND Enumerates all behaviors and actions from Bot Config",
                  "text": "AND Enumerates all behaviors and actions from Bot Config",
                  "sequential_order": 3.0
                },
                {
                  "name": "AND For each pair, generates tool code with unique name, trigger words, forwarding logic",
                  "text": "AND For each pair, generates tool code with unique name, trigger words, forwarding logic",
                  "sequential_order": 4.0
                },
                {
                  "name": "AND Tool catalog prepared with all generated tool instances",
                  "text": "AND Tool catalog prepared with all generated tool instances",
                  "sequential_order": 5.0
                }
              ]
            },
            {
              "name": "Deploy MCP BOT Server",
              "sequential_order": 4.0,
              "connector": "and",
              "story_type": "user",
              "users": [],
              "test_file": null,
              "test_class": "TestDeployMCPBotServer",
              "scenarios": [
                {
                  "name": "MCP server deployed with tools",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_mcp_server_deployed_with_tools",
                  "steps": "GIVEN: Bot tools are generated\nWHEN: Server deployment is triggered\nTHEN: MCP server is running with tools"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN Generation Complete",
                  "text": "WHEN Generation Complete",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN Generator deploys/starts generated MCP Server",
                  "text": "THEN Generator deploys/starts generated MCP Server",
                  "sequential_order": 2.0
                },
                {
                  "name": "AND Server initializes in separate thread",
                  "text": "AND Server initializes in separate thread",
                  "sequential_order": 3.0
                },
                {
                  "name": "AND Server registers with MCP Protocol Handler using unique server name",
                  "text": "AND Server registers with MCP Protocol Handler using unique server name",
                  "sequential_order": 4.0
                },
                {
                  "name": "AND Server publishes tool catalog to AI Chat",
                  "text": "AND Server publishes tool catalog to AI Chat",
                  "sequential_order": 5.0
                },
                {
                  "name": "AND Each tool entry includes name, description, trigger patterns, parameters",
                  "text": "AND Each tool entry includes name, description, trigger patterns, parameters",
                  "sequential_order": 6.0
                }
              ]
            },
            {
              "name": "Restart MCP Server To Load Code Changes",
              "sequential_order": 5.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "MCP Server Generator"
              ],
              "test_file": null,
              "test_class": "TestRestartMCPServerToLoadCodeChanges",
              "scenarios": [
                {
                  "name": "Clear Python bytecode cache",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_clear_python_bytecode_cache",
                  "steps": "Given __pycache__ directories exist with .pyc files\nWhen clear_python_cache is called\nThen All __pycache__ directories are removed\nAnd All .pyc files are deleted\nAnd Cache is cleared before server restart"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN Bot code changes are detected",
                  "text": "WHEN Bot code changes are detected",
                  "sequential_order": 1.0
                },
                {
                  "name": "THEN MCP Server clears Python bytecode cache (__pycache__)",
                  "text": "THEN MCP Server clears Python bytecode cache (__pycache__)",
                  "sequential_order": 2.0
                },
                {
                  "name": "AND MCP Server restarts to load new code",
                  "text": "AND MCP Server restarts to load new code",
                  "sequential_order": 3.0
                },
                {
                  "name": "AND Server restarts gracefully without losing state",
                  "text": "AND Server restarts gracefully without losing state",
                  "sequential_order": 4.0
                },
                {
                  "name": "AND Server re-registers with MCP Protocol Handler after restart",
                  "text": "AND Server re-registers with MCP Protocol Handler after restart",
                  "sequential_order": 5.0
                }
              ]
            }
          ]
        },
        {
          "name": "Generate CLI",
          "sequential_order": 1.0,
          "sub_epics": [],
          "story_groups": [
            {
              "name": "",
              "sequential_order": 0.0,
              "type": "and",
              "connector": null,
              "stories": [
                {
                  "name": "Generate Command Definitions",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "Generator"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN generator runs, THEN Orchestrator walks all bot behaviors",
                      "text": "WHEN generator runs, THEN Orchestrator walks all bot behaviors",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN behaviors are walked, THEN ActionDataCollector gathers action metadata for each behavior",
                      "text": "WHEN behaviors are walked, THEN ActionDataCollector gathers action metadata for each behavior",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN actions are gathered, THEN generator extracts parameters from each action's context_class",
                      "text": "WHEN actions are gathered, THEN generator extracts parameters from each action's context_class",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN metadata is collected, THEN ReplCommandVisitor generates navigate commands for all behaviors and actions",
                      "text": "WHEN metadata is collected, THEN ReplCommandVisitor generates navigate commands for all behaviors and actions",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN commands are generated, THEN scope commands are created for scope.type, scope.value, scope.exclude",
                      "text": "WHEN commands are generated, THEN scope commands are created for scope.type, scope.value, scope.exclude",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN all commands are defined, THEN generator outputs command definition file",
                      "text": "WHEN all commands are defined, THEN generator outputs command definition file",
                      "sequential_order": 6.0
                    }
                  ]
                },
                {
                  "name": "Generate CLI Entry Point",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Generator"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN generator creates PowerShell script, THEN it generates bot-specific CLI launcher (e.g., story_cli.ps1)",
                      "text": "WHEN generator creates PowerShell script, THEN it generates bot-specific CLI launcher (e.g., story_cli.ps1)",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN PowerShell script is generated, THEN it sets BOT_DIRECTORY and PYTHONPATH environment variables",
                      "text": "WHEN PowerShell script is generated, THEN it sets BOT_DIRECTORY and PYTHONPATH environment variables",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN script is generated, THEN it launches repl_main.py for the specific bot",
                      "text": "WHEN script is generated, THEN it launches repl_main.py for the specific bot",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN REPL is launched, THEN it includes TTY detection, state display, command parsing, and execution",
                      "text": "WHEN REPL is launched, THEN it includes TTY detection, state display, command parsing, and execution",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Generate Cursor Commands",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Generator"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN generator creates CursorReplVisitor, THEN it follows existing visitor pattern",
                      "text": "WHEN generator creates CursorReplVisitor, THEN it follows existing visitor pattern",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN visitor generates shortcuts, THEN it creates navigate shortcuts for behaviors",
                      "text": "WHEN visitor generates shortcuts, THEN it creates navigate shortcuts for behaviors",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN visitor generates action shortcuts, THEN it creates shortcuts for behavior-action combinations",
                      "text": "WHEN visitor generates action shortcuts, THEN it creates shortcuts for behavior-action combinations",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN visitor generates help shortcuts, THEN it creates help and status commands",
                      "text": "WHEN visitor generates help shortcuts, THEN it creates help and status commands",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Generate Help Documentation",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Generator"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN generator creates HelpReplVisitor, THEN it generates command reference with all REPL commands",
                      "text": "WHEN generator creates HelpReplVisitor, THEN it generates command reference with all REPL commands",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN help is generated, THEN it includes parameter reference with descriptions for all action parameters",
                      "text": "WHEN help is generated, THEN it includes parameter reference with descriptions for all action parameters",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN examples are generated, THEN it includes scope examples with dot-notation syntax",
                      "text": "WHEN examples are generated, THEN it includes scope examples with dot-notation syntax",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN documentation is output, THEN it creates Markdown help files in .cursor/commands/ and terminal help",
                      "text": "WHEN documentation is output, THEN it creates Markdown help files in .cursor/commands/ and terminal help",
                      "sequential_order": 4.0
                    }
                  ]
                }
              ]
            }
          ],
          "stories": [
            {
              "name": "Generate Command Definitions",
              "sequential_order": 0.0,
              "connector": null,
              "story_type": "user",
              "users": [
                "Generator"
              ],
              "test_file": null,
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN generator runs, THEN Orchestrator walks all bot behaviors",
                  "text": "WHEN generator runs, THEN Orchestrator walks all bot behaviors",
                  "sequential_order": 1.0
                },
                {
                  "name": "WHEN behaviors are walked, THEN ActionDataCollector gathers action metadata for each behavior",
                  "text": "WHEN behaviors are walked, THEN ActionDataCollector gathers action metadata for each behavior",
                  "sequential_order": 2.0
                },
                {
                  "name": "WHEN actions are gathered, THEN generator extracts parameters from each action's context_class",
                  "text": "WHEN actions are gathered, THEN generator extracts parameters from each action's context_class",
                  "sequential_order": 3.0
                },
                {
                  "name": "WHEN metadata is collected, THEN ReplCommandVisitor generates navigate commands for all behaviors and actions",
                  "text": "WHEN metadata is collected, THEN ReplCommandVisitor generates navigate commands for all behaviors and actions",
                  "sequential_order": 4.0
                },
                {
                  "name": "WHEN commands are generated, THEN scope commands are created for scope.type, scope.value, scope.exclude",
                  "text": "WHEN commands are generated, THEN scope commands are created for scope.type, scope.value, scope.exclude",
                  "sequential_order": 5.0
                },
                {
                  "name": "WHEN all commands are defined, THEN generator outputs command definition file",
                  "text": "WHEN all commands are defined, THEN generator outputs command definition file",
                  "sequential_order": 6.0
                }
              ]
            },
            {
              "name": "Generate CLI Entry Point",
              "sequential_order": 1.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "Generator"
              ],
              "test_file": null,
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN generator creates PowerShell script, THEN it generates bot-specific CLI launcher (e.g., story_cli.ps1)",
                  "text": "WHEN generator creates PowerShell script, THEN it generates bot-specific CLI launcher (e.g., story_cli.ps1)",
                  "sequential_order": 1.0
                },
                {
                  "name": "WHEN PowerShell script is generated, THEN it sets BOT_DIRECTORY and PYTHONPATH environment variables",
                  "text": "WHEN PowerShell script is generated, THEN it sets BOT_DIRECTORY and PYTHONPATH environment variables",
                  "sequential_order": 2.0
                },
                {
                  "name": "WHEN script is generated, THEN it launches repl_main.py for the specific bot",
                  "text": "WHEN script is generated, THEN it launches repl_main.py for the specific bot",
                  "sequential_order": 3.0
                },
                {
                  "name": "WHEN REPL is launched, THEN it includes TTY detection, state display, command parsing, and execution",
                  "text": "WHEN REPL is launched, THEN it includes TTY detection, state display, command parsing, and execution",
                  "sequential_order": 4.0
                }
              ]
            },
            {
              "name": "Generate Cursor Commands",
              "sequential_order": 2.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "Generator"
              ],
              "test_file": null,
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN generator creates CursorReplVisitor, THEN it follows existing visitor pattern",
                  "text": "WHEN generator creates CursorReplVisitor, THEN it follows existing visitor pattern",
                  "sequential_order": 1.0
                },
                {
                  "name": "WHEN visitor generates shortcuts, THEN it creates navigate shortcuts for behaviors",
                  "text": "WHEN visitor generates shortcuts, THEN it creates navigate shortcuts for behaviors",
                  "sequential_order": 2.0
                },
                {
                  "name": "WHEN visitor generates action shortcuts, THEN it creates shortcuts for behavior-action combinations",
                  "text": "WHEN visitor generates action shortcuts, THEN it creates shortcuts for behavior-action combinations",
                  "sequential_order": 3.0
                },
                {
                  "name": "WHEN visitor generates help shortcuts, THEN it creates help and status commands",
                  "text": "WHEN visitor generates help shortcuts, THEN it creates help and status commands",
                  "sequential_order": 4.0
                }
              ]
            },
            {
              "name": "Generate Help Documentation",
              "sequential_order": 3.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "Generator"
              ],
              "test_file": null,
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN generator creates HelpReplVisitor, THEN it generates command reference with all REPL commands",
                  "text": "WHEN generator creates HelpReplVisitor, THEN it generates command reference with all REPL commands",
                  "sequential_order": 1.0
                },
                {
                  "name": "WHEN help is generated, THEN it includes parameter reference with descriptions for all action parameters",
                  "text": "WHEN help is generated, THEN it includes parameter reference with descriptions for all action parameters",
                  "sequential_order": 2.0
                },
                {
                  "name": "WHEN examples are generated, THEN it includes scope examples with dot-notation syntax",
                  "text": "WHEN examples are generated, THEN it includes scope examples with dot-notation syntax",
                  "sequential_order": 3.0
                },
                {
                  "name": "WHEN documentation is output, THEN it creates Markdown help files in .cursor/commands/ and terminal help",
                  "text": "WHEN documentation is output, THEN it creates Markdown help files in .cursor/commands/ and terminal help",
                  "sequential_order": 4.0
                }
              ]
            }
          ]
        }
      ],
      "story_groups": []
    },
    {
      "name": "Invoke Bot",
      "sequential_order": null,
      "domain_concepts": [],
      "sub_epics": [
        {
          "name": "Initialize Bot",
          "sequential_order": 0.0,
          "sub_epics": [
            {
              "name": "Load Bot, Behavior, and Actions",
              "sequential_order": 0.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Resolve Bot Path",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestResolveBotPath",
                      "scenarios": [
                        {
                          "name": "BotPath resolves directories from environment variables",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_paths_resolves_bot_and_workspace_directories_from_environment",
                          "steps": "Given BOT_DIRECTORY and WORKING_AREA environment variables set\nWhen BotPath accessed from bot\nThen Both directory properties return paths from environment"
                        },
                        {
                          "name": "BotPath.base_actions_directory returns real agile_bot base_actions",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_paths_base_actions_directory_property",
                          "steps": "Given BotPath instantiated\nWhen base_actions_directory property accessed\nThen Returns real agile_bot/base_actions path (not test directory)\nThen Note: base_actions_directory always returns the real agile_bot/base_actions path,\nThen not the test directory. This is by design - see get_base_actions_directory() in workspace.py."
                        },
                        {
                          "name": "BotPath.python_workspace_root property returns Python workspace root.",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_paths_python_workspace_root_property",
                          "steps": ""
                        },
                        {
                          "name": "BotPath.find_repo_root() method returns repository root.",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_paths_find_repo_root_method",
                          "steps": ""
                        },
                        {
                          "name": "BotPath raises error when environment variables not set",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_paths_raises_error_when_environment_variables_not_set",
                          "steps": "Given No BOT_DIRECTORY or WORKING_AREA environment variables\nWhen BotPath instantiated\nThen Raises RuntimeError"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load Actions",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadActions",
                      "scenarios": [
                        {
                          "name": "Actions are loaded and available.",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_actions_from_behavior_config",
                          "steps": ""
                        },
                        {
                          "name": "When actions are loaded, first action is set as current.",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_actions_sets_first_as_current",
                          "steps": ""
                        },
                        {
                          "name": "Action merges instructions from BaseActionConfig and Behavior config.",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_merges_instructions_from_base_and_behavior",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load Bot Behaviors",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadBotBehaviors",
                      "scenarios": [
                        {
                          "name": "Bot behaviors are loaded from BotConfig.",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_behaviors_from_bot_config",
                          "steps": ""
                        },
                        {
                          "name": "When behaviors are loaded, first behavior is set as current.",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_behaviors_sets_first_as_current",
                          "steps": ""
                        },
                        {
                          "name": "Loaded behavior provides access to all config properties",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_provides_access_to_all_config_properties",
                          "steps": "Given Behavior loaded from production config\nWhen Config properties accessed\nThen All properties accessible with correct structure"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Switch Registered Bots in CLI",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestSwitchRegisteredBots",
                      "scenarios": [
                        {
                          "name": "Display Registered Bots in CLI STATUS",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_display_registered_bots_in_cli_status",
                          "steps": ""
                        },
                        {
                          "name": "Switch to Valid Registered Bot",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_switch_to_valid_registered_bot",
                          "steps": ""
                        },
                        {
                          "name": "Attempt to Switch to Unregistered Bot",
                          "sequential_order": 3.0,
                          "type": "error_path",
                          "background": [],
                          "test_method": "test_attempt_to_switch_to_unregistered_bot",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI STATUS section is displayed\nTHEN CLI shows current bot name followed by pipe-separated list of all registered bots AND format is: Bot: <current_bot> | Registered: <bot1> | <bot2> | <bot3>",
                          "text": "WHEN CLI STATUS section is displayed\nTHEN CLI shows current bot name followed by pipe-separated list of all registered bots AND format is: Bot: <current_bot> | Registered: <bot1> | <bot2> | <bot3>",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN CLI STATUS section is displayed\nTHEN CLI shows bot switching instructions AND format is: To change bots: bot <name>",
                          "text": "WHEN CLI STATUS section is displayed\nTHEN CLI shows bot switching instructions AND format is: To change bots: bot <name>",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN user enters bot <name> command AND bot name is registered\nTHEN CLI switches to the specified bot AND updates CLI STATUS section to show new current bot",
                          "text": "WHEN user enters bot <name> command AND bot name is registered\nTHEN CLI switches to the specified bot AND updates CLI STATUS section to show new current bot",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN user enters bot <name> command AND bot name is not registered\nTHEN CLI displays error message AND shows list of available registered bots AND keeps current bot active",
                          "text": "WHEN user enters bot <name> command AND bot name is not registered\nTHEN CLI displays error message AND shows list of available registered bots AND keeps current bot active",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN bot is switched\nTHEN CLI loads bot configuration from bot_config.json AND makes bot behaviors and actions available",
                          "text": "WHEN bot is switched\nTHEN CLI loads bot configuration from bot_config.json AND makes bot behaviors and actions available",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Switch Bot panel",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSwitchBot",
                      "scenarios": [
                        {
                          "name": "Panel shows story_bot and multiple bots available",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_panel_shows_story_bot_and_multiple_bots_available",
                          "steps": "Given Panel is open showing story_bot\nAnd Multiple bots are available (story_bot, crc_bot)\nWhen User selects crc_bot from bot selector dropdown\nThen Panel displays crc_bot as current bot\nAnd Panel displays crc_bot's behaviors\nAnd Panel displays crc_bot's current action\nAnd Panel refreshes all sections with crc_bot data"
                        },
                        {
                          "name": "User switches to crc_bot",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_switches_to_crc_bot",
                          "steps": "Given Panel is open with story_bot at workspace c:/dev/project_a\nWhen User switches to crc_bot\nThen Panel displays crc_bot\nAnd Panel retains workspace c:/dev/project_a\nAnd Panel displays crc_bot state for that workspace"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User switches bot",
                          "text": "WHEN User switches bot",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays updated bot name",
                          "text": "THEN System displays updated bot name",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays behavior action section for new bot",
                          "text": "AND System displays behavior action section for new bot",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays behavior action stateof workspace for new bot",
                          "text": "AND System displays behavior action stateof workspace for new bot",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Available Bot in Tree Hierarchy in CLI",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewAvailableBots",
                      "scenarios": [
                        {
                          "name": "CLI displays bot name in header",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_name_in_header",
                          "steps": "Given: CLI displays status\nWhen: CLI renders bot hierarchy\nThen: CLI shows current bot name in header"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI displays status\nTHEN CLI shows current bot name in header",
                          "text": "WHEN CLI displays status\nTHEN CLI shows current bot name in header",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN displaying bot hierarchy\nTHEN CLI shows bot name AND available behaviors",
                          "text": "WHEN displaying bot hierarchy\nTHEN CLI shows bot name AND available behaviors",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN displaying hierarchy\nTHEN CLI shows behaviors with actions in tree structure",
                          "text": "WHEN displaying hierarchy\nTHEN CLI shows behaviors with actions in tree structure",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN displaying hierarchy\nTHEN CLI uses indentation to show structure",
                          "text": "WHEN displaying hierarchy\nTHEN CLI uses indentation to show structure",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Resolve Bot Path Using CLI",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestResolveBotPathUsingCLI",
                      "scenarios": [
                        {
                          "name": "CLI session resolves bot and workspace directories",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_resolves_bot_and_workspace_directories",
                          "steps": "GIVEN: CLI session initialized\nWHEN: Bot paths accessed via CLI\nTHEN: Directories resolved correctly"
                        },
                        {
                          "name": "Base actions directory accessible via CLI session",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_base_actions_directory_accessible",
                          "steps": "GIVEN: CLI session initialized\nWHEN: base_actions_directory accessed via CLI\nTHEN: Returns real agile_bots/base_actions path"
                        },
                        {
                          "name": "Python workspace root accessible via CLI session",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_python_workspace_root_accessible",
                          "steps": "GIVEN: CLI session initialized\nWHEN: python_workspace_root accessed via CLI\nTHEN: Returns Python workspace root path"
                        },
                        {
                          "name": "find_repo_root method works via CLI session",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_find_repo_root_method_works",
                          "steps": "GIVEN: CLI session initialized\nWHEN: find_repo_root() called via CLI\nTHEN: Returns repository root path"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load Bot Using CLI",
                      "sequential_order": 7.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadBotUsingCLI",
                      "scenarios": [
                        {
                          "name": "CLI session loads bot with name and workspace",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_loads_bot_with_name_and_workspace",
                          "steps": "GIVEN: CLI session initialized\nWHEN: Bot accessed via CLI\nTHEN: Bot has correct name and workspace"
                        },
                        {
                          "name": "Bot name property accessible via CLI session",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_bot_name_property_accessible",
                          "steps": "GIVEN: CLI session initialized\nWHEN: Bot name accessed\nTHEN: Returns correct bot name"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load Bot Behaviors Using CLI",
                      "sequential_order": 8.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadBotBehaviorsUsingCLI",
                      "scenarios": [
                        {
                          "name": "CLI session loads behaviors from bot config",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_loads_behaviors_from_config",
                          "steps": "GIVEN: CLI session initialized\nWHEN: Behaviors accessed\nTHEN: All behaviors loaded correctly"
                        },
                        {
                          "name": "CLI session sets first behavior as current",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_sets_first_behavior_as_current",
                          "steps": "GIVEN: CLI session initialized\nWHEN: Current behavior accessed\nTHEN: First behavior is current"
                        },
                        {
                          "name": "Behavior config properties accessible via CLI session",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_behavior_config_properties_accessible",
                          "steps": "GIVEN: CLI session at prioritization behavior\nWHEN: Behavior config properties accessed\nTHEN: All properties accessible with correct structure"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load Actions Using CLI",
                      "sequential_order": 9.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadActionsUsingCLI",
                      "scenarios": [
                        {
                          "name": "CLI session loads actions from behavior config",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_loads_actions_from_behavior_config",
                          "steps": "GIVEN: CLI session at shape behavior\nWHEN: Actions accessed\nTHEN: All actions loaded correctly"
                        },
                        {
                          "name": "CLI session sets first action as current",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_sets_first_action_as_current",
                          "steps": "GIVEN: CLI session at shape behavior\nWHEN: Current action accessed\nTHEN: First action is current"
                        },
                        {
                          "name": "Action instructions accessible via CLI session",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_action_instructions_accessible",
                          "steps": "GIVEN: CLI session at shape.clarify\nWHEN: Action instructions accessed\nTHEN: Merged instructions from base and behavior available"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Resolve Bot Path",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestResolveBotPath",
                  "scenarios": [
                    {
                      "name": "BotPath resolves directories from environment variables",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_paths_resolves_bot_and_workspace_directories_from_environment",
                      "steps": "Given BOT_DIRECTORY and WORKING_AREA environment variables set\nWhen BotPath accessed from bot\nThen Both directory properties return paths from environment"
                    },
                    {
                      "name": "BotPath.base_actions_directory returns real agile_bot base_actions",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_paths_base_actions_directory_property",
                      "steps": "Given BotPath instantiated\nWhen base_actions_directory property accessed\nThen Returns real agile_bot/base_actions path (not test directory)\nThen Note: base_actions_directory always returns the real agile_bot/base_actions path,\nThen not the test directory. This is by design - see get_base_actions_directory() in workspace.py."
                    },
                    {
                      "name": "BotPath.python_workspace_root property returns Python workspace root.",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_paths_python_workspace_root_property",
                      "steps": ""
                    },
                    {
                      "name": "BotPath.find_repo_root() method returns repository root.",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_paths_find_repo_root_method",
                      "steps": ""
                    },
                    {
                      "name": "BotPath raises error when environment variables not set",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_paths_raises_error_when_environment_variables_not_set",
                      "steps": "Given No BOT_DIRECTORY or WORKING_AREA environment variables\nWhen BotPath instantiated\nThen Raises RuntimeError"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Load Actions",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestLoadActions",
                  "scenarios": [
                    {
                      "name": "Actions are loaded and available.",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_actions_from_behavior_config",
                      "steps": ""
                    },
                    {
                      "name": "When actions are loaded, first action is set as current.",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_actions_sets_first_as_current",
                      "steps": ""
                    },
                    {
                      "name": "Action merges instructions from BaseActionConfig and Behavior config.",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_merges_instructions_from_base_and_behavior",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Load Bot Behaviors",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestLoadBotBehaviors",
                  "scenarios": [
                    {
                      "name": "Bot behaviors are loaded from BotConfig.",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_behaviors_from_bot_config",
                      "steps": ""
                    },
                    {
                      "name": "When behaviors are loaded, first behavior is set as current.",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_behaviors_sets_first_as_current",
                      "steps": ""
                    },
                    {
                      "name": "Loaded behavior provides access to all config properties",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_provides_access_to_all_config_properties",
                      "steps": "Given Behavior loaded from production config\nWhen Config properties accessed\nThen All properties accessible with correct structure"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Switch Registered Bots in CLI",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestSwitchRegisteredBots",
                  "scenarios": [
                    {
                      "name": "Display Registered Bots in CLI STATUS",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_display_registered_bots_in_cli_status",
                      "steps": ""
                    },
                    {
                      "name": "Switch to Valid Registered Bot",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_switch_to_valid_registered_bot",
                      "steps": ""
                    },
                    {
                      "name": "Attempt to Switch to Unregistered Bot",
                      "sequential_order": 3.0,
                      "type": "error_path",
                      "background": [],
                      "test_method": "test_attempt_to_switch_to_unregistered_bot",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI STATUS section is displayed\nTHEN CLI shows current bot name followed by pipe-separated list of all registered bots AND format is: Bot: <current_bot> | Registered: <bot1> | <bot2> | <bot3>",
                      "text": "WHEN CLI STATUS section is displayed\nTHEN CLI shows current bot name followed by pipe-separated list of all registered bots AND format is: Bot: <current_bot> | Registered: <bot1> | <bot2> | <bot3>",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN CLI STATUS section is displayed\nTHEN CLI shows bot switching instructions AND format is: To change bots: bot <name>",
                      "text": "WHEN CLI STATUS section is displayed\nTHEN CLI shows bot switching instructions AND format is: To change bots: bot <name>",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN user enters bot <name> command AND bot name is registered\nTHEN CLI switches to the specified bot AND updates CLI STATUS section to show new current bot",
                      "text": "WHEN user enters bot <name> command AND bot name is registered\nTHEN CLI switches to the specified bot AND updates CLI STATUS section to show new current bot",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN user enters bot <name> command AND bot name is not registered\nTHEN CLI displays error message AND shows list of available registered bots AND keeps current bot active",
                      "text": "WHEN user enters bot <name> command AND bot name is not registered\nTHEN CLI displays error message AND shows list of available registered bots AND keeps current bot active",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN bot is switched\nTHEN CLI loads bot configuration from bot_config.json AND makes bot behaviors and actions available",
                      "text": "WHEN bot is switched\nTHEN CLI loads bot configuration from bot_config.json AND makes bot behaviors and actions available",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Switch Bot panel",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSwitchBot",
                  "scenarios": [
                    {
                      "name": "Panel shows story_bot and multiple bots available",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_panel_shows_story_bot_and_multiple_bots_available",
                      "steps": "Given Panel is open showing story_bot\nAnd Multiple bots are available (story_bot, crc_bot)\nWhen User selects crc_bot from bot selector dropdown\nThen Panel displays crc_bot as current bot\nAnd Panel displays crc_bot's behaviors\nAnd Panel displays crc_bot's current action\nAnd Panel refreshes all sections with crc_bot data"
                    },
                    {
                      "name": "User switches to crc_bot",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_user_switches_to_crc_bot",
                      "steps": "Given Panel is open with story_bot at workspace c:/dev/project_a\nWhen User switches to crc_bot\nThen Panel displays crc_bot\nAnd Panel retains workspace c:/dev/project_a\nAnd Panel displays crc_bot state for that workspace"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User switches bot",
                      "text": "WHEN User switches bot",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays updated bot name",
                      "text": "THEN System displays updated bot name",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays behavior action section for new bot",
                      "text": "AND System displays behavior action section for new bot",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays behavior action stateof workspace for new bot",
                      "text": "AND System displays behavior action stateof workspace for new bot",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Available Bot in Tree Hierarchy in CLI",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewAvailableBots",
                  "scenarios": [
                    {
                      "name": "CLI displays bot name in header",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_name_in_header",
                      "steps": "Given: CLI displays status\nWhen: CLI renders bot hierarchy\nThen: CLI shows current bot name in header"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI displays status\nTHEN CLI shows current bot name in header",
                      "text": "WHEN CLI displays status\nTHEN CLI shows current bot name in header",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN displaying bot hierarchy\nTHEN CLI shows bot name AND available behaviors",
                      "text": "WHEN displaying bot hierarchy\nTHEN CLI shows bot name AND available behaviors",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN displaying hierarchy\nTHEN CLI shows behaviors with actions in tree structure",
                      "text": "WHEN displaying hierarchy\nTHEN CLI shows behaviors with actions in tree structure",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN displaying hierarchy\nTHEN CLI uses indentation to show structure",
                      "text": "WHEN displaying hierarchy\nTHEN CLI uses indentation to show structure",
                      "sequential_order": 4.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/initialize_bot/test_load_bot_behavior_and_actions.py"
            },
            {
              "name": "Initialize Bot Interface",
              "sequential_order": 1.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Detect and Configure TTY/Non-TTY Input",
                      "sequential_order": 0.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "TTYDetector"
                      ],
                      "test_file": null,
                      "test_class": "TestDetectAndConfigureTTYNonTTYInput",
                      "scenarios": [
                        {
                          "name": "TTY detector identifies interactive terminal",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_tty_detector_identifies_interactive_terminal",
                          "steps": "GIVEN: stdin is connected to a TTY terminal\nWHEN: CLI detects TTY status\nTHEN: Interactive mode is detected\nAND: TTY adapters are used"
                        },
                        {
                          "name": "TTY detector identifies piped input",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_tty_detector_identifies_piped_input",
                          "steps": "GIVEN: stdin is piped from another process\nWHEN: CLI detects TTY status\nTHEN: Pipe mode is detected\nAND: Markdown adapters are used"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Launch CLI in Pipe Mode",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "AI Agent",
                        "Automation"
                      ],
                      "test_file": null,
                      "test_class": "TestStartCLISessionInPipeMode",
                      "scenarios": [
                        {
                          "name": "CLI launches in pipe mode",
                          "sequential_order": 0.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_launches_in_pipe_mode",
                          "steps": "GIVEN: CLISession is configured for pipe mode (non-TTY detected)\nWHEN: commands are piped\nTHEN: CLISession creates session without interactive prompts\nAND: CLI can execute commands in pipe mode\nAND: CLI uses markdown adapters for output"
                        },
                        {
                          "name": "CLI displays status in markdown format",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_status_in_markdown_format",
                          "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output in markdown format\nAND: Output includes markdown syntax (headers, bold, code blocks, lists)"
                        },
                        {
                          "name": "CLI displays header section in markdown",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_header_section_in_markdown",
                          "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with markdown formatting\nAND: Header uses markdown separators and headers"
                        },
                        {
                          "name": "CLI displays bot section in markdown",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_section_in_markdown",
                          "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with markdown formatting\nAND: Bot section uses markdown headers, bold, and code blocks"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Launch CLI in Interactive Mode",
                      "sequential_order": 2.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestStartCLISessionInTTYMode",
                      "scenarios": [
                        {
                          "name": "CLI launches in interactive mode",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_launches_in_interactive_mode",
                          "steps": "GIVEN: CLISession is configured for interactive mode (TTY detected)\nWHEN: user runs CLI\nTHEN: CLISession wraps Bot\nAND: CLI can execute commands\nAND: CLI uses TTY adapters for output"
                        },
                        {
                          "name": "CLI loads existing behavior action state on launch",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_loads_existing_behavior_action_state_on_launch",
                          "steps": "GIVEN: CLISession is configured for interactive mode\nAND: behavior action state file exists\nWHEN: user runs CLI\nTHEN: Bot loads stored behavior action state"
                        },
                        {
                          "name": "CLI displays status on launch",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_status_on_launch",
                          "steps": "GIVEN: CLISession is initialized in interactive mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output with all required sections in correct order\nAND: Output format matches TTY adapter format (hard-coded expectations)"
                        },
                        {
                          "name": "CLI displays header section",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_header_section",
                          "steps": "GIVEN: CLISession is initialized\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with exact format\nAND: Header includes separator lines, centered bold text, description, and warning"
                        },
                        {
                          "name": "CLI displays bot section",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_section",
                          "steps": "GIVEN: CLISession is initialized\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with exact format\nAND: Bot section includes bot name, bot path, workspace path, and change path instructions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Launch CLI in JSON Mode",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "Web View",
                        "API Client"
                      ],
                      "test_file": null,
                      "test_class": "TestStartCLISessionInJSONMode",
                      "scenarios": [
                        {
                          "name": "CLI launches in JSON mode",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_launches_in_json_mode",
                          "steps": "GIVEN: CLISession is configured for JSON mode (mode='json' set explicitly)\nWHEN: commands are executed\nTHEN: CLISession creates session\nAND: CLI can execute commands in JSON mode\nAND: CLI uses JSON adapters for output"
                        },
                        {
                          "name": "CLI displays status in JSON format",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_status_in_json_format",
                          "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output in JSON format\nAND: Output is valid JSON with required fields (name, bot_directory, workspace_directory, behavior_names, current_behavior)"
                        },
                        {
                          "name": "CLI displays header section in JSON",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_header_section_in_json",
                          "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with JSON structure\nAND: Output is valid JSON dictionary"
                        },
                        {
                          "name": "CLI displays bot section in JSON",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_section_in_json",
                          "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with JSON structure\nAND: JSON includes bot name and directory fields"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Open Panel",
                      "sequential_order": 4.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestOpenPanel",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_opens_panel_via_command_palette_happy_path",
                          "steps": "Given VS Code workspace with bot installed\nWhen User executes 'Open Status Panel' command\nThen Panel webview appears\nAnd Panel displays bot name\nAnd Panel displays workspace path\nAnd Panel displays behavior action section\nAnd Panel displays scope section\nAnd Panel displays instructions section"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is already open in VS Code\nWhen User executes 'Open Status Panel' command again\nThen Existing panel is brought to front\nAnd No duplicate panel is created"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given VS Code workspace with no bots installed\nWhen User executes 'Open Status Panel' command\nThen Panel displays error message\nAnd Error message indicates no bots found"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User activates panel command",
                          "text": "WHEN User activates panel command",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays bot name",
                          "text": "THEN System displays bot name",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays workspace path",
                          "text": "AND System displays workspace path",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays bot path",
                          "text": "AND System displays bot path",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "AND System displays available botss",
                          "text": "AND System displays available botss",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND System displays behavior action section",
                          "text": "AND System displays behavior action section",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND System displays scope section",
                          "text": "AND System displays scope section",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "AND System displays instructions section",
                          "text": "AND System displays instructions section",
                          "sequential_order": 8.0
                        }
                      ]
                    },
                    {
                      "name": "Exit CLI REPL",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestExitREPL",
                      "scenarios": [
                        {
                          "name": "User exits REPL with exit command",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_exits_repl_with_exit_command",
                          "steps": "GIVEN: CLI is running\nWHEN: user enters 'exit'\nTHEN: CLI terminates REPL loop"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Detect CLI Mode",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDetectCLIMode",
                      "scenarios": [
                        {
                          "name": "CLI detects TTY mode",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_detects_tty_mode",
                          "steps": "GIVEN: stdin/stdout are TTY\nWHEN: CLISession created without explicit mode\nTHEN: Session uses TTY mode"
                        },
                        {
                          "name": "CLI detects pipe mode",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_detects_pipe_mode",
                          "steps": "GIVEN: stdin/stdout are piped (not TTY)\nWHEN: CLISession created without explicit mode\nTHEN: Session uses markdown mode"
                        },
                        {
                          "name": "CLI accepts JSON mode flag",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_accepts_json_mode_flag",
                          "steps": "GIVEN: JSON mode explicitly requested\nWHEN: CLISession created with mode='json'\nTHEN: Session uses JSON mode"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Initialize CLI Session",
                      "sequential_order": 7.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestInitializeCLISession",
                      "scenarios": [
                        {
                          "name": "CLI session initializes bot (all channels)",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_initializes_bot",
                          "steps": "GIVEN: Bot and workspace configured\nWHEN: CLISession is created\nTHEN: Session wraps bot"
                        },
                        {
                          "name": "CLI session loads existing state (all channels)",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_loads_existing_state",
                          "steps": "GIVEN: Bot with saved state\nWHEN: CLISession is created\nTHEN: Bot loads previous state"
                        },
                        {
                          "name": "CLI session can execute commands (all channels)",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_session_can_execute_commands",
                          "steps": "GIVEN: Initialized CLI session\nWHEN: Command is executed\nTHEN: Session returns response"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Detect and Configure TTY/Non-TTY Input",
                  "sequential_order": 0.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "TTYDetector"
                  ],
                  "test_class": "TestDetectAndConfigureTTYNonTTYInput",
                  "scenarios": [
                    {
                      "name": "TTY detector identifies interactive terminal",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_tty_detector_identifies_interactive_terminal",
                      "steps": "GIVEN: stdin is connected to a TTY terminal\nWHEN: CLI detects TTY status\nTHEN: Interactive mode is detected\nAND: TTY adapters are used"
                    },
                    {
                      "name": "TTY detector identifies piped input",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_tty_detector_identifies_piped_input",
                      "steps": "GIVEN: stdin is piped from another process\nWHEN: CLI detects TTY status\nTHEN: Pipe mode is detected\nAND: Markdown adapters are used"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Launch CLI in Pipe Mode",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "AI Agent",
                    "Automation"
                  ],
                  "test_class": "TestStartCLISessionInPipeMode",
                  "scenarios": [
                    {
                      "name": "CLI launches in pipe mode",
                      "sequential_order": 0.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_launches_in_pipe_mode",
                      "steps": "GIVEN: CLISession is configured for pipe mode (non-TTY detected)\nWHEN: commands are piped\nTHEN: CLISession creates session without interactive prompts\nAND: CLI can execute commands in pipe mode\nAND: CLI uses markdown adapters for output"
                    },
                    {
                      "name": "CLI displays status in markdown format",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_status_in_markdown_format",
                      "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output in markdown format\nAND: Output includes markdown syntax (headers, bold, code blocks, lists)"
                    },
                    {
                      "name": "CLI displays header section in markdown",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_header_section_in_markdown",
                      "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with markdown formatting\nAND: Header uses markdown separators and headers"
                    },
                    {
                      "name": "CLI displays bot section in markdown",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_section_in_markdown",
                      "steps": "GIVEN: CLISession is initialized in pipe mode\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with markdown formatting\nAND: Bot section uses markdown headers, bold, and code blocks"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Launch CLI in Interactive Mode",
                  "sequential_order": 2.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestStartCLISessionInTTYMode",
                  "scenarios": [
                    {
                      "name": "CLI launches in interactive mode",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_launches_in_interactive_mode",
                      "steps": "GIVEN: CLISession is configured for interactive mode (TTY detected)\nWHEN: user runs CLI\nTHEN: CLISession wraps Bot\nAND: CLI can execute commands\nAND: CLI uses TTY adapters for output"
                    },
                    {
                      "name": "CLI loads existing behavior action state on launch",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_loads_existing_behavior_action_state_on_launch",
                      "steps": "GIVEN: CLISession is configured for interactive mode\nAND: behavior action state file exists\nWHEN: user runs CLI\nTHEN: Bot loads stored behavior action state"
                    },
                    {
                      "name": "CLI displays status on launch",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_status_on_launch",
                      "steps": "GIVEN: CLISession is initialized in interactive mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output with all required sections in correct order\nAND: Output format matches TTY adapter format (hard-coded expectations)"
                    },
                    {
                      "name": "CLI displays header section",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_header_section",
                      "steps": "GIVEN: CLISession is initialized\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with exact format\nAND: Header includes separator lines, centered bold text, description, and warning"
                    },
                    {
                      "name": "CLI displays bot section",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_section",
                      "steps": "GIVEN: CLISession is initialized\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with exact format\nAND: Bot section includes bot name, bot path, workspace path, and change path instructions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Launch CLI in JSON Mode",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Web View",
                    "API Client"
                  ],
                  "test_class": "TestStartCLISessionInJSONMode",
                  "scenarios": [
                    {
                      "name": "CLI launches in JSON mode",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_launches_in_json_mode",
                      "steps": "GIVEN: CLISession is configured for JSON mode (mode='json' set explicitly)\nWHEN: commands are executed\nTHEN: CLISession creates session\nAND: CLI can execute commands in JSON mode\nAND: CLI uses JSON adapters for output"
                    },
                    {
                      "name": "CLI displays status in JSON format",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_status_in_json_format",
                      "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays complete status output in JSON format\nAND: Output is valid JSON with required fields (name, bot_directory, workspace_directory, behavior_names, current_behavior)"
                    },
                    {
                      "name": "CLI displays header section in JSON",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_header_section_in_json",
                      "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays header section with JSON structure\nAND: Output is valid JSON dictionary"
                    },
                    {
                      "name": "CLI displays bot section in JSON",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_section_in_json",
                      "steps": "GIVEN: CLISession is initialized in JSON mode\nWHEN: user executes 'status' command\nTHEN: CLI displays bot section with JSON structure\nAND: JSON includes bot name and directory fields"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Open Panel",
                  "sequential_order": 4.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestOpenPanel",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_opens_panel_via_command_palette_happy_path",
                      "steps": "Given VS Code workspace with bot installed\nWhen User executes 'Open Status Panel' command\nThen Panel webview appears\nAnd Panel displays bot name\nAnd Panel displays workspace path\nAnd Panel displays behavior action section\nAnd Panel displays scope section\nAnd Panel displays instructions section"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is already open in VS Code\nWhen User executes 'Open Status Panel' command again\nThen Existing panel is brought to front\nAnd No duplicate panel is created"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given VS Code workspace with no bots installed\nWhen User executes 'Open Status Panel' command\nThen Panel displays error message\nAnd Error message indicates no bots found"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User activates panel command",
                      "text": "WHEN User activates panel command",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays bot name",
                      "text": "THEN System displays bot name",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays workspace path",
                      "text": "AND System displays workspace path",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays bot path",
                      "text": "AND System displays bot path",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND System displays available botss",
                      "text": "AND System displays available botss",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND System displays behavior action section",
                      "text": "AND System displays behavior action section",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND System displays scope section",
                      "text": "AND System displays scope section",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "AND System displays instructions section",
                      "text": "AND System displays instructions section",
                      "sequential_order": 8.0
                    }
                  ]
                },
                {
                  "name": "Exit CLI REPL",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestExitREPL",
                  "scenarios": [
                    {
                      "name": "User exits REPL with exit command",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_exits_repl_with_exit_command",
                      "steps": "GIVEN: CLI is running\nWHEN: user enters 'exit'\nTHEN: CLI terminates REPL loop"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/initialize_bot/test_initialize_bot_interface.py"
            },
            {
              "name": "Render Bot Interface",
              "sequential_order": 2.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Display CLI Header",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewSessionHeader",
                      "scenarios": [
                        {
                          "name": "CLI displays CLI STATUS section header when status command is run",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_cli_status_section_header_when_status_command_is_run",
                          "steps": "Given: CLI is initialized\nWhen: user enters 'status' command\nThen: CLI displays CLI STATUS section header\nAND: CLI shows section separator line\nAND: CLI shows '*** CLI STATUS section ***' header text\nAND: CLI shows description text explaining what the section contains\nAND: CLI shows warning text: 'You MUST DISPLAY this entire section in your response to the user exactly as you see it'\nAND: CLI shows subsection separator\nAND: CLI shows section separator after header"
                        },
                        {
                          "name": "CLI displays bot name with robot emoji in header",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_name_with_robot_emoji_in_header",
                          "steps": "Given CLI is initialized with story_bot\nAnd CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output contains heading with robot emoji and bot name\nAnd output shows Bot: story_bot"
                        },
                        {
                          "name": "CLI displays bot path in code block",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_path_in_code_block",
                          "steps": "Given CLI is initialized with story_bot at path C:/dev/augmented-teams/agile_bot/bots/story_bot\nWhen CLI renders the dashboard header\nThen output contains '**Bot Path:**' label\nAnd output shows code block with three backticks\nAnd output shows the full bot directory path: 'C:\\dev\\augmented-teams\\agile_bot\\bots\\story_bot'\nAnd output closes code block with three backticks"
                        },
                        {
                          "name": "CLI displays workspace name and path",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_workspace_name_and_path",
                          "steps": "Given CLI is initialized with workspace base_bot\nAnd workspace path is C:/dev/augmented-teams/agile_bot/bots/base_bot\nWhen CLI renders the dashboard header\nThen output contains ' **Workspace:** base_bot' with folder emoji\nAnd output shows code block with three backticks\nAnd output shows full workspace path: 'C:\\dev\\augmented-teams\\agile_bot\\bots\\base_bot'\nAnd output closes code block with three backticks"
                        },
                        {
                          "name": "CLI displays path change instructions",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_path_change_instructions",
                          "steps": "Given CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output contains 'To change path:' label\nAnd output shows code block with three backticks\nAnd output shows path command example: 'path demo/mob_minion              # Change to specific project'\nAnd output shows path command example: 'path ../another_bot               # Change to relative path'\nAnd output closes code block with three backticks"
                        },
                        {
                          "name": "CLI applies separator after header section",
                          "sequential_order": 6.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_applies_separator_after_header_section",
                          "steps": "Given CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output ends with horizontal separator line (subsection separator)"
                        },
                        {
                          "name": "CLI displays headless mode section when configured",
                          "sequential_order": 7.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_headless_mode_section_when_configured",
                          "steps": "Given: Headless mode is configured with API key\nWhen: CLI renders status display\nThen: CLI displays 'Headless Mode:' label\nAND: CLI shows 'Status: Available (configured)'\nAND: CLI shows API key prefix\nAND: CLI shows Usage section with headless command format\nAND: CLI shows Examples section with headless command examples\nAND: CLI applies subsection separator after headless section"
                        },
                        {
                          "name": "CLI displays active headless session when running",
                          "sequential_order": 8.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_active_headless_session_when_running",
                          "steps": "Given: Headless mode is configured\nAND: Active headless session is running\nWhen: CLI renders status display\nThen: CLI displays 'Active Session:' section\nAND: CLI shows Session ID\nAND: CLI shows session Status (running)\nAND: CLI shows Log file path"
                        },
                        {
                          "name": "CLI displays headless mode unavailable when not configured",
                          "sequential_order": 9.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_headless_mode_unavailable_when_not_configured",
                          "steps": "Given: Headless mode is not configured\nWhen: CLI renders status display\nThen: CLI displays 'Headless Mode:' label\nAND: CLI shows 'Status: Unavailable (not configured)'\nAND: CLI shows configuration instructions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI displays status\nTHEN CLI shows header with bot name AND workspace path",
                          "text": "WHEN CLI displays status\nTHEN CLI shows header with bot name AND workspace path",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN displaying header in terminal mode\nTHEN CLI uses plain text formatting",
                          "text": "WHEN displaying header in terminal mode\nTHEN CLI uses plain text formatting",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN displaying header in piped mode\nTHEN CLI uses markdown formatting",
                          "text": "WHEN displaying header in piped mode\nTHEN CLI uses markdown formatting",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN header is displayed\nTHEN CLI includes separator line after header",
                          "text": "WHEN header is displayed\nTHEN CLI includes separator line after header",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display CLI Bot Command in Navigation Menu Footer",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayCLIBotCommandInNavigationMenuFooter",
                      "scenarios": [
                        {
                          "name": "CLI displays bot command in footer",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_bot_command_in_footer",
                          "steps": "Given: CLI displays footer\nWhen: CLI renders footer\nThen: CLI shows available navigation commands"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI displays footer\nTHEN CLI shows available navigation commands",
                          "text": "WHEN CLI displays footer\nTHEN CLI shows available navigation commands",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN displaying footer\nTHEN CLI shows command syntax for navigation and actions",
                          "text": "WHEN displaying footer\nTHEN CLI shows command syntax for navigation and actions",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN displaying footer\nTHEN CLI includes examples of dot notation commands",
                          "text": "WHEN displaying footer\nTHEN CLI includes examples of dot notation commands",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN displaying commands\nTHEN CLI shows behavior.action.operation format examples",
                          "text": "WHEN displaying commands\nTHEN CLI shows behavior.action.operation format examples",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Piped Mode Instructions for AI Agents",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayPipedModeInstructionsForAIAgents",
                      "scenarios": [
                        {
                          "name": "CLI displays piped mode instructions in pipe mode",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_piped_mode_instructions_in_pipe_mode",
                          "steps": "GIVEN: REPLSession detects piped input\nWHEN: CLI initializes\nTHEN: CLI displays piped mode instructions header"
                        },
                        {
                          "name": "CLI omits piped mode instructions in interactive mode",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_omits_piped_mode_instructions_in_interactive_mode",
                          "steps": "GIVEN: REPLSession detects interactive TTY\nWHEN: CLI initializes\nTHEN: CLI does not display piped mode instructions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Headless Mode Status in CLI",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewHeadlessModeStatus",
                      "scenarios": [
                        {
                          "name": "CLI displays headless mode section when configured",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_headless_mode_section_when_configured",
                          "steps": "Given: CLI is initialized\nAnd: headless mode is configured with API key\nWhen: user enters 'status'\nThen: CLI displays headless mode section\nAND: CLI shows 'Headless Mode:' label\nAND: CLI shows 'Status: Available (configured)'\nAND: CLI shows 'API Key: key_2780b8...' (masked)\nAND: CLI shows 'Usage:' section with headless command format\nAND: CLI shows 'Examples:' section with example commands\nAND: CLI shows subsection separator after headless mode section"
                        },
                        {
                          "name": "CLI displays active headless session when running",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_active_headless_session_when_running",
                          "steps": "Given: CLI is initialized\nAnd: headless mode is configured\nAnd: active headless session is running\nWhen: user enters 'status'\nThen: CLI displays 'Active Session:' section\nAND: CLI shows 'Session ID: 2025-12-30-01-31-17'\nAND: CLI shows 'Status: running'\nAND: CLI shows 'Log:' with log file path"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI displays status\nTHEN CLI shows headless mode section",
                          "text": "WHEN CLI displays status\nTHEN CLI shows headless mode section",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN headless mode is configured\nTHEN CLI shows headless mode status as Available\nAND: CLI shows configured API key prefix\nAND: CLI shows usage examples\nAND: CLI shows command examples",
                          "text": "WHEN headless mode is configured\nTHEN CLI shows headless mode status as Available\nAND: CLI shows configured API key prefix\nAND: CLI shows usage examples\nAND: CLI shows command examples",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN headless mode is not configured\nTHEN CLI shows headless mode status as unavailable",
                          "text": "WHEN headless mode is not configured\nTHEN CLI shows headless mode status as unavailable",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN active headless session exists\nTHEN CLI shows active session section\nAND: CLI shows session ID\nAND: CLI shows session status\nAND: CLI shows log file path",
                          "text": "WHEN active headless session exists\nTHEN CLI shows active session section\nAND: CLI shows session ID\nAND: CLI shows session status\nAND: CLI shows log file path",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Session Status panel",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplaySessionStatus",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open displaying current bot status\nAnd Bot state has changed since panel was opened\nWhen User clicks refresh button\nThen Panel displays updated bot name\nAnd Panel displays updated workspace path\nAnd Panel displays updated behavior action section\nAnd Panel displays updated scope\nAnd Panel displays updated instructions"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at behavior shape and action clarify\nWhen Panel opens\nThen Panel displays current bot name\nAnd Panel displays current workspace path\nAnd Panel displays shape.clarify as current action"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks refresh button",
                          "text": "WHEN User clicks refresh button",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays bot name",
                          "text": "THEN System displays bot name",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays updated workspace path",
                          "text": "AND System displays updated workspace path",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays updated bot path",
                          "text": "AND System displays updated bot path",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "AND System displays updated available botss",
                          "text": "AND System displays updated available botss",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND System displays updated behavior action section",
                          "text": "AND System displays updated behavior action section",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND System displays updated scope section",
                          "text": "AND System displays updated scope section",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "AND System displays updated instructions section",
                          "text": "AND System displays updated instructions section",
                          "sequential_order": 8.0
                        }
                      ]
                    },
                    {
                      "name": "Toggle Panel Section",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestTogglePanelSection",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open with behaviors section collapsed\nWhen User clicks behaviors section header\nThen Behaviors section expands\nAnd User sees behavior tree content"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open with instructions section expanded\nWhen User clicks instructions section header\nThen Instructions section collapses\nAnd User no longer sees instructions content"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks section header",
                          "text": "WHEN User clicks section header",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System expands or collapses section",
                          "text": "THEN System expands or collapses section",
                          "sequential_order": 2.0
                        }
                      ]
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Display CLI Header",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewSessionHeader",
                  "scenarios": [
                    {
                      "name": "CLI displays CLI STATUS section header when status command is run",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_cli_status_section_header_when_status_command_is_run",
                      "steps": "Given: CLI is initialized\nWhen: user enters 'status' command\nThen: CLI displays CLI STATUS section header\nAND: CLI shows section separator line\nAND: CLI shows '*** CLI STATUS section ***' header text\nAND: CLI shows description text explaining what the section contains\nAND: CLI shows warning text: 'You MUST DISPLAY this entire section in your response to the user exactly as you see it'\nAND: CLI shows subsection separator\nAND: CLI shows section separator after header"
                    },
                    {
                      "name": "CLI displays bot name with robot emoji in header",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_name_with_robot_emoji_in_header",
                      "steps": "Given CLI is initialized with story_bot\nAnd CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output contains heading with robot emoji and bot name\nAnd output shows Bot: story_bot"
                    },
                    {
                      "name": "CLI displays bot path in code block",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_path_in_code_block",
                      "steps": "Given CLI is initialized with story_bot at path C:/dev/augmented-teams/agile_bot/bots/story_bot\nWhen CLI renders the dashboard header\nThen output contains '**Bot Path:**' label\nAnd output shows code block with three backticks\nAnd output shows the full bot directory path: 'C:\\dev\\augmented-teams\\agile_bot\\bots\\story_bot'\nAnd output closes code block with three backticks"
                    },
                    {
                      "name": "CLI displays workspace name and path",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_workspace_name_and_path",
                      "steps": "Given CLI is initialized with workspace base_bot\nAnd workspace path is C:/dev/augmented-teams/agile_bot/bots/base_bot\nWhen CLI renders the dashboard header\nThen output contains ' **Workspace:** base_bot' with folder emoji\nAnd output shows code block with three backticks\nAnd output shows full workspace path: 'C:\\dev\\augmented-teams\\agile_bot\\bots\\base_bot'\nAnd output closes code block with three backticks"
                    },
                    {
                      "name": "CLI displays path change instructions",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_path_change_instructions",
                      "steps": "Given CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output contains 'To change path:' label\nAnd output shows code block with three backticks\nAnd output shows path command example: 'path demo/mob_minion              # Change to specific project'\nAnd output shows path command example: 'path ../another_bot               # Change to relative path'\nAnd output closes code block with three backticks"
                    },
                    {
                      "name": "CLI applies separator after header section",
                      "sequential_order": 6.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_applies_separator_after_header_section",
                      "steps": "Given CLI is in piped mode\nWhen CLI renders the dashboard header\nThen output ends with horizontal separator line (subsection separator)"
                    },
                    {
                      "name": "CLI displays headless mode section when configured",
                      "sequential_order": 7.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_headless_mode_section_when_configured",
                      "steps": "Given: Headless mode is configured with API key\nWhen: CLI renders status display\nThen: CLI displays 'Headless Mode:' label\nAND: CLI shows 'Status: Available (configured)'\nAND: CLI shows API key prefix\nAND: CLI shows Usage section with headless command format\nAND: CLI shows Examples section with headless command examples\nAND: CLI applies subsection separator after headless section"
                    },
                    {
                      "name": "CLI displays active headless session when running",
                      "sequential_order": 8.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_active_headless_session_when_running",
                      "steps": "Given: Headless mode is configured\nAND: Active headless session is running\nWhen: CLI renders status display\nThen: CLI displays 'Active Session:' section\nAND: CLI shows Session ID\nAND: CLI shows session Status (running)\nAND: CLI shows Log file path"
                    },
                    {
                      "name": "CLI displays headless mode unavailable when not configured",
                      "sequential_order": 9.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_headless_mode_unavailable_when_not_configured",
                      "steps": "Given: Headless mode is not configured\nWhen: CLI renders status display\nThen: CLI displays 'Headless Mode:' label\nAND: CLI shows 'Status: Unavailable (not configured)'\nAND: CLI shows configuration instructions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI displays status\nTHEN CLI shows header with bot name AND workspace path",
                      "text": "WHEN CLI displays status\nTHEN CLI shows header with bot name AND workspace path",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN displaying header in terminal mode\nTHEN CLI uses plain text formatting",
                      "text": "WHEN displaying header in terminal mode\nTHEN CLI uses plain text formatting",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN displaying header in piped mode\nTHEN CLI uses markdown formatting",
                      "text": "WHEN displaying header in piped mode\nTHEN CLI uses markdown formatting",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN header is displayed\nTHEN CLI includes separator line after header",
                      "text": "WHEN header is displayed\nTHEN CLI includes separator line after header",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display CLI Bot Command in Navigation Menu Footer",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestDisplayCLIBotCommandInNavigationMenuFooter",
                  "scenarios": [
                    {
                      "name": "CLI displays bot command in footer",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_bot_command_in_footer",
                      "steps": "Given: CLI displays footer\nWhen: CLI renders footer\nThen: CLI shows available navigation commands"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI displays footer\nTHEN CLI shows available navigation commands",
                      "text": "WHEN CLI displays footer\nTHEN CLI shows available navigation commands",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN displaying footer\nTHEN CLI shows command syntax for navigation and actions",
                      "text": "WHEN displaying footer\nTHEN CLI shows command syntax for navigation and actions",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN displaying footer\nTHEN CLI includes examples of dot notation commands",
                      "text": "WHEN displaying footer\nTHEN CLI includes examples of dot notation commands",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN displaying commands\nTHEN CLI shows behavior.action.operation format examples",
                      "text": "WHEN displaying commands\nTHEN CLI shows behavior.action.operation format examples",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Piped Mode Instructions for AI Agents",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestDisplayPipedModeInstructionsForAIAgents",
                  "scenarios": [
                    {
                      "name": "CLI displays piped mode instructions in pipe mode",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_piped_mode_instructions_in_pipe_mode",
                      "steps": "GIVEN: REPLSession detects piped input\nWHEN: CLI initializes\nTHEN: CLI displays piped mode instructions header"
                    },
                    {
                      "name": "CLI omits piped mode instructions in interactive mode",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_omits_piped_mode_instructions_in_interactive_mode",
                      "steps": "GIVEN: REPLSession detects interactive TTY\nWHEN: CLI initializes\nTHEN: CLI does not display piped mode instructions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Headless Mode Status in CLI",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewHeadlessModeStatus",
                  "scenarios": [
                    {
                      "name": "CLI displays headless mode section when configured",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_headless_mode_section_when_configured",
                      "steps": "Given: CLI is initialized\nAnd: headless mode is configured with API key\nWhen: user enters 'status'\nThen: CLI displays headless mode section\nAND: CLI shows 'Headless Mode:' label\nAND: CLI shows 'Status: Available (configured)'\nAND: CLI shows 'API Key: key_2780b8...' (masked)\nAND: CLI shows 'Usage:' section with headless command format\nAND: CLI shows 'Examples:' section with example commands\nAND: CLI shows subsection separator after headless mode section"
                    },
                    {
                      "name": "CLI displays active headless session when running",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_active_headless_session_when_running",
                      "steps": "Given: CLI is initialized\nAnd: headless mode is configured\nAnd: active headless session is running\nWhen: user enters 'status'\nThen: CLI displays 'Active Session:' section\nAND: CLI shows 'Session ID: 2025-12-30-01-31-17'\nAND: CLI shows 'Status: running'\nAND: CLI shows 'Log:' with log file path"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI displays status\nTHEN CLI shows headless mode section",
                      "text": "WHEN CLI displays status\nTHEN CLI shows headless mode section",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN headless mode is configured\nTHEN CLI shows headless mode status as Available\nAND: CLI shows configured API key prefix\nAND: CLI shows usage examples\nAND: CLI shows command examples",
                      "text": "WHEN headless mode is configured\nTHEN CLI shows headless mode status as Available\nAND: CLI shows configured API key prefix\nAND: CLI shows usage examples\nAND: CLI shows command examples",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN headless mode is not configured\nTHEN CLI shows headless mode status as unavailable",
                      "text": "WHEN headless mode is not configured\nTHEN CLI shows headless mode status as unavailable",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN active headless session exists\nTHEN CLI shows active session section\nAND: CLI shows session ID\nAND: CLI shows session status\nAND: CLI shows log file path",
                      "text": "WHEN active headless session exists\nTHEN CLI shows active session section\nAND: CLI shows session ID\nAND: CLI shows session status\nAND: CLI shows log file path",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Session Status panel",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplaySessionStatus",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open displaying current bot status\nAnd Bot state has changed since panel was opened\nWhen User clicks refresh button\nThen Panel displays updated bot name\nAnd Panel displays updated workspace path\nAnd Panel displays updated behavior action section\nAnd Panel displays updated scope\nAnd Panel displays updated instructions"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at behavior shape and action clarify\nWhen Panel opens\nThen Panel displays current bot name\nAnd Panel displays current workspace path\nAnd Panel displays shape.clarify as current action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks refresh button",
                      "text": "WHEN User clicks refresh button",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays bot name",
                      "text": "THEN System displays bot name",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays updated workspace path",
                      "text": "AND System displays updated workspace path",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays updated bot path",
                      "text": "AND System displays updated bot path",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND System displays updated available botss",
                      "text": "AND System displays updated available botss",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND System displays updated behavior action section",
                      "text": "AND System displays updated behavior action section",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND System displays updated scope section",
                      "text": "AND System displays updated scope section",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "AND System displays updated instructions section",
                      "text": "AND System displays updated instructions section",
                      "sequential_order": 8.0
                    }
                  ]
                },
                {
                  "name": "Toggle Panel Section",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestTogglePanelSection",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open with behaviors section collapsed\nWhen User clicks behaviors section header\nThen Behaviors section expands\nAnd User sees behavior tree content"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open with instructions section expanded\nWhen User clicks instructions section header\nThen Instructions section collapses\nAnd User no longer sees instructions content"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks section header",
                      "text": "WHEN User clicks section header",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System expands or collapses section",
                      "text": "THEN System expands or collapses section",
                      "sequential_order": 2.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/initialize_bot/test_render_bot_interface.py"
            },
            {
              "name": "Set Workspace",
              "sequential_order": 0.5,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Manage Bot Registry",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "system",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestManageBotRegistry",
                      "scenarios": [
                        {
                          "name": "Get List of Registered Bots",
                          "sequential_order": 0.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_list_of_registered_bots",
                          "steps": ""
                        },
                        {
                          "name": "Get Active Bot",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_active_bot",
                          "steps": ""
                        },
                        {
                          "name": "Set Active Bot to Registered Bot",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_set_active_bot_to_registered_bot",
                          "steps": ""
                        },
                        {
                          "name": "Attempt to Set Unregistered Bot",
                          "sequential_order": 3.0,
                          "type": "error_path",
                          "background": [],
                          "test_method": "test_attempt_to_set_unregistered_bot",
                          "steps": ""
                        },
                        {
                          "name": "Set Active Bot to Current Bot",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_set_active_bot_to_current_bot",
                          "steps": ""
                        },
                        {
                          "name": "Child1",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Load and Display Workspace Context in CLI",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestLoadWorkspaceContext",
                      "scenarios": [
                        {
                          "name": "CLI loads and displays workspace context",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_loads_and_displays_workspace_context",
                          "steps": "GIVEN: Bot has workspace path\nAND: workspace contains story-graph.json\nWHEN: REPLSession initializes CLIBot\nTHEN: CLIBot loads workspace context from bot paths"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Change Workspace Path panel",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestChangeWorkspacePath",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open showing workspace at c:/dev/project_a\nAnd Workspace at c:/dev/project_b exists with different bot state\nWhen User changes workspace path to c:/dev/project_b\nThen Panel displays c:/dev/project_b as current workspace\nAnd Panel displays behavior action state from project_b\nAnd Panel refreshes all sections with project_b data"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open showing valid workspace\nWhen User changes workspace path to non-existent directory\nThen Panel displays error message\nAnd Error message indicates directory not found\nAnd Panel retains previous valid workspace"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel is open showing default workspace c:/dev/project_a\nWhen User changes workspace path to c:/dev/project_b\nAnd Panel displays project_b workspace and state\nAnd User refreshes panel\nThen Panel displays c:/dev/project_b as current workspace\nAnd Workspace path was persisted and restored"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User changes workspace path",
                          "text": "WHEN User changes workspace path",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays updated workspace path",
                          "text": "THEN System displays updated workspace path",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays behavior action state of new workspace",
                          "text": "AND System displays behavior action state of new workspace",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User sets workspace path",
                          "text": "WHEN User sets workspace path",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN System persists workspace path value",
                          "text": "THEN System persists workspace path value",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN Panel refreshes",
                          "text": "WHEN Panel refreshes",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "THEN System restores previously set workspace path",
                          "text": "THEN System restores previously set workspace path",
                          "sequential_order": 7.0
                        }
                      ]
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Manage Bot Registry",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "system",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestManageBotRegistry",
                  "scenarios": [
                    {
                      "name": "Get List of Registered Bots",
                      "sequential_order": 0.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_list_of_registered_bots",
                      "steps": ""
                    },
                    {
                      "name": "Get Active Bot",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_active_bot",
                      "steps": ""
                    },
                    {
                      "name": "Set Active Bot to Registered Bot",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_set_active_bot_to_registered_bot",
                      "steps": ""
                    },
                    {
                      "name": "Attempt to Set Unregistered Bot",
                      "sequential_order": 3.0,
                      "type": "error_path",
                      "background": [],
                      "test_method": "test_attempt_to_set_unregistered_bot",
                      "steps": ""
                    },
                    {
                      "name": "Set Active Bot to Current Bot",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_set_active_bot_to_current_bot",
                      "steps": ""
                    },
                    {
                      "name": "Child1",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Load and Display Workspace Context in CLI",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestLoadWorkspaceContext",
                  "scenarios": [
                    {
                      "name": "CLI loads and displays workspace context",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_loads_and_displays_workspace_context",
                      "steps": "GIVEN: Bot has workspace path\nAND: workspace contains story-graph.json\nWHEN: REPLSession initializes CLIBot\nTHEN: CLIBot loads workspace context from bot paths"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Change Workspace Path panel",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestChangeWorkspacePath",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open showing workspace at c:/dev/project_a\nAnd Workspace at c:/dev/project_b exists with different bot state\nWhen User changes workspace path to c:/dev/project_b\nThen Panel displays c:/dev/project_b as current workspace\nAnd Panel displays behavior action state from project_b\nAnd Panel refreshes all sections with project_b data"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open showing valid workspace\nWhen User changes workspace path to non-existent directory\nThen Panel displays error message\nAnd Error message indicates directory not found\nAnd Panel retains previous valid workspace"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel is open showing default workspace c:/dev/project_a\nWhen User changes workspace path to c:/dev/project_b\nAnd Panel displays project_b workspace and state\nAnd User refreshes panel\nThen Panel displays c:/dev/project_b as current workspace\nAnd Workspace path was persisted and restored"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User changes workspace path",
                      "text": "WHEN User changes workspace path",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays updated workspace path",
                      "text": "THEN System displays updated workspace path",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays behavior action state of new workspace",
                      "text": "AND System displays behavior action state of new workspace",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User sets workspace path",
                      "text": "WHEN User sets workspace path",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN System persists workspace path value",
                      "text": "THEN System persists workspace path value",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN Panel refreshes",
                      "text": "WHEN Panel refreshes",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "THEN System restores previously set workspace path",
                      "text": "THEN System restores previously set workspace path",
                      "sequential_order": 7.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/initialize_bot/test_set_workspace.py"
            }
          ],
          "story_groups": [],
          "stories": [],
          "test_file": "invoke_bot/initialize_bot/"
        },
        {
          "name": "Edit Story Map",
          "sequential_order": 1.0,
          "sub_epics": [
            {
              "name": "Filter Scope",
              "sequential_order": 0.0,
              "sub_epics": [
                {
                  "name": "Scope Stories",
                  "sequential_order": 0.0,
                  "sub_epics": [
                    {
                      "name": "Set Story Filter",
                      "sequential_order": 0.0,
                      "sub_epics": [],
                      "story_groups": [
                        {
                          "name": "",
                          "sequential_order": 0.0,
                          "type": "and",
                          "connector": null,
                          "stories": [
                            {
                              "name": "Add Filter Part To Story Scope",
                              "sequential_order": 0.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Filter Part To Story Scope using CLI",
                              "sequential_order": 1.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Filter Part To Story Scope In Panel",
                              "sequential_order": 2.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From Story Scope",
                              "sequential_order": 5.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From Story Scope using CLI",
                              "sequential_order": 6.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From Story Scope In Panel",
                              "sequential_order": 7.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Increment Filter Part To Story Scope",
                              "sequential_order": 8.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestAddIncrementFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Increment Filter Part To Story Scope Panel",
                              "sequential_order": 9.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestAddIncrementFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Increment Filter Part To Story Scope CLI",
                              "sequential_order": 10.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestAddIncrementFilterPartToStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Increment Filter Part From Story Scope",
                              "sequential_order": 11.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Increment Filter Part From Story Scope CLI",
                              "sequential_order": 12.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Increment Filter Part From Story Scope Panel",
                              "sequential_order": 13.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Scope By Stories Using CLI",
                              "sequential_order": 12.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterScopeByStoriesUsingCLI",
                              "scenarios": [
                                {
                                  "name": "Scope 'all' returns all stories via CLI",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_all_returns_all_stories_via_cli",
                                  "steps": "GIVEN: CLI session with story graph\nWHEN: scope set to 'all'\nTHEN: All stories accessible"
                                },
                                {
                                  "name": "Scope single story via CLI",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_single_story_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set to single story\nTHEN: Only specified story in scope"
                                },
                                {
                                  "name": "Scope single epic via CLI",
                                  "sequential_order": 3.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_single_epic_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set to single epic\nTHEN: Only specified epic in scope"
                                },
                                {
                                  "name": "Scope by increment priority via CLI",
                                  "sequential_order": 4.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_increment_priority_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set to increment priority\nTHEN: Only specified increment in scope"
                                },
                                {
                                  "name": "Scope by increment name via CLI",
                                  "sequential_order": 5.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_increment_name_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set to increment name\nTHEN: Only specified increment in scope"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            }
                          ]
                        }
                      ],
                      "stories": [
                        {
                          "name": "Add Filter Part To Story Scope",
                          "sequential_order": 0.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestAddFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Filter Part To Story Scope using CLI",
                          "sequential_order": 1.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestAddFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Filter Part To Story Scope In Panel",
                          "sequential_order": 2.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestAddFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From Story Scope",
                          "sequential_order": 5.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestRemoveFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From Story Scope using CLI",
                          "sequential_order": 6.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestRemoveFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From Story Scope In Panel",
                          "sequential_order": 7.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestRemoveFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Increment Filter Part To Story Scope",
                          "sequential_order": 8.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestAddIncrementFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Increment Filter Part To Story Scope Panel",
                          "sequential_order": 9.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestAddIncrementFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Increment Filter Part To Story Scope CLI",
                          "sequential_order": 10.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestAddIncrementFilterPartToStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Increment Filter Part From Story Scope",
                          "sequential_order": 11.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Increment Filter Part From Story Scope CLI",
                          "sequential_order": 12.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Increment Filter Part From Story Scope Panel",
                          "sequential_order": 13.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestRemoveIncrementFilterPartFromStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        }
                      ],
                      "test_file": "invoke_bot/edit_story_map/test_set_story_filter.py"
                    },
                    {
                      "name": "Filter Story Scope",
                      "sequential_order": 1.0,
                      "sub_epics": [],
                      "story_groups": [
                        {
                          "name": "",
                          "sequential_order": 0.0,
                          "type": "and",
                          "connector": null,
                          "stories": [
                            {
                              "name": "Filter Story Scope By Stories",
                              "sequential_order": 0.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterScopeByStories",
                              "scenarios": [
                                {
                                  "name": "Filter returns all when scope is all",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_returns_all_when_scope_is_all",
                                  "steps": "Given Story graph with multiple epics and increments\nWhen Filter with scope type 'all'\nThen Story graph contains all epics and increments"
                                },
                                {
                                  "name": "Filter by single story name returns matching story",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_by_single_story_name_returns_matching_story",
                                  "steps": "Given Story graph with multiple stories\nWhen Filter with single story name\nThen Story graph contains only matching story and its parent epic"
                                },
                                {
                                  "name": "Filter by single epic name returns matching epic",
                                  "sequential_order": 3.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_by_single_epic_name_returns_matching_epic",
                                  "steps": "Given Story graph with multiple epics\nWhen Filter with single epic name\nThen Story graph contains only matching epic and its increments"
                                },
                                {
                                  "name": "Filter by increment priorities returns matching increments",
                                  "sequential_order": 4.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_by_increment_priorities_returns_matching_increments",
                                  "steps": "Given Story graph with increments having different priorities\nWhen Filter with increment priorities\nThen Story graph contains only matching increments and their stories"
                                },
                                {
                                  "name": "Filter by increment names returns matching increments",
                                  "sequential_order": 5.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_by_increment_names_returns_matching_increments",
                                  "steps": "Given Story graph with increments having different names\nWhen Filter with increment names\nThen Story graph contains only matching increments and their stories"
                                },
                                {
                                  "name": "Filter returns parent epic when child story matches",
                                  "sequential_order": 6.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_filter_returns_parent_epic_when_child_story_matches",
                                  "steps": "Given Story graph with epic containing story\nWhen Scope set to story name\nThen Story and parent epic are both returned"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope by Stories Panel",
                              "sequential_order": 1.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterStoryScope",
                              "scenarios": [
                                {
                                  "name": "",
                                  "sequential_order": 18.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope section with full story hierarchy\nWhen User types Open Panel in scope filter\nThen Panel displays filtered hierarchy showing Open Panel story\nAnd Panel displays Open Panel parent sub-epic (Manage Panel Session)\nAnd Panel displays parent epic (Invoke Bot Through Panel)"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 19.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays full story hierarchy\nWhen User types Invoke Bot in scope filter\nThen Panel displays Invoke Bot epic\nAnd Panel displays all sub-epics under Invoke Bot\nAnd Sub-epics are initially collapsed"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 20.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays filtered scope showing only Open Panel story\nWhen User clicks clear filter button\nThen Panel displays all stories in full hierarchy\nAnd All epics are visible"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 21.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel is open\nWhen User types Open Panel in scope filter\nAnd Panel displays filtered hierarchy\nAnd User refreshes panel\nThen Panel displays same filtered hierarchy\nAnd Scope filter input shows Open Panel\nAnd Filter value was persisted and restored"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": [
                                {
                                  "name": "WHEN User types story name in filter",
                                  "text": "WHEN User types story name in filter",
                                  "sequential_order": 0.0
                                },
                                {
                                  "name": "THEN System refreshes story hierarchy based on new story scope",
                                  "text": "THEN System refreshes story hierarchy based on new story scope",
                                  "sequential_order": 1.0
                                },
                                {
                                  "name": "WHEN Filter matches epic",
                                  "text": "WHEN Filter matches epic",
                                  "sequential_order": 2.0
                                },
                                {
                                  "name": "THEN System displays epic with all sub-epics and stories collapsed beneath it",
                                  "text": "THEN System displays epic with all sub-epics and stories collapsed beneath it",
                                  "sequential_order": 3.0
                                },
                                {
                                  "name": "WHEN Filter matches sub-epic",
                                  "text": "WHEN Filter matches sub-epic",
                                  "sequential_order": 4.0
                                },
                                {
                                  "name": "THEN System displays sub-epic with all stories collapsed beneath it",
                                  "text": "THEN System displays sub-epic with all stories collapsed beneath it",
                                  "sequential_order": 5.0
                                },
                                {
                                  "name": "WHEN Filter matches story",
                                  "text": "WHEN Filter matches story",
                                  "sequential_order": 6.0
                                },
                                {
                                  "name": "THEN System displays that story with its acceptance criteria",
                                  "text": "THEN System displays that story with its acceptance criteria",
                                  "sequential_order": 7.0
                                },
                                {
                                  "name": "WHEN User clicks story with acceptance criteria",
                                  "text": "WHEN User clicks story with acceptance criteria",
                                  "sequential_order": 8.0
                                },
                                {
                                  "name": "THEN System expands story showing acceptance criteria list",
                                  "text": "THEN System expands story showing acceptance criteria list",
                                  "sequential_order": 9.0
                                },
                                {
                                  "name": "WHEN Filter matches multiple items",
                                  "text": "WHEN Filter matches multiple items",
                                  "sequential_order": 10.0
                                },
                                {
                                  "name": "THEN System displays all matches in hierarchical format preserving parent-child relationships",
                                  "text": "THEN System displays all matches in hierarchical format preserving parent-child relationships",
                                  "sequential_order": 11.0
                                },
                                {
                                  "name": "WHEN User clicks clear filter button",
                                  "text": "WHEN User clicks clear filter button",
                                  "sequential_order": 12.0
                                },
                                {
                                  "name": "THEN System displays all stories",
                                  "text": "THEN System displays all stories",
                                  "sequential_order": 13.0
                                },
                                {
                                  "name": "WHEN User sets scope filter",
                                  "text": "WHEN User sets scope filter",
                                  "sequential_order": 14.0
                                },
                                {
                                  "name": "THEN System persists scope filter value",
                                  "text": "THEN System persists scope filter value",
                                  "sequential_order": 15.0
                                },
                                {
                                  "name": "WHEN Panel refreshes",
                                  "text": "WHEN Panel refreshes",
                                  "sequential_order": 16.0
                                },
                                {
                                  "name": "THEN System restores previously set scope filter",
                                  "text": "THEN System restores previously set scope filter",
                                  "sequential_order": 17.0
                                }
                              ]
                            },
                            {
                              "name": "Filter Story Scope By Files",
                              "sequential_order": 2.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterScopeByFiles",
                              "scenarios": [
                                {
                                  "name": "File Filter Includes Matching Files",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_filter_includes_matching_files",
                                  "steps": ""
                                },
                                {
                                  "name": "FileFilter excludes files matching exclude patterns",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_filter_excludes_matching_files",
                                  "steps": "Given A list of files and a FileFilter with exclude patterns\nWhen filter_files() is called\nThen Files matching exclude patterns are removed"
                                },
                                {
                                  "name": "FileFilter combines include and exclude patterns",
                                  "sequential_order": 3.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_filter_combines_include_and_exclude",
                                  "steps": "Given A list of files and a FileFilter with both include and exclude patterns\nWhen filter_files() is called\nThen Files must match include AND not match exclude"
                                },
                                {
                                  "name": "FileFilter returns all files when no patterns specified",
                                  "sequential_order": 4.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_filter_returns_all_when_no_patterns",
                                  "steps": "Given A list of files and a FileFilter with no patterns\nWhen filter_files() is called\nThen All files are returned"
                                },
                                {
                                  "name": "FileFilter handles specific file paths (not just globs)",
                                  "sequential_order": 5.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_filter_handles_specific_file_paths",
                                  "steps": "Given A list of files and a FileFilter with specific file path\nWhen filter_files() is called\nThen Only the specific file is included"
                                },
                                {
                                  "name": "File discovery and filtering work together",
                                  "sequential_order": 6.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_file_discovery_and_filtering_integration",
                                  "steps": "Given A FileDiscovery component and a FileFilter\nWhen Files are discovered and then filtered\nThen Only matching files are returned\nThen This test verifies the integration between FileDiscovery and FileFilter,\nThen which was the core fix for the validation scope bug."
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope By Files CLI",
                              "sequential_order": 3.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope By Files Panel",
                              "sequential_order": 4.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope By Increments",
                              "sequential_order": 5.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestGetFilesFilteredByStoryScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope By Increments CLI",
                              "sequential_order": 6.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Story Scope By Increments Panel",
                              "sequential_order": 7.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            }
                          ]
                        }
                      ],
                      "stories": [
                        {
                          "name": "Filter Story Scope By Stories",
                          "sequential_order": 0.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestFilterScopeByStories",
                          "scenarios": [
                            {
                              "name": "Filter returns all when scope is all",
                              "sequential_order": 1.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_returns_all_when_scope_is_all",
                              "steps": "Given Story graph with multiple epics and increments\nWhen Filter with scope type 'all'\nThen Story graph contains all epics and increments"
                            },
                            {
                              "name": "Filter by single story name returns matching story",
                              "sequential_order": 2.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_by_single_story_name_returns_matching_story",
                              "steps": "Given Story graph with multiple stories\nWhen Filter with single story name\nThen Story graph contains only matching story and its parent epic"
                            },
                            {
                              "name": "Filter by single epic name returns matching epic",
                              "sequential_order": 3.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_by_single_epic_name_returns_matching_epic",
                              "steps": "Given Story graph with multiple epics\nWhen Filter with single epic name\nThen Story graph contains only matching epic and its increments"
                            },
                            {
                              "name": "Filter by increment priorities returns matching increments",
                              "sequential_order": 4.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_by_increment_priorities_returns_matching_increments",
                              "steps": "Given Story graph with increments having different priorities\nWhen Filter with increment priorities\nThen Story graph contains only matching increments and their stories"
                            },
                            {
                              "name": "Filter by increment names returns matching increments",
                              "sequential_order": 5.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_by_increment_names_returns_matching_increments",
                              "steps": "Given Story graph with increments having different names\nWhen Filter with increment names\nThen Story graph contains only matching increments and their stories"
                            },
                            {
                              "name": "Filter returns parent epic when child story matches",
                              "sequential_order": 6.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_filter_returns_parent_epic_when_child_story_matches",
                              "steps": "Given Story graph with epic containing story\nWhen Scope set to story name\nThen Story and parent epic are both returned"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope by Stories Panel",
                          "sequential_order": 1.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestFilterStoryScope",
                          "scenarios": [
                            {
                              "name": "",
                              "sequential_order": 18.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope section with full story hierarchy\nWhen User types Open Panel in scope filter\nThen Panel displays filtered hierarchy showing Open Panel story\nAnd Panel displays Open Panel parent sub-epic (Manage Panel Session)\nAnd Panel displays parent epic (Invoke Bot Through Panel)"
                            },
                            {
                              "name": "",
                              "sequential_order": 19.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays full story hierarchy\nWhen User types Invoke Bot in scope filter\nThen Panel displays Invoke Bot epic\nAnd Panel displays all sub-epics under Invoke Bot\nAnd Sub-epics are initially collapsed"
                            },
                            {
                              "name": "",
                              "sequential_order": 20.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays filtered scope showing only Open Panel story\nWhen User clicks clear filter button\nThen Panel displays all stories in full hierarchy\nAnd All epics are visible"
                            },
                            {
                              "name": "",
                              "sequential_order": 21.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel is open\nWhen User types Open Panel in scope filter\nAnd Panel displays filtered hierarchy\nAnd User refreshes panel\nThen Panel displays same filtered hierarchy\nAnd Scope filter input shows Open Panel\nAnd Filter value was persisted and restored"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": [
                            {
                              "name": "WHEN User types story name in filter",
                              "text": "WHEN User types story name in filter",
                              "sequential_order": 0.0
                            },
                            {
                              "name": "THEN System refreshes story hierarchy based on new story scope",
                              "text": "THEN System refreshes story hierarchy based on new story scope",
                              "sequential_order": 1.0
                            },
                            {
                              "name": "WHEN Filter matches epic",
                              "text": "WHEN Filter matches epic",
                              "sequential_order": 2.0
                            },
                            {
                              "name": "THEN System displays epic with all sub-epics and stories collapsed beneath it",
                              "text": "THEN System displays epic with all sub-epics and stories collapsed beneath it",
                              "sequential_order": 3.0
                            },
                            {
                              "name": "WHEN Filter matches sub-epic",
                              "text": "WHEN Filter matches sub-epic",
                              "sequential_order": 4.0
                            },
                            {
                              "name": "THEN System displays sub-epic with all stories collapsed beneath it",
                              "text": "THEN System displays sub-epic with all stories collapsed beneath it",
                              "sequential_order": 5.0
                            },
                            {
                              "name": "WHEN Filter matches story",
                              "text": "WHEN Filter matches story",
                              "sequential_order": 6.0
                            },
                            {
                              "name": "THEN System displays that story with its acceptance criteria",
                              "text": "THEN System displays that story with its acceptance criteria",
                              "sequential_order": 7.0
                            },
                            {
                              "name": "WHEN User clicks story with acceptance criteria",
                              "text": "WHEN User clicks story with acceptance criteria",
                              "sequential_order": 8.0
                            },
                            {
                              "name": "THEN System expands story showing acceptance criteria list",
                              "text": "THEN System expands story showing acceptance criteria list",
                              "sequential_order": 9.0
                            },
                            {
                              "name": "WHEN Filter matches multiple items",
                              "text": "WHEN Filter matches multiple items",
                              "sequential_order": 10.0
                            },
                            {
                              "name": "THEN System displays all matches in hierarchical format preserving parent-child relationships",
                              "text": "THEN System displays all matches in hierarchical format preserving parent-child relationships",
                              "sequential_order": 11.0
                            },
                            {
                              "name": "WHEN User clicks clear filter button",
                              "text": "WHEN User clicks clear filter button",
                              "sequential_order": 12.0
                            },
                            {
                              "name": "THEN System displays all stories",
                              "text": "THEN System displays all stories",
                              "sequential_order": 13.0
                            },
                            {
                              "name": "WHEN User sets scope filter",
                              "text": "WHEN User sets scope filter",
                              "sequential_order": 14.0
                            },
                            {
                              "name": "THEN System persists scope filter value",
                              "text": "THEN System persists scope filter value",
                              "sequential_order": 15.0
                            },
                            {
                              "name": "WHEN Panel refreshes",
                              "text": "WHEN Panel refreshes",
                              "sequential_order": 16.0
                            },
                            {
                              "name": "THEN System restores previously set scope filter",
                              "text": "THEN System restores previously set scope filter",
                              "sequential_order": 17.0
                            }
                          ]
                        },
                        {
                          "name": "Filter Story Scope By Files",
                          "sequential_order": 2.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestFilterScopeByFiles",
                          "scenarios": [
                            {
                              "name": "File Filter Includes Matching Files",
                              "sequential_order": 1.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_filter_includes_matching_files",
                              "steps": ""
                            },
                            {
                              "name": "FileFilter excludes files matching exclude patterns",
                              "sequential_order": 2.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_filter_excludes_matching_files",
                              "steps": "Given A list of files and a FileFilter with exclude patterns\nWhen filter_files() is called\nThen Files matching exclude patterns are removed"
                            },
                            {
                              "name": "FileFilter combines include and exclude patterns",
                              "sequential_order": 3.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_filter_combines_include_and_exclude",
                              "steps": "Given A list of files and a FileFilter with both include and exclude patterns\nWhen filter_files() is called\nThen Files must match include AND not match exclude"
                            },
                            {
                              "name": "FileFilter returns all files when no patterns specified",
                              "sequential_order": 4.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_filter_returns_all_when_no_patterns",
                              "steps": "Given A list of files and a FileFilter with no patterns\nWhen filter_files() is called\nThen All files are returned"
                            },
                            {
                              "name": "FileFilter handles specific file paths (not just globs)",
                              "sequential_order": 5.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_filter_handles_specific_file_paths",
                              "steps": "Given A list of files and a FileFilter with specific file path\nWhen filter_files() is called\nThen Only the specific file is included"
                            },
                            {
                              "name": "File discovery and filtering work together",
                              "sequential_order": 6.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_file_discovery_and_filtering_integration",
                              "steps": "Given A FileDiscovery component and a FileFilter\nWhen Files are discovered and then filtered\nThen Only matching files are returned\nThen This test verifies the integration between FileDiscovery and FileFilter,\nThen which was the core fix for the validation scope bug."
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope By Files CLI",
                          "sequential_order": 3.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope By Files Panel",
                          "sequential_order": 4.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope By Increments",
                          "sequential_order": 5.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestGetFilesFilteredByStoryScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope By Increments CLI",
                          "sequential_order": 6.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter Story Scope By Increments Panel",
                          "sequential_order": 7.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        }
                      ],
                      "test_file": "invoke_bot/edit_story_map/test_display_scope.py"
                    },
                    {
                      "name": "Manage Story Scope",
                      "sequential_order": 2.0,
                      "sub_epics": [],
                      "story_groups": [
                        {
                          "name": "",
                          "sequential_order": 0.0,
                          "type": "and",
                          "connector": null,
                          "stories": [
                            {
                              "name": "Persist Scope",
                              "sequential_order": 0.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestPersistScope",
                              "scenarios": [
                                {
                                  "name": "Scope persists across bot invocations",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_persists_across_bot_invocations",
                                  "steps": "Given Bot with scope set\nWhen Bot is reloaded\nThen Scope is restored from workflow state"
                                },
                                {
                                  "name": "Scope persists after action execution",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_persists_after_action_execution",
                                  "steps": "Given Bot with scope set\nWhen Action executes and completes\nThen Scope remains active for next action"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Clear Scope",
                              "sequential_order": 2.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestClearScope",
                              "scenarios": [
                                {
                                  "name": "Clear scope with show_all parameter",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_clear_scope_with_show_all_parameter",
                                  "steps": "Given Bot with scope set\nWhen Scope cleared with show_all=True\nThen Scope is cleared and all content is shown"
                                },
                                {
                                  "name": "Clear scope without show_all parameter",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_clear_scope_without_show_all_parameter",
                                  "steps": "Given Bot with scope set\nWhen Scope cleared without show_all parameter\nThen Scope is cleared"
                                },
                                {
                                  "name": "Actions after clear process all content",
                                  "sequential_order": 3.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_actions_after_clear_process_all_content",
                                  "steps": "Given Bot had scope set, then cleared\nWhen Action executes\nThen Action processes all content without filtering"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Display Build Scope Through CLI",
                              "sequential_order": 3.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestDisplayBuildScopeThroughCLI",
                              "scenarios": [
                                {
                                  "name": "Display active build scope",
                                  "sequential_order": 1.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": "test_display_active_build_scope",
                                  "steps": "GIVEN: Build scope is set\nWHEN: user views build instructions\nTHEN: CLI displays active scope filter"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Show All Scope Through Panel",
                              "sequential_order": 4.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestShowAllScopeThroughPanel",
                              "scenarios": [
                                {
                                  "name": "",
                                  "sequential_order": 6.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": "test_user_clicks_show_all_to_clear_filter",
                                  "steps": "Given Panel displays filtered scope showing only Open Panel story\nAnd Show All button is visible\nWhen User clicks Show All button\nThen Panel calls scope showall via CLI\nAnd Scope filter is cleared\nAnd Panel displays all epics, sub-epics, and stories\nAnd Filter input is empty"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 7.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": "test_show_all_button_is_visible_when_scope_is_filtered",
                                  "steps": "Given Panel has no scope filter applied\nWhen User views scope section\nThen Show All button is not visible\nWhen User applies filter to scope\nThen Show All button becomes visible"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": [
                                {
                                  "name": "WHEN User has filtered scope",
                                  "text": "WHEN User has filtered scope",
                                  "sequential_order": 0.0
                                },
                                {
                                  "name": "THEN System displays Show All button",
                                  "text": "THEN System displays Show All button",
                                  "sequential_order": 1.0
                                },
                                {
                                  "name": "WHEN User clicks Show All button",
                                  "text": "WHEN User clicks Show All button",
                                  "sequential_order": 2.0
                                },
                                {
                                  "name": "THEN System calls scope showall command via CLI",
                                  "text": "THEN System calls scope showall command via CLI",
                                  "sequential_order": 3.0
                                },
                                {
                                  "name": "AND System clears scope filter",
                                  "text": "AND System clears scope filter",
                                  "sequential_order": 4.0
                                },
                                {
                                  "name": "AND Panel displays complete unfiltered story hierarchy",
                                  "text": "AND Panel displays complete unfiltered story hierarchy",
                                  "sequential_order": 5.0
                                }
                              ]
                            },
                            {
                              "name": "Open Story Files",
                              "sequential_order": 5.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestOpenStoryFiles",
                              "scenarios": [
                                {
                                  "name": "",
                                  "sequential_order": 1.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope section with graph link\nWhen User clicks Graph link\nThen VS Code opens story-graph.json in editor\nAnd File is displayed with JSON syntax highlighting"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 2.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope section with map link\nWhen User clicks map link\nThen VS Code opens story-map.drawio in diagram viewer\nAnd Diagram is displayed with Draw.io extension"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 3.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays link to non-existent file\nWhen User clicks link\nThen Panel displays error message\nAnd Error message indicates file not found"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 4.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": "test_story_graph_and_story_map_links_always_visible",
                                  "steps": "Given Panel displays scope section\nAnd Scope may be filtered or showing all stories\nWhen User views scope header\nThen story-graph.json link is always visible\nAnd story-map.md link is always visible\nAnd Links persist regardless of filter state\nAnd Links are positioned consistently in header"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": [
                                {
                                  "name": "WHEN User clicks graph link",
                                  "text": "WHEN User clicks graph link",
                                  "sequential_order": 1.0
                                },
                                {
                                  "name": "THEN System opens story-graph.json in editor",
                                  "text": "THEN System opens story-graph.json in editor",
                                  "sequential_order": 2.0
                                },
                                {
                                  "name": "WHEN User clicks map link",
                                  "text": "WHEN User clicks map link",
                                  "sequential_order": 3.0
                                },
                                {
                                  "name": "THEN System opens story-map.drawio in diagram viewer",
                                  "text": "THEN System opens story-map.drawio in diagram viewer",
                                  "sequential_order": 4.0
                                },
                                {
                                  "name": "WHEN System cannot open file",
                                  "text": "WHEN System cannot open file",
                                  "sequential_order": 5.0
                                },
                                {
                                  "name": "THEN System displays error message",
                                  "text": "THEN System displays error message",
                                  "sequential_order": 6.0
                                }
                              ]
                            },
                            {
                              "name": "Display Filtered Story Graph Through CLI",
                              "sequential_order": 6.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestDisplayFilteredKnowledgeGraphThroughCLI",
                              "scenarios": [
                                {
                                  "name": "Display knowledge graph with scope filter",
                                  "sequential_order": 1.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": "test_display_knowledge_graph_with_scope_filter",
                                  "steps": "GIVEN: Scope filter is active\nWHEN: user views build instructions\nTHEN: CLI displays filtered knowledge graph"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Display Story Hierarchy Panel",
                              "sequential_order": 7.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestDisplayStoryScopeHierarchy",
                              "scenarios": [
                                {
                                  "name": "",
                                  "sequential_order": 1.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story graph has epics with nested sub-epics\nWhen User views scope section\nThen Panel displays epic names (Invoke Bot)\nWhen User expands Invoke Bot epic\nThen Panel displays sub-epics (Invoke Bot Through Panel, Invoke Bot Through REPL)\nWhen User expands Invoke Bot Through Panel sub-epic\nThen Panel displays nested sub-epics (Manage Panel Session, Navigate Behaviors)\nWhen User expands Manage Panel Session sub-epic\nThen Panel displays stories (Open Panel, Display Session Status)"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 2.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story has test link displayed\nAnd Test file is test_manage_panel_session.spec.js\nAnd Test class is TestOpenPanel\nWhen User clicks test link for Open Panel story\nThen VS Code opens test_manage_panel_session.spec.js file\nAnd Editor scrolls to TestOpenPanel class"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 3.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story has story file link displayed\nAnd Story file is Open Panel.md\nWhen User clicks story link for Open Panel\nThen VS Code opens Open Panel.md file in editor"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 4.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story has test link displayed\nAnd Test file does not exist\nWhen User clicks test link\nThen Panel displays error message\nAnd Error message indicates file not found"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 5.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Epic has test file\nAnd Sub-epic has test file\nAnd Story has test class\nAnd Scenario has test method\nWhen Panel renders scope hierarchy\nThen Test tube icon appears next to epic name\nAnd Test tube icon appears next to sub-epic name\nAnd Test tube icon appears next to story name\nAnd Test tube icon appears next to scenario name\nAnd All test tube icons show correct test_tube.png image\nAnd Test tube icons are large enough to see clearly"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 6.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope hierarchy with epics and sub-epics\nWhen User clicks epic name\nThen VS Code reveals epic folder in explorer\nWhen User clicks sub-epic name\nThen VS Code reveals sub-epic folder in explorer"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 7.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope hierarchy with stories\nAnd Story has matching markdown file\nWhen User clicks story name\nThen VS Code opens story markdown file in editor"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 8.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story has scenarios with test methods\nAnd Scenario test method is at line 145 in test file\nWhen User clicks scenario test tube icon\nThen VS Code opens test file\nAnd Editor scrolls to line 145\nAnd Test method definition is visible at cursor"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 9.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Story markdown file has scenario sections with anchors\nAnd Scenario is named User expands collapsed section\nWhen User clicks scenario name in panel\nThen VS Code opens story markdown file\nAnd Editor scrolls to scenario anchor\nAnd Scenario section is visible with heading"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 10.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Epic has matching folder in docs/stories/map\nAnd Sub-epic has matching folder\nWhen User clicks epic name link\nThen VS Code reveals folder in explorer view\nWhen User clicks sub-epic name link\nThen VS Code reveals sub-epic folder in explorer view"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": [
                                {
                                  "name": "WHEN User views story scope",
                                  "text": "WHEN User views story scope",
                                  "sequential_order": 1.0
                                },
                                {
                                  "name": "THEN System displays epic list collapsed",
                                  "text": "THEN System displays epic list collapsed",
                                  "sequential_order": 2.0
                                },
                                {
                                  "name": "WHEN User clicks collapsed epic expand icon",
                                  "text": "WHEN User clicks collapsed epic expand icon",
                                  "sequential_order": 3.0
                                },
                                {
                                  "name": "AND epic has sub-epics",
                                  "text": "AND epic has sub-epics",
                                  "sequential_order": 4.0
                                },
                                {
                                  "name": "THEN System expands epic showing sub-epics collapsed beneath it",
                                  "text": "THEN System expands epic showing sub-epics collapsed beneath it",
                                  "sequential_order": 5.0
                                },
                                {
                                  "name": "WHEN User clicks epic name",
                                  "text": "WHEN User clicks epic name",
                                  "sequential_order": 6.0
                                },
                                {
                                  "name": "AND matching epic folder exists",
                                  "text": "AND matching epic folder exists",
                                  "sequential_order": 7.0
                                },
                                {
                                  "name": "THEN System opens epic folder in IDE explorer",
                                  "text": "THEN System opens epic folder in IDE explorer",
                                  "sequential_order": 8.0
                                },
                                {
                                  "name": "WHEN Epic has test file",
                                  "text": "WHEN Epic has test file",
                                  "sequential_order": 9.0
                                },
                                {
                                  "name": "THEN System displays test tube icon next to epic name",
                                  "text": "THEN System displays test tube icon next to epic name",
                                  "sequential_order": 10.0
                                },
                                {
                                  "name": "WHEN User clicks epic test link",
                                  "text": "WHEN User clicks epic test link",
                                  "sequential_order": 11.0
                                },
                                {
                                  "name": "THEN System opens test file in editor",
                                  "text": "THEN System opens test file in editor",
                                  "sequential_order": 12.0
                                },
                                {
                                  "name": "WHEN User clicks collapsed sub-epic expand icon",
                                  "text": "WHEN User clicks collapsed sub-epic expand icon",
                                  "sequential_order": 13.0
                                },
                                {
                                  "name": "AND matching sub-epic has stories",
                                  "text": "AND matching sub-epic has stories",
                                  "sequential_order": 14.0
                                },
                                {
                                  "name": "THEN System expands sub-epic showing stories collapsed beneath it",
                                  "text": "THEN System expands sub-epic showing stories collapsed beneath it",
                                  "sequential_order": 15.0
                                },
                                {
                                  "name": "WHEN Sub-epic has test file",
                                  "text": "WHEN Sub-epic has test file",
                                  "sequential_order": 16.0
                                },
                                {
                                  "name": "THEN System displays test tube icon next to sub-epic name",
                                  "text": "THEN System displays test tube icon next to sub-epic name",
                                  "sequential_order": 17.0
                                },
                                {
                                  "name": "WHEN User clicks sub-epic test link",
                                  "text": "WHEN User clicks sub-epic test link",
                                  "sequential_order": 18.0
                                },
                                {
                                  "name": "THEN System opens test file in editor",
                                  "text": "THEN System opens test file in editor",
                                  "sequential_order": 19.0
                                },
                                {
                                  "name": "WHEN User clicks sub-epic name",
                                  "text": "WHEN User clicks sub-epic name",
                                  "sequential_order": 20.0
                                },
                                {
                                  "name": "THEN System opens sub-epic folder in IDE explorer",
                                  "text": "THEN System opens sub-epic folder in IDE explorer",
                                  "sequential_order": 21.0
                                },
                                {
                                  "name": "WHEN User clicks collapsed story expand icon",
                                  "text": "WHEN User clicks collapsed story expand icon",
                                  "sequential_order": 22.0
                                },
                                {
                                  "name": "AND matching sub-epic has stories",
                                  "text": "AND matching sub-epic has stories",
                                  "sequential_order": 23.0
                                },
                                {
                                  "name": "THEN System expands story showing scenarios collapsed beneath it",
                                  "text": "THEN System expands story showing scenarios collapsed beneath it",
                                  "sequential_order": 24.0
                                },
                                {
                                  "name": "WHEN User clicks story name",
                                  "text": "WHEN User clicks story name",
                                  "sequential_order": 25.0
                                },
                                {
                                  "name": "THEN System opens story markdown file in editor",
                                  "text": "THEN System opens story markdown file in editor",
                                  "sequential_order": 26.0
                                },
                                {
                                  "name": "WHEN Story has test file",
                                  "text": "WHEN Story has test file",
                                  "sequential_order": 27.0
                                },
                                {
                                  "name": "THEN System displays test tube icon next to story name",
                                  "text": "THEN System displays test tube icon next to story name",
                                  "sequential_order": 28.0
                                },
                                {
                                  "name": "WHEN User clicks story test link",
                                  "text": "WHEN User clicks story test link",
                                  "sequential_order": 29.0
                                },
                                {
                                  "name": "THEN System opens test file at test class",
                                  "text": "THEN System opens test file at test class",
                                  "sequential_order": 30.0
                                },
                                {
                                  "name": "WHEN User clicks collapsed story expand icon",
                                  "text": "WHEN User clicks collapsed story expand icon",
                                  "sequential_order": 31.0
                                },
                                {
                                  "name": "THEN System expands story showing scenarios",
                                  "text": "THEN System expands story showing scenarios",
                                  "sequential_order": 32.0
                                },
                                {
                                  "name": "WHEN User clicks scenario name",
                                  "text": "WHEN User clicks scenario name",
                                  "sequential_order": 33.0
                                },
                                {
                                  "name": "THEN System opens story markdown file at scenario anchor",
                                  "text": "THEN System opens story markdown file at scenario anchor",
                                  "sequential_order": 34.0
                                },
                                {
                                  "name": "WHEN Scenario has test method",
                                  "text": "WHEN Scenario has test method",
                                  "sequential_order": 35.0
                                },
                                {
                                  "name": "THEN System displays test tube icon next to scenario name",
                                  "text": "THEN System displays test tube icon next to scenario name",
                                  "sequential_order": 36.0
                                },
                                {
                                  "name": "WHEN User clicks scenario test link",
                                  "text": "WHEN User clicks scenario test link",
                                  "sequential_order": 37.0
                                },
                                {
                                  "name": "THEN System opens test file at scenario test method line",
                                  "text": "THEN System opens test file at scenario test method line",
                                  "sequential_order": 38.0
                                },
                                {
                                  "name": "WHEN Test tube icon is displayed",
                                  "text": "WHEN Test tube icon is displayed",
                                  "sequential_order": 39.0
                                },
                                {
                                  "name": "THEN System shows correct test tube image",
                                  "text": "THEN System shows correct test tube image",
                                  "sequential_order": 40.0
                                },
                                {
                                  "name": "WHEN User clicks epic or sub-epic or story name",
                                  "text": "WHEN User clicks epic or sub-epic or story name",
                                  "sequential_order": 41.0
                                },
                                {
                                  "name": "THEN System opens corresponding file or folder",
                                  "text": "THEN System opens corresponding file or folder",
                                  "sequential_order": 42.0
                                }
                              ]
                            },
                            {
                              "name": "Navigate Story Graph Using CLI",
                              "sequential_order": 7.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestNavigateStoryGraphUsingCLI",
                              "scenarios": [
                                {
                                  "name": "Navigate story graph with scope via CLI",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_navigate_story_graph_with_scope_via_cli",
                                  "steps": "GIVEN: CLI session with story graph and scope\nWHEN: navigation commands used\nTHEN: Navigation respects scope"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Create Scope",
                              "sequential_order": 8.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestCreateScope",
                              "scenarios": [
                                {
                                  "name": "Scope created with different parameter combinations",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_created_with_different_parameter_combinations",
                                  "steps": "GIVEN: Parameters dict with scope configuration\nWHEN: ActionScope instantiated with parameters\nTHEN: ActionScope scope property returns expected configuration"
                                },
                                {
                                  "name": "Scope defaults to 'all' when no parameters provided",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_defaults_to_all_when_no_parameters",
                                  "steps": "GIVEN: Empty parameters dict\nWHEN: ActionScope instantiated\nTHEN: Scope defaults to 'all'"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Create Scope Using CLI",
                              "sequential_order": 9.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestCreateScopeUsingCLI",
                              "scenarios": [
                                {
                                  "name": "Scope set with different parameter combinations via CLI",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_set_with_different_types_via_cli",
                                  "steps": "GIVEN: CLI session active\nWHEN: user enters 'scope set <type> <value>'\nTHEN: CLI sets scope to specified type"
                                },
                                {
                                  "name": "Scope defaults to 'all' when no scope set via CLI",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_defaults_to_all_via_cli",
                                  "steps": "GIVEN: CLI session with no scope set\nWHEN: scope accessed\nTHEN: Default scope is 'all'"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Display Scope Using CLI",
                              "sequential_order": 10.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestDisplayScopeUsingCLI",
                              "scenarios": [
                                {
                                  "name": "Display scope shows current scope via CLI",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_display_scope_shows_current_scope_via_cli",
                                  "steps": "GIVEN: CLI session with scope set\nWHEN: scope displayed\nTHEN: Current scope shown in output"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            }
                          ]
                        }
                      ],
                      "stories": [
                        {
                          "name": "Persist Scope",
                          "sequential_order": 0.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestPersistScope",
                          "scenarios": [
                            {
                              "name": "Scope persists across bot invocations",
                              "sequential_order": 1.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_scope_persists_across_bot_invocations",
                              "steps": "Given Bot with scope set\nWhen Bot is reloaded\nThen Scope is restored from workflow state"
                            },
                            {
                              "name": "Scope persists after action execution",
                              "sequential_order": 2.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_scope_persists_after_action_execution",
                              "steps": "Given Bot with scope set\nWhen Action executes and completes\nThen Scope remains active for next action"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Clear Scope",
                          "sequential_order": 2.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestClearScope",
                          "scenarios": [
                            {
                              "name": "Clear scope with show_all parameter",
                              "sequential_order": 1.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_clear_scope_with_show_all_parameter",
                              "steps": "Given Bot with scope set\nWhen Scope cleared with show_all=True\nThen Scope is cleared and all content is shown"
                            },
                            {
                              "name": "Clear scope without show_all parameter",
                              "sequential_order": 2.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_clear_scope_without_show_all_parameter",
                              "steps": "Given Bot with scope set\nWhen Scope cleared without show_all parameter\nThen Scope is cleared"
                            },
                            {
                              "name": "Actions after clear process all content",
                              "sequential_order": 3.0,
                              "type": "happy_path",
                              "background": [],
                              "test_method": "test_actions_after_clear_process_all_content",
                              "steps": "Given Bot had scope set, then cleared\nWhen Action executes\nThen Action processes all content without filtering"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Display Build Scope Through CLI",
                          "sequential_order": 3.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestDisplayBuildScopeThroughCLI",
                          "scenarios": [
                            {
                              "name": "Display active build scope",
                              "sequential_order": 1.0,
                              "type": "",
                              "background": [],
                              "test_method": "test_display_active_build_scope",
                              "steps": "GIVEN: Build scope is set\nWHEN: user views build instructions\nTHEN: CLI displays active scope filter"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Show All Scope Through Panel",
                          "sequential_order": 4.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestShowAllScopeThroughPanel",
                          "scenarios": [
                            {
                              "name": "",
                              "sequential_order": 6.0,
                              "type": "",
                              "background": [],
                              "test_method": "test_user_clicks_show_all_to_clear_filter",
                              "steps": "Given Panel displays filtered scope showing only Open Panel story\nAnd Show All button is visible\nWhen User clicks Show All button\nThen Panel calls scope showall via CLI\nAnd Scope filter is cleared\nAnd Panel displays all epics, sub-epics, and stories\nAnd Filter input is empty"
                            },
                            {
                              "name": "",
                              "sequential_order": 7.0,
                              "type": "",
                              "background": [],
                              "test_method": "test_show_all_button_is_visible_when_scope_is_filtered",
                              "steps": "Given Panel has no scope filter applied\nWhen User views scope section\nThen Show All button is not visible\nWhen User applies filter to scope\nThen Show All button becomes visible"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": [
                            {
                              "name": "WHEN User has filtered scope",
                              "text": "WHEN User has filtered scope",
                              "sequential_order": 0.0
                            },
                            {
                              "name": "THEN System displays Show All button",
                              "text": "THEN System displays Show All button",
                              "sequential_order": 1.0
                            },
                            {
                              "name": "WHEN User clicks Show All button",
                              "text": "WHEN User clicks Show All button",
                              "sequential_order": 2.0
                            },
                            {
                              "name": "THEN System calls scope showall command via CLI",
                              "text": "THEN System calls scope showall command via CLI",
                              "sequential_order": 3.0
                            },
                            {
                              "name": "AND System clears scope filter",
                              "text": "AND System clears scope filter",
                              "sequential_order": 4.0
                            },
                            {
                              "name": "AND Panel displays complete unfiltered story hierarchy",
                              "text": "AND Panel displays complete unfiltered story hierarchy",
                              "sequential_order": 5.0
                            }
                          ]
                        },
                        {
                          "name": "Open Story Files",
                          "sequential_order": 5.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestOpenStoryFiles",
                          "scenarios": [
                            {
                              "name": "",
                              "sequential_order": 1.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope section with graph link\nWhen User clicks Graph link\nThen VS Code opens story-graph.json in editor\nAnd File is displayed with JSON syntax highlighting"
                            },
                            {
                              "name": "",
                              "sequential_order": 2.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope section with map link\nWhen User clicks map link\nThen VS Code opens story-map.drawio in diagram viewer\nAnd Diagram is displayed with Draw.io extension"
                            },
                            {
                              "name": "",
                              "sequential_order": 3.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays link to non-existent file\nWhen User clicks link\nThen Panel displays error message\nAnd Error message indicates file not found"
                            },
                            {
                              "name": "",
                              "sequential_order": 4.0,
                              "type": "",
                              "background": [],
                              "test_method": "test_story_graph_and_story_map_links_always_visible",
                              "steps": "Given Panel displays scope section\nAnd Scope may be filtered or showing all stories\nWhen User views scope header\nThen story-graph.json link is always visible\nAnd story-map.md link is always visible\nAnd Links persist regardless of filter state\nAnd Links are positioned consistently in header"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": [
                            {
                              "name": "WHEN User clicks graph link",
                              "text": "WHEN User clicks graph link",
                              "sequential_order": 1.0
                            },
                            {
                              "name": "THEN System opens story-graph.json in editor",
                              "text": "THEN System opens story-graph.json in editor",
                              "sequential_order": 2.0
                            },
                            {
                              "name": "WHEN User clicks map link",
                              "text": "WHEN User clicks map link",
                              "sequential_order": 3.0
                            },
                            {
                              "name": "THEN System opens story-map.drawio in diagram viewer",
                              "text": "THEN System opens story-map.drawio in diagram viewer",
                              "sequential_order": 4.0
                            },
                            {
                              "name": "WHEN System cannot open file",
                              "text": "WHEN System cannot open file",
                              "sequential_order": 5.0
                            },
                            {
                              "name": "THEN System displays error message",
                              "text": "THEN System displays error message",
                              "sequential_order": 6.0
                            }
                          ]
                        },
                        {
                          "name": "Display Filtered Story Graph Through CLI",
                          "sequential_order": 6.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestDisplayFilteredKnowledgeGraphThroughCLI",
                          "scenarios": [
                            {
                              "name": "Display knowledge graph with scope filter",
                              "sequential_order": 1.0,
                              "type": "",
                              "background": [],
                              "test_method": "test_display_knowledge_graph_with_scope_filter",
                              "steps": "GIVEN: Scope filter is active\nWHEN: user views build instructions\nTHEN: CLI displays filtered knowledge graph"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Display Story Hierarchy Panel",
                          "sequential_order": 7.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestDisplayStoryScopeHierarchy",
                          "scenarios": [
                            {
                              "name": "",
                              "sequential_order": 1.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story graph has epics with nested sub-epics\nWhen User views scope section\nThen Panel displays epic names (Invoke Bot)\nWhen User expands Invoke Bot epic\nThen Panel displays sub-epics (Invoke Bot Through Panel, Invoke Bot Through REPL)\nWhen User expands Invoke Bot Through Panel sub-epic\nThen Panel displays nested sub-epics (Manage Panel Session, Navigate Behaviors)\nWhen User expands Manage Panel Session sub-epic\nThen Panel displays stories (Open Panel, Display Session Status)"
                            },
                            {
                              "name": "",
                              "sequential_order": 2.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story has test link displayed\nAnd Test file is test_manage_panel_session.spec.js\nAnd Test class is TestOpenPanel\nWhen User clicks test link for Open Panel story\nThen VS Code opens test_manage_panel_session.spec.js file\nAnd Editor scrolls to TestOpenPanel class"
                            },
                            {
                              "name": "",
                              "sequential_order": 3.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story has story file link displayed\nAnd Story file is Open Panel.md\nWhen User clicks story link for Open Panel\nThen VS Code opens Open Panel.md file in editor"
                            },
                            {
                              "name": "",
                              "sequential_order": 4.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story has test link displayed\nAnd Test file does not exist\nWhen User clicks test link\nThen Panel displays error message\nAnd Error message indicates file not found"
                            },
                            {
                              "name": "",
                              "sequential_order": 5.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Epic has test file\nAnd Sub-epic has test file\nAnd Story has test class\nAnd Scenario has test method\nWhen Panel renders scope hierarchy\nThen Test tube icon appears next to epic name\nAnd Test tube icon appears next to sub-epic name\nAnd Test tube icon appears next to story name\nAnd Test tube icon appears next to scenario name\nAnd All test tube icons show correct test_tube.png image\nAnd Test tube icons are large enough to see clearly"
                            },
                            {
                              "name": "",
                              "sequential_order": 6.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope hierarchy with epics and sub-epics\nWhen User clicks epic name\nThen VS Code reveals epic folder in explorer\nWhen User clicks sub-epic name\nThen VS Code reveals sub-epic folder in explorer"
                            },
                            {
                              "name": "",
                              "sequential_order": 7.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope hierarchy with stories\nAnd Story has matching markdown file\nWhen User clicks story name\nThen VS Code opens story markdown file in editor"
                            },
                            {
                              "name": "",
                              "sequential_order": 8.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story has scenarios with test methods\nAnd Scenario test method is at line 145 in test file\nWhen User clicks scenario test tube icon\nThen VS Code opens test file\nAnd Editor scrolls to line 145\nAnd Test method definition is visible at cursor"
                            },
                            {
                              "name": "",
                              "sequential_order": 9.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Story markdown file has scenario sections with anchors\nAnd Scenario is named User expands collapsed section\nWhen User clicks scenario name in panel\nThen VS Code opens story markdown file\nAnd Editor scrolls to scenario anchor\nAnd Scenario section is visible with heading"
                            },
                            {
                              "name": "",
                              "sequential_order": 10.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Epic has matching folder in docs/stories/map\nAnd Sub-epic has matching folder\nWhen User clicks epic name link\nThen VS Code reveals folder in explorer view\nWhen User clicks sub-epic name link\nThen VS Code reveals sub-epic folder in explorer view"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": [
                            {
                              "name": "WHEN User views story scope",
                              "text": "WHEN User views story scope",
                              "sequential_order": 1.0
                            },
                            {
                              "name": "THEN System displays epic list collapsed",
                              "text": "THEN System displays epic list collapsed",
                              "sequential_order": 2.0
                            },
                            {
                              "name": "WHEN User clicks collapsed epic expand icon",
                              "text": "WHEN User clicks collapsed epic expand icon",
                              "sequential_order": 3.0
                            },
                            {
                              "name": "AND epic has sub-epics",
                              "text": "AND epic has sub-epics",
                              "sequential_order": 4.0
                            },
                            {
                              "name": "THEN System expands epic showing sub-epics collapsed beneath it",
                              "text": "THEN System expands epic showing sub-epics collapsed beneath it",
                              "sequential_order": 5.0
                            },
                            {
                              "name": "WHEN User clicks epic name",
                              "text": "WHEN User clicks epic name",
                              "sequential_order": 6.0
                            },
                            {
                              "name": "AND matching epic folder exists",
                              "text": "AND matching epic folder exists",
                              "sequential_order": 7.0
                            },
                            {
                              "name": "THEN System opens epic folder in IDE explorer",
                              "text": "THEN System opens epic folder in IDE explorer",
                              "sequential_order": 8.0
                            },
                            {
                              "name": "WHEN Epic has test file",
                              "text": "WHEN Epic has test file",
                              "sequential_order": 9.0
                            },
                            {
                              "name": "THEN System displays test tube icon next to epic name",
                              "text": "THEN System displays test tube icon next to epic name",
                              "sequential_order": 10.0
                            },
                            {
                              "name": "WHEN User clicks epic test link",
                              "text": "WHEN User clicks epic test link",
                              "sequential_order": 11.0
                            },
                            {
                              "name": "THEN System opens test file in editor",
                              "text": "THEN System opens test file in editor",
                              "sequential_order": 12.0
                            },
                            {
                              "name": "WHEN User clicks collapsed sub-epic expand icon",
                              "text": "WHEN User clicks collapsed sub-epic expand icon",
                              "sequential_order": 13.0
                            },
                            {
                              "name": "AND matching sub-epic has stories",
                              "text": "AND matching sub-epic has stories",
                              "sequential_order": 14.0
                            },
                            {
                              "name": "THEN System expands sub-epic showing stories collapsed beneath it",
                              "text": "THEN System expands sub-epic showing stories collapsed beneath it",
                              "sequential_order": 15.0
                            },
                            {
                              "name": "WHEN Sub-epic has test file",
                              "text": "WHEN Sub-epic has test file",
                              "sequential_order": 16.0
                            },
                            {
                              "name": "THEN System displays test tube icon next to sub-epic name",
                              "text": "THEN System displays test tube icon next to sub-epic name",
                              "sequential_order": 17.0
                            },
                            {
                              "name": "WHEN User clicks sub-epic test link",
                              "text": "WHEN User clicks sub-epic test link",
                              "sequential_order": 18.0
                            },
                            {
                              "name": "THEN System opens test file in editor",
                              "text": "THEN System opens test file in editor",
                              "sequential_order": 19.0
                            },
                            {
                              "name": "WHEN User clicks sub-epic name",
                              "text": "WHEN User clicks sub-epic name",
                              "sequential_order": 20.0
                            },
                            {
                              "name": "THEN System opens sub-epic folder in IDE explorer",
                              "text": "THEN System opens sub-epic folder in IDE explorer",
                              "sequential_order": 21.0
                            },
                            {
                              "name": "WHEN User clicks collapsed story expand icon",
                              "text": "WHEN User clicks collapsed story expand icon",
                              "sequential_order": 22.0
                            },
                            {
                              "name": "AND matching sub-epic has stories",
                              "text": "AND matching sub-epic has stories",
                              "sequential_order": 23.0
                            },
                            {
                              "name": "THEN System expands story showing scenarios collapsed beneath it",
                              "text": "THEN System expands story showing scenarios collapsed beneath it",
                              "sequential_order": 24.0
                            },
                            {
                              "name": "WHEN User clicks story name",
                              "text": "WHEN User clicks story name",
                              "sequential_order": 25.0
                            },
                            {
                              "name": "THEN System opens story markdown file in editor",
                              "text": "THEN System opens story markdown file in editor",
                              "sequential_order": 26.0
                            },
                            {
                              "name": "WHEN Story has test file",
                              "text": "WHEN Story has test file",
                              "sequential_order": 27.0
                            },
                            {
                              "name": "THEN System displays test tube icon next to story name",
                              "text": "THEN System displays test tube icon next to story name",
                              "sequential_order": 28.0
                            },
                            {
                              "name": "WHEN User clicks story test link",
                              "text": "WHEN User clicks story test link",
                              "sequential_order": 29.0
                            },
                            {
                              "name": "THEN System opens test file at test class",
                              "text": "THEN System opens test file at test class",
                              "sequential_order": 30.0
                            },
                            {
                              "name": "WHEN User clicks collapsed story expand icon",
                              "text": "WHEN User clicks collapsed story expand icon",
                              "sequential_order": 31.0
                            },
                            {
                              "name": "THEN System expands story showing scenarios",
                              "text": "THEN System expands story showing scenarios",
                              "sequential_order": 32.0
                            },
                            {
                              "name": "WHEN User clicks scenario name",
                              "text": "WHEN User clicks scenario name",
                              "sequential_order": 33.0
                            },
                            {
                              "name": "THEN System opens story markdown file at scenario anchor",
                              "text": "THEN System opens story markdown file at scenario anchor",
                              "sequential_order": 34.0
                            },
                            {
                              "name": "WHEN Scenario has test method",
                              "text": "WHEN Scenario has test method",
                              "sequential_order": 35.0
                            },
                            {
                              "name": "THEN System displays test tube icon next to scenario name",
                              "text": "THEN System displays test tube icon next to scenario name",
                              "sequential_order": 36.0
                            },
                            {
                              "name": "WHEN User clicks scenario test link",
                              "text": "WHEN User clicks scenario test link",
                              "sequential_order": 37.0
                            },
                            {
                              "name": "THEN System opens test file at scenario test method line",
                              "text": "THEN System opens test file at scenario test method line",
                              "sequential_order": 38.0
                            },
                            {
                              "name": "WHEN Test tube icon is displayed",
                              "text": "WHEN Test tube icon is displayed",
                              "sequential_order": 39.0
                            },
                            {
                              "name": "THEN System shows correct test tube image",
                              "text": "THEN System shows correct test tube image",
                              "sequential_order": 40.0
                            },
                            {
                              "name": "WHEN User clicks epic or sub-epic or story name",
                              "text": "WHEN User clicks epic or sub-epic or story name",
                              "sequential_order": 41.0
                            },
                            {
                              "name": "THEN System opens corresponding file or folder",
                              "text": "THEN System opens corresponding file or folder",
                              "sequential_order": 42.0
                            }
                          ]
                        }
                      ],
                      "test_file": "invoke_bot/edit_story_map/test_manage_story_scope.py"
                    }
                  ],
                  "story_groups": [],
                  "stories": []
                },
                {
                  "name": "Scope Files",
                  "sequential_order": 1.0,
                  "sub_epics": [
                    {
                      "name": "Set File Filter",
                      "sequential_order": 0.0,
                      "sub_epics": [],
                      "story_groups": [
                        {
                          "name": "",
                          "sequential_order": 0.0,
                          "type": "and",
                          "connector": null,
                          "stories": [
                            {
                              "name": "Add Filter Part To File Scope",
                              "sequential_order": 0.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Filter Part To File Scope CLI",
                              "sequential_order": 1.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Add Filter Part To File Scope Panel",
                              "sequential_order": 2.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestAddFilterPartToFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From File Scope",
                              "sequential_order": 3.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveFilterPartFromFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From File Scope CLI",
                              "sequential_order": 4.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Remove Filter Part From File Scope Panel",
                              "sequential_order": 5.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestRemoveFilterPartFromFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            }
                          ]
                        }
                      ],
                      "stories": [
                        {
                          "name": "Add Filter Part To File Scope",
                          "sequential_order": 0.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestAddFilterPartToFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Filter Part To File Scope CLI",
                          "sequential_order": 1.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestAddFilterPartToFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Add Filter Part To File Scope Panel",
                          "sequential_order": 2.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestAddFilterPartToFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From File Scope",
                          "sequential_order": 3.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestRemoveFilterPartFromFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From File Scope CLI",
                          "sequential_order": 4.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Remove Filter Part From File Scope Panel",
                          "sequential_order": 5.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestRemoveFilterPartFromFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        }
                      ],
                      "test_file": "invoke_bot/edit_story_map/test_scope_files.py"
                    },
                    {
                      "name": "Filter File Scope",
                      "sequential_order": 1.0,
                      "sub_epics": [],
                      "story_groups": [
                        {
                          "name": "",
                          "sequential_order": 0.0,
                          "type": "and",
                          "connector": null,
                          "stories": [
                            {
                              "name": "Filter File Scope  By Files",
                              "sequential_order": 0.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter File Scope  By Files CLI",
                              "sequential_order": 1.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter File Scope  By Files Panel",
                              "sequential_order": 2.0,
                              "connector": "and",
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterFileScope",
                              "scenarios": [
                                {
                                  "name": "",
                                  "sequential_order": 3.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope section\nWhen User types file:src/**/*.py in scope filter\nThen Panel displays file scope mode\nAnd Panel displays list of Python files in src directory\nAnd File paths are displayed in monospace font"
                                },
                                {
                                  "name": "",
                                  "sequential_order": 4.0,
                                  "type": "",
                                  "background": [],
                                  "test_method": null,
                                  "steps": "Given Panel displays scope section\nWhen User types file:**/*.spec.js in scope filter\nThen Panel displays all JavaScript test files\nAnd Files are displayed with full relative paths"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": [
                                {
                                  "name": "WHEN User types file pattern in filter",
                                  "text": "WHEN User types file pattern in filter",
                                  "sequential_order": 0.0
                                },
                                {
                                  "name": "THEN System displays filtered file list",
                                  "text": "THEN System displays filtered file list",
                                  "sequential_order": 1.0
                                },
                                {
                                  "name": "AND System displays file list with monospace paths",
                                  "text": "AND System displays file list with monospace paths",
                                  "sequential_order": 2.0
                                }
                              ]
                            },
                            {
                              "name": "Filter File Scope By Stories Panel",
                              "sequential_order": 3.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter File Scope By Stories CLI",
                              "sequential_order": 4.0,
                              "connector": "or",
                              "story_type": "user",
                              "users": [
                                "Bot Behavior"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterFileScope",
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter File Scope By Stories",
                              "sequential_order": 7.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [],
                              "test_file": null,
                              "test_class": null,
                              "scenarios": [],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            },
                            {
                              "name": "Filter Scope By Files Using CLI",
                              "sequential_order": 6.0,
                              "connector": null,
                              "story_type": "user",
                              "users": [
                                "User"
                              ],
                              "test_file": null,
                              "test_class": "TestFilterScopeByFilesUsingCLI",
                              "scenarios": [
                                {
                                  "name": "Scope files with include pattern via CLI",
                                  "sequential_order": 1.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_files_with_include_pattern_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set to files with include pattern\nTHEN: Matching files in scope"
                                },
                                {
                                  "name": "Scope files with exclude pattern via CLI",
                                  "sequential_order": 2.0,
                                  "type": "happy_path",
                                  "background": [],
                                  "test_method": "test_scope_files_with_exclude_pattern_via_cli",
                                  "steps": "GIVEN: CLI session\nWHEN: scope set with exclude pattern\nTHEN: Excluded files not in scope"
                                }
                              ],
                              "scenario_outlines": [],
                              "acceptance_criteria": []
                            }
                          ]
                        }
                      ],
                      "stories": [
                        {
                          "name": "Filter File Scope  By Files",
                          "sequential_order": 0.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter File Scope  By Files CLI",
                          "sequential_order": 1.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter File Scope  By Files Panel",
                          "sequential_order": 2.0,
                          "connector": "and",
                          "story_type": "user",
                          "users": [
                            "User"
                          ],
                          "test_class": "TestFilterFileScope",
                          "scenarios": [
                            {
                              "name": "",
                              "sequential_order": 3.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope section\nWhen User types file:src/**/*.py in scope filter\nThen Panel displays file scope mode\nAnd Panel displays list of Python files in src directory\nAnd File paths are displayed in monospace font"
                            },
                            {
                              "name": "",
                              "sequential_order": 4.0,
                              "type": "",
                              "background": [],
                              "test_method": null,
                              "steps": "Given Panel displays scope section\nWhen User types file:**/*.spec.js in scope filter\nThen Panel displays all JavaScript test files\nAnd Files are displayed with full relative paths"
                            }
                          ],
                          "scenario_outlines": [],
                          "acceptance_criteria": [
                            {
                              "name": "WHEN User types file pattern in filter",
                              "text": "WHEN User types file pattern in filter",
                              "sequential_order": 0.0
                            },
                            {
                              "name": "THEN System displays filtered file list",
                              "text": "THEN System displays filtered file list",
                              "sequential_order": 1.0
                            },
                            {
                              "name": "AND System displays file list with monospace paths",
                              "text": "AND System displays file list with monospace paths",
                              "sequential_order": 2.0
                            }
                          ]
                        },
                        {
                          "name": "Filter File Scope By Stories Panel",
                          "sequential_order": 3.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestFilterFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter File Scope By Stories CLI",
                          "sequential_order": 4.0,
                          "connector": "or",
                          "story_type": "user",
                          "users": [
                            "Bot Behavior"
                          ],
                          "test_class": "TestFilterFileScope",
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        },
                        {
                          "name": "Filter File Scope By Stories",
                          "sequential_order": 7.0,
                          "connector": null,
                          "story_type": "user",
                          "users": [],
                          "test_class": null,
                          "scenarios": [],
                          "scenario_outlines": [],
                          "acceptance_criteria": []
                        }
                      ],
                      "test_file": "invoke_bot/edit_story_map/test_scope_files.py"
                    }
                  ],
                  "story_groups": [],
                  "stories": []
                }
              ],
              "story_groups": [],
              "stories": []
            },
            {
              "name": "Edit Increments",
              "sequential_order": 1.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Add Increment",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Add Increment Panel",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestAddIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Add Increment CLI",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestAddIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Delete Increment",
                      "sequential_order": 3.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Delete Increment CLI",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDeleteIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Delete Increment Panel",
                      "sequential_order": 5.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDeleteIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Move Story to Increment",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Move Story to Increment CLI",
                      "sequential_order": 7.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestMoveStorytoIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Move Story to Increment Panel",
                      "sequential_order": 8.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestMoveStorytoIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Increment Scope View CLI",
                      "sequential_order": 9.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayIncrementScopeView",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Show All Increment Scope Through CLI",
                      "sequential_order": 10.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestShowAllIncrementScopeThroughCLI",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Show All Increment Scope",
                      "sequential_order": 11.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Increment Scope View",
                      "sequential_order": 12.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayIncrementScopeView",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Show All Increment Scope Through Panel",
                      "sequential_order": 13.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestShowAllIncrementScopeThroughPanel",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Add Increment",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Add Increment Panel",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestAddIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Add Increment CLI",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestAddIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Delete Increment",
                  "sequential_order": 3.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Delete Increment CLI",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDeleteIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Delete Increment Panel",
                  "sequential_order": 5.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDeleteIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Move Story to Increment",
                  "sequential_order": 6.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Move Story to Increment CLI",
                  "sequential_order": 7.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestMoveStorytoIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Move Story to Increment Panel",
                  "sequential_order": 8.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestMoveStorytoIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Increment Scope View CLI",
                  "sequential_order": 9.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayIncrementScopeView",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Show All Increment Scope Through CLI",
                  "sequential_order": 10.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestShowAllIncrementScopeThroughCLI",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Show All Increment Scope",
                  "sequential_order": 11.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Increment Scope View",
                  "sequential_order": 12.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayIncrementScopeView",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Show All Increment Scope Through Panel",
                  "sequential_order": 13.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestShowAllIncrementScopeThroughPanel",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/edit_story_map/test_edit_increments.py"
            },
            {
              "name": "Edit Story Nodes",
              "sequential_order": 2.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Create Child Story Node",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": "TestCreateChildStoryNode",
                      "scenarios": [
                        {
                          "name": "Create child node at any hierarchy level with default position",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_child_node_at_hierarchy_level",
                          "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node of specified type\nThen Child is added at last position with correct total count"
                        },
                        {
                          "name": "Create child node with specified position",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_child_node_with_position",
                          "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node at specific position\nThen Child is inserted at position and existing children shift"
                        },
                        {
                          "name": "Create child node with invalid position adjusts to last position",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_child_invalid_position_adjusts",
                          "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node at invalid position (exceeds child count)\nThen System adjusts position to last valid position"
                        },
                        {
                          "name": "Create child node with duplicate name returns error",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_child_with_duplicate_name_returns_error",
                          "steps": "Given Story Graph has parent node with existing child\nWhen Parent attempts to create child with duplicate name\nThen System identifies duplicate and returns error"
                        },
                        {
                          "name": "Create child node without name generates unique name",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_child_without_name_generates_unique_name",
                          "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child without providing name\nThen System generates unique name (Child1, Child2, etc.)"
                        },
                        {
                          "name": "SubEpic creates Story and auto-creates StoryGroup on first Story",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_subepic_creates_story_and_storygroup",
                          "steps": "Given SubEpic has existing Story count (0 or more)\nWhen SubEpic creates new Story\nThen StoryGroup is created (if first) or existing StoryGroup is used"
                        },
                        {
                          "name": "SubEpic with Stories cannot create SubEpic child",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_subepic_with_stories_cannot_create_subepic_child",
                          "steps": "Given SubEpic has existing Story children\nWhen SubEpic attempts to create SubEpic child\nThen System identifies hierarchy violation and returns error"
                        },
                        {
                          "name": "SubEpic with SubEpics cannot create Story child",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_subepic_with_subepics_cannot_create_story_child",
                          "steps": "Given SubEpic has existing SubEpic children\nWhen SubEpic attempts to create Story child\nThen System identifies hierarchy violation and returns error"
                        },
                        {
                          "name": "Story creates child and adds to correct collection",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_creates_child_in_correct_collection",
                          "steps": "Given Story exists in story graph\nWhen Story creates child of specific type (Scenario, ScenarioOutline, AcceptanceCriteria)\nThen Child is added to correct collection and not to others"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Create Child Story Node Under Parent Panel",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestCreateChildStoryNodeUnderParent",
                      "scenarios": [
                        {
                          "name": "Panel shows appropriate create button for Epic node",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_create_sub_epic_button_for_epic",
                          "steps": "And Story Graph has Epic named \"User Management\"\nWhen User selects Epic \"User Management\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel does not display \"Create Story\" button"
                        },
                        {
                          "name": "Panel shows both create buttons for SubEpic without children",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_both_buttons_for_empty_subepic",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has no children\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel displays \"Create Story\" button"
                        },
                        {
                          "name": "Panel shows only create SubEpic button for SubEpic with SubEpic children",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_subepic_button_only_when_has_subepics",
                          "steps": "And Story Graph has SubEpic \"User Management\" with child SubEpic \"Authentication\"\nWhen User selects SubEpic \"User Management\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel does not display \"Create Story\" button"
                        },
                        {
                          "name": "Panel shows only create Story button for SubEpic with Stories",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_story_button_only_when_has_stories",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Create Story\" button\nAnd Panel does not display \"Create Sub-Epic\" button"
                        },
                        {
                          "name": "Panel shows scenario create buttons for Story node",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_scenario_buttons_for_story",
                          "steps": "And Story Graph has Story \"Validate Password\"\nWhen User selects Story \"Validate Password\"\nThen Panel displays \"Create Scenario\" button\nAnd Panel displays \"Create Scenario Outline\" button\nAnd Panel displays \"Create Acceptance Criteria\" button"
                        },
                        {
                          "name": "User creates child node with auto-generated name in edit mode",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_create_child_auto_name_edit_mode",
                          "steps": "And Story Graph has Epic \"User Management\" with two SubEpic children\nAnd Epic \"User Management\" is selected\nWhen User clicks \"Create Sub-Epic\" button\nThen Panel creates new SubEpic with name \"SubEpic3\"\nAnd Panel puts node name in edit mode\nAnd Panel selects all text in name field\nAnd Panel refreshes Story Tree showing new child\nAnd new SubEpic appears as last child of \"User Management\""
                        },
                        {
                          "name": "User enters duplicate name and Panel shows warning",
                          "sequential_order": 7.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_duplicate_name_shows_warning_stays_in_edit",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd new SubEpic exists under \"User Management\" with name in edit mode\nWhen User types \"Authentication\" in name field\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel shows warning message \"Child with name 'Authentication' already exists\"\nAnd Panel keeps node name in edit mode\nAnd Panel keeps text selected\nAnd Panel does not save the duplicate name"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User selects Epic node\nTHEN Panel shows \"Create Sub-Epic\" button",
                          "text": "WHEN User selects Epic node\nTHEN Panel shows \"Create Sub-Epic\" button",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User selects SubEpic without children\nTHEN Panel shows \"Create Sub-Epic\" and \"Create Story\" buttons",
                          "text": "WHEN User selects SubEpic without children\nTHEN Panel shows \"Create Sub-Epic\" and \"Create Story\" buttons",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User selects SubEpic with Sub-Epic children\nTHEN Panel shows \"Create Sub-Epic\" button",
                          "text": "WHEN User selects SubEpic with Sub-Epic children\nTHEN Panel shows \"Create Sub-Epic\" button",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User selects SubEpic with Stories\nTHEN Panel shows \"Create Story\" button",
                          "text": "WHEN User selects SubEpic with Stories\nTHEN Panel shows \"Create Story\" button",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User selects Story node\nTHEN Panel shows \"Create Scenario\", \"Create Scenario Outline\", and \"Create Acceptance Criteria\" buttons",
                          "text": "WHEN User selects Story node\nTHEN Panel shows \"Create Scenario\", \"Create Scenario Outline\", and \"Create Acceptance Criteria\" buttons",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN User creates child node\nTHEN Panel creates child with unique generic name\nAnd sets the child type based on the create button pressed\nAND puts node name in edit mode with text selected\nAND refreshes Story Tree",
                          "text": "WHEN User creates child node\nTHEN Panel creates child with unique generic name\nAnd sets the child type based on the create button pressed\nAND puts node name in edit mode with text selected\nAND refreshes Story Tree",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN User enters duplicate name\nAND user presses Tab or Enter or clicks anywhere away from the name field.\nTHEN Panel shows warning in real-time\nAND leaves node name in edit mode with head selected.",
                          "text": "WHEN User enters duplicate name\nAND user presses Tab or Enter or clicks anywhere away from the name field.\nTHEN Panel shows warning in real-time\nAND leaves node name in edit mode with head selected.",
                          "sequential_order": 7.0
                        }
                      ]
                    },
                    {
                      "name": "Create Child Story Node Under Parent CLI",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestCreateChildStoryNodeUnderParent",
                      "scenarios": [
                        {
                          "name": "User creates child with dot notation at default position",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_create_child_with_dot_notation_default_position",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with two SubEpic children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic.\"Manage Bot Information\"\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI resolves parent \"Invoke Bot\" successfully\nAnd CLI validates parent exists\nAnd CLI creates SubEpic \"Manage Bot Information\" as last child of \"Invoke Bot\"\nAnd CLI outputs success message: \"Created SubEpic 'Manage Bot Information' under 'Invoke Bot' at position 2\"\nAnd Story Graph shows \"Manage Bot Information\" at position 2 under \"Invoke Bot\""
                        },
                        {
                          "name": "User creates child with position specified",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_create_child_with_position_specified",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with children: \"SubEpic A\", \"SubEpic B\", \"SubEpic C\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI parses position parameter as 1\nAnd CLI creates SubEpic \"Info\" at position 1\nAnd CLI resequences children\nAnd CLI outputs success message: \"Created SubEpic 'Info' under 'Invoke Bot' at position 1\"\nAnd Story Graph shows children in order: \"SubEpic A\", \"Info\", \"SubEpic B\", \"SubEpic C\""
                        },
                        {
                          "name": "User creates child with invalid position and CLI adjusts",
                          "sequential_order": 3.0,
                          "type": "edge_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_create_child_invalid_position_adjusts",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with two SubEpic children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:99\nThen CLI parses position parameter as 99\nAnd CLI detects position 99 exceeds children count of 2\nAnd CLI adjusts position to 2\nAnd CLI creates SubEpic \"Info\" at adjusted position 2\nAnd CLI outputs success message: \"Created SubEpic 'Info' under 'Invoke Bot' at position 2 (adjusted from 99)\"\nAnd Story Graph shows \"Info\" as last child"
                        },
                        {
                          "name": "User enters non-existent parent path and CLI outputs error",
                          "sequential_order": 4.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_nonexistent_parent_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph does not have Epic \"Non-existent Epic\"\nWhen User executes CLI command: story_graph.\"Non-existent Epic\".create_sub_epic name:\"New SubEpic\"\nThen CLI parses dot notation to parent \"Non-existent Epic\"\nAnd CLI attempts to resolve parent \"Non-existent Epic\"\nAnd CLI identifies parent does not exist\nAnd CLI outputs error: \"Parent 'Non-existent Epic' not found. Valid paths: 'Invoke Bot'\"\nAnd CLI does not create SubEpic"
                        },
                        {
                          "name": "User enters incompatible child type and CLI outputs error",
                          "sequential_order": 5.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_incompatible_child_type_outputs_error",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User executes CLI command: story_graph.\"Authentication\".create_sub_epic name:\"OAuth Flow\"\nThen CLI parses dot notation to parent \"Authentication\"\nAnd CLI resolves parent \"Authentication\" successfully\nAnd CLI identifies parent \"Authentication\" already contains Stories\nAnd CLI identifies SubEpic is incompatible child type for SubEpic with Stories\nAnd CLI outputs error: \"Cannot create SubEpic under SubEpic 'Authentication' that contains Stories. Allowed child types: Story\"\nAnd CLI does not create SubEpic \"OAuth Flow\""
                        },
                        {
                          "name": "User enters duplicate name and CLI outputs error",
                          "sequential_order": 6.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_duplicate_name_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot Information\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic.\"Manage Bot Information\"\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI resolves parent \"Invoke Bot\" successfully\nAnd CLI validates child name \"Manage Bot Information\"\nAnd CLI identifies duplicate name among siblings\nAnd CLI outputs error: \"Child with name 'Manage Bot Information' already exists under parent 'Invoke Bot'\"\nAnd CLI does not create duplicate SubEpic"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User creates new child with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Manage Bot Information\"\nTHEN CLI parses dot notation to parent\nAND resolves and validates parent exists\nAND sets the child type based on the command used\nAND creates child as last child\nAND outputs success message with node path",
                          "text": "WHEN User creates new child with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Manage Bot Information\"\nTHEN CLI parses dot notation to parent\nAND resolves and validates parent exists\nAND sets the child type based on the command used\nAND creates child as last child\nAND outputs success message with node path",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User creates child with position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND adjusts position if exceeds children count\nAND creates child at position\nAND resequences children",
                          "text": "WHEN User creates child with position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND adjusts position if exceeds children count\nAND creates child at position\nAND resequences children",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User enters non-existent parent path\nTHEN CLI identifies parent does not exist\nAND outputs error with valid paths",
                          "text": "WHEN User enters non-existent parent path\nTHEN CLI identifies parent does not exist\nAND outputs error with valid paths",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User enters incompatible child type\nTHEN CLI identifies type incompatibility\nAND outputs error with allowed child types",
                          "text": "WHEN User enters incompatible child type\nTHEN CLI identifies type incompatibility\nAND outputs error with allowed child types",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                          "text": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Create Epic",
                      "sequential_order": 3.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": "TestCreateEpic",
                      "scenarios": [
                        {
                          "name": "Create Epic with name at default position",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_with_name_at_default_position",
                          "steps": "Given Story Map is initialized\nWhen Story Map creates Epic with name\nThen Epic is added at last position"
                        },
                        {
                          "name": "Create Epic with position specified",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_with_position_specified",
                          "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic at specific position\nThen Epic is inserted at position and existing Epics shift"
                        },
                        {
                          "name": "Create Epic with invalid position adjusts to last",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_with_invalid_position_adjusts",
                          "steps": "Given Story Map has 2 Epics\nWhen Story Map creates Epic at position 99\nThen Position is adjusted to last (position 2)"
                        },
                        {
                          "name": "Create Epic without name generates unique name",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_without_name_generates_unique_name",
                          "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic without name\nThen System generates unique name (Epic1, Epic2, etc.)"
                        },
                        {
                          "name": "Create Epic with duplicate name returns error",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_with_duplicate_name_returns_error",
                          "steps": "Given Story Map has Epic \"User Management\"\nWhen Story Map attempts to create Epic with duplicate name\nThen System identifies duplicate and returns error"
                        },
                        {
                          "name": "Create Epic updates epics collection",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_updates_epics_collection",
                          "steps": "Given Story Map has existing Epics\nWhen Story Map creates new Epic\nThen Epics collection is updated and new Epic is accessible"
                        },
                        {
                          "name": "Create Epic updates underlying story_graph dict",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_updates_story_graph_dict",
                          "steps": "Given Story Map has existing Epics\nWhen Story Map creates new Epic\nThen story_graph dict is updated with new Epic"
                        },
                        {
                          "name": "Create multiple Epics in sequence",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_multiple_epics_in_sequence",
                          "steps": "Given Story Map is initialized\nWhen Story Map creates multiple Epics\nThen All Epics are added in correct order"
                        },
                        {
                          "name": "Create Epic at beginning (position 0)",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_create_epic_at_beginning_position",
                          "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic at position 0\nThen Epic is inserted at beginning"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate Story Graph",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateStoryGraph",
                      "scenarios": [
                        {
                          "name": "Story Map Loads Epics",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_map_loads_epics",
                          "steps": ""
                        },
                        {
                          "name": "Epic Has Sub Epics",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_epic_has_sub_epics",
                          "steps": ""
                        },
                        {
                          "name": "Sub Epic Has Story Groups",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_sub_epic_has_story_groups",
                          "steps": ""
                        },
                        {
                          "name": "Story Group Has Stories",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_group_has_stories",
                          "steps": ""
                        },
                        {
                          "name": "Story Has Properties",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_has_properties",
                          "steps": ""
                        },
                        {
                          "name": "Story Has Scenarios",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_has_scenarios",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Has Properties",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_has_properties",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Default Test Method",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_default_test_method",
                          "steps": ""
                        },
                        {
                          "name": "Story Has Scenario Outlines",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_has_scenario_outlines",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Outline Has Examples",
                          "sequential_order": 10.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_outline_has_examples",
                          "steps": ""
                        },
                        {
                          "name": "Story Default Test Class",
                          "sequential_order": 11.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_default_test_class",
                          "steps": ""
                        },
                        {
                          "name": "Story Map Walk Traverses All Nodes",
                          "sequential_order": 12.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_map_walk_traverses_all_nodes",
                          "steps": ""
                        },
                        {
                          "name": "Map Location For Epic",
                          "sequential_order": 13.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_map_location_for_epic",
                          "steps": ""
                        },
                        {
                          "name": "Map Location For Sub Epic",
                          "sequential_order": 14.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_map_location_for_sub_epic",
                          "steps": ""
                        },
                        {
                          "name": "Map Location For Story",
                          "sequential_order": 15.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_map_location_for_story",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Map Location",
                          "sequential_order": 16.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_map_location",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Outline Map Location",
                          "sequential_order": 17.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_outline_map_location",
                          "steps": ""
                        },
                        {
                          "name": "From Bot Loads Story Graph",
                          "sequential_order": 18.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_from_bot_loads_story_graph",
                          "steps": ""
                        },
                        {
                          "name": "From Bot With Path",
                          "sequential_order": 19.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_from_bot_with_path",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Map Location",
                          "sequential_order": 20.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_map_location_duplicate",
                          "steps": ""
                        },
                        {
                          "name": "Scenario Outline Map Location",
                          "sequential_order": 21.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_outline_map_location_duplicate",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Delete Story Node",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": "TestDeleteStoryNode",
                      "scenarios": [
                        {
                          "name": "Delete node without children",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_delete_node_without_children",
                          "steps": "Given Story Graph has parent node with children\nWhen Node with no children is deleted\nThen Node is removed and siblings are resequenced"
                        },
                        {
                          "name": "Delete node including children (cascade delete)",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_delete_node_including_children_cascade_delete",
                          "steps": "Given Node has descendants\nWhen Node is deleted with cascade option\nThen Node and all descendants are deleted"
                        },
                        {
                          "name": "Delete node at different positions verifies resequencing",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_delete_node_at_different_positions_verifies_resequencing",
                          "steps": "Given Parent has children in order\nWhen Node at specific position is deleted\nThen Remaining children are resequenced properly"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Delete Story Node From Parent CLI",
                      "sequential_order": 6.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDeleteStoryNodeFromParent",
                      "scenarios": [
                        {
                          "name": "User deletes node without children using dot notation",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_delete_node_without_children",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\"\nAnd SubEpic \"Manage Bot\" has no children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates node exists\nAnd CLI removes node \"Manage Bot\" from parent \"Invoke Bot\"\nAnd CLI resequences siblings\nAnd CLI outputs success message: \"Deleted SubEpic 'Manage Bot' from 'Invoke Bot'\"\nAnd Epic \"Invoke Bot\" shows children: \"SubEpic A\", \"SubEpic B\""
                        },
                        {
                          "name": "User deletes node with children and CLI moves children to parent",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_delete_node_with_children_moves_to_parent",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd SubEpic \"Manage Bot\" has children Stories: \"Story A\", \"Story B\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI moves children \"Story A\" and \"Story B\" to Epic \"Invoke Bot\"\nAnd CLI removes node \"Manage Bot\"\nAnd CLI resequences siblings\nAnd CLI outputs success message: \"Deleted SubEpic 'Manage Bot' from 'Invoke Bot'. Moved 2 children to parent.\"\nAnd Epic \"Invoke Bot\" shows children including \"Story A\" and \"Story B\""
                        },
                        {
                          "name": "User enters non-existent node path and CLI outputs error",
                          "sequential_order": 3.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_delete_nonexistent_node_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".delete\nThen CLI parses dot notation to node \"Non-existent Node\"\nAnd CLI attempts to resolve node \"Non-existent Node\"\nAnd CLI identifies node does not exist\nAnd CLI outputs error: \"Node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': 'Manage Bot'\"\nAnd CLI does not modify Story Graph"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User deletes node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND removes node from parent\nAND resequences siblings\nAND outputs success message",
                          "text": "WHEN User deletes node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND removes node from parent\nAND resequences siblings\nAND outputs success message",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User deletes node with children\nTHEN CLI moves children to node's parent [ - see previous acceptance criteria]\nAND removes node",
                          "text": "WHEN User deletes node with children\nTHEN CLI moves children to node's parent [ - see previous acceptance criteria]\nAND removes node",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist\nAND outputs error with valid paths",
                          "text": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist\nAND outputs error with valid paths",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Delete Story Node From Parent Panel",
                      "sequential_order": 7.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDeleteStoryNodeFromParent",
                      "scenarios": [
                        {
                          "name": "Panel shows delete button for node without children",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_delete_button_for_node",
                          "steps": "And Story Graph has SubEpic \"Authentication\" without children\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Delete\" button\nAnd Panel does not display \"Delete Including Children\" button"
                        },
                        {
                          "name": "Panel shows both delete buttons for node with children",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_panel_shows_both_delete_buttons_for_parent",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Delete\" button\nAnd Panel displays \"Delete Including Children\" button"
                        },
                        {
                          "name": "User clicks delete button and Panel shows confirmation",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_delete_button_shows_confirmation",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User clicks \"Delete\" button\nThen Panel displays confirmation message inline\nAnd Panel displays \"Confirm\" button\nAnd Panel displays \"Cancel\" button\nAnd Panel hides \"Delete\" button"
                        },
                        {
                          "name": "User confirms delete for node without children",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_confirm_delete_node_without_children",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"SubEpic A\", \"Authentication\", \"SubEpic B\"\nAnd SubEpic \"Authentication\" has no children\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel removes SubEpic \"Authentication\" from parent\nAnd Panel resequences siblings\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" shows children: \"SubEpic A\", \"SubEpic B\""
                        },
                        {
                          "name": "User confirms delete for node with children and children move to parent",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_confirm_delete_node_moves_children_to_parent",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has children Stories: \"Login Form\", \"Password Reset\"\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel moves children \"Login Form\" and \"Password Reset\" to Epic \"User Management\"\nAnd Panel removes SubEpic \"Authentication\"\nAnd Panel resequences siblings\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" shows children including \"Login Form\" and \"Password Reset\""
                        },
                        {
                          "name": "User confirms delete including children and Panel recursively deletes all",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_confirm_delete_including_children_deletes_recursively",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has child Story \"Login Form\"\nAnd Story \"Login Form\" has child Scenario \"Valid Login\"\nAnd Delete Including Children confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel recursively removes Scenario \"Valid Login\"\nAnd Panel recursively removes Story \"Login Form\"\nAnd Panel removes SubEpic \"Authentication\"\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" no longer shows \"Authentication\""
                        },
                        {
                          "name": "User cancels delete and node remains unchanged",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_cancel_delete_keeps_node",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Cancel\" button\nThen Panel hides confirmation\nAnd Panel shows \"Delete\" button again\nAnd SubEpic \"Authentication\" remains in Story Graph\nAnd Story \"Login Form\" remains under \"Authentication\""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User selects node\nTHEN Panel shows \"Delete\" button",
                          "text": "WHEN User selects node\nTHEN Panel shows \"Delete\" button",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User selects node with children\nTHEN Panel shows \"Delete\" and \"Delete Including Children\" buttons",
                          "text": "WHEN User selects node with children\nTHEN Panel shows \"Delete\" and \"Delete Including Children\" buttons",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User clicks \"Delete\" button\nTHEN Panel shows confirmation inline\nAND shows confirm and cancel buttons",
                          "text": "WHEN User clicks \"Delete\" button\nTHEN Panel shows confirmation inline\nAND shows confirm and cancel buttons",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User confirms delete without children\nTHEN Panel removes node from parent\nAND resequences siblings\nAND refreshes Story Tree",
                          "text": "WHEN User confirms delete without children\nTHEN Panel removes node from parent\nAND resequences siblings\nAND refreshes Story Tree",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User confirms delete with children\nTHEN Panel moves children to node's parent\nAND removes node\nAND resequences siblings",
                          "text": "WHEN User confirms delete with children\nTHEN Panel moves children to node's parent\nAND removes node\nAND resequences siblings",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN User confirms \"Delete Including Children\"\nTHEN Panel recursively removes all children\nAND removes node",
                          "text": "WHEN User confirms \"Delete Including Children\"\nTHEN Panel recursively removes all children\nAND removes node",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN User cancels\nTHEN Panel hides confirmation\nAND node remains unchanged",
                          "text": "WHEN User cancels\nTHEN Panel hides confirmation\nAND node remains unchanged",
                          "sequential_order": 7.0
                        }
                      ]
                    },
                    {
                      "name": "Move Story Node To Parent",
                      "sequential_order": 8.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": "TestMoveStoryNodeToParent",
                      "scenarios": [
                        {
                          "name": "Move node to new parent with default position",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_to_new_parent_with_default_position",
                          "steps": "Given Node exists under source parent\nWhen Node moves to target parent\nThen Node is removed from source and added to target at last position"
                        },
                        {
                          "name": "Move node to new parent with specified position",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_to_new_parent_with_specified_position",
                          "steps": "Given Node exists under source parent, target parent has children\nWhen Node moves to target parent at specific position\nThen Node is inserted at position and target children shift"
                        },
                        {
                          "name": "Move node with invalid position adjusts to last",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_with_invalid_position_adjusts_to_last",
                          "steps": "Given Node exists under source parent\nWhen Moving to target with invalid position\nThen Position is adjusted to last valid position"
                        },
                        {
                          "name": "Move node to same parent at different position",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_to_same_parent_at_different_position",
                          "steps": "Given Parent has children in order\nWhen Node moves to different position within same parent\nThen Children are reordered correctly"
                        },
                        {
                          "name": "Move node to parent where it already exists returns error",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_to_parent_where_it_already_exists_returns_error",
                          "steps": "Given Node is already child of parent\nWhen Attempting to move node to same parent\nThen System identifies duplicate and returns error"
                        },
                        {
                          "name": "Move SubEpic to SubEpic with Stories returns error",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_subepic_to_subepic_with_stories_returns_error",
                          "steps": "Given Source has SubEpic, target has Stories\nWhen Attempting to move SubEpic to target with Stories\nThen System identifies hierarchy violation and returns error"
                        },
                        {
                          "name": "Move Story to SubEpic with SubEpics returns error",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_story_to_subepic_with_subepics_returns_error",
                          "steps": "Given Source has Story, target has SubEpics\nWhen Attempting to move Story to target with SubEpics\nThen System identifies hierarchy violation and returns error"
                        },
                        {
                          "name": "Move node to create circular reference returns error",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_move_node_to_create_circular_reference_returns_error",
                          "steps": "Given Parent has descendant\nWhen Attempting to move parent to its descendant\nThen System identifies circular reference and returns error"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Move Story Node  CLI",
                      "sequential_order": 9.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestMoveStoryNode",
                      "scenarios": [
                        {
                          "name": "User moves node to different parent with position using dot notation",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_node_to_different_parent_with_position",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\"\nAnd Story Graph has Epic \"Other Epic\" with SubEpics: \"SubEpic C\", \"SubEpic D\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:1\nThen CLI parses dot notation to source node \"Manage Bot\"\nAnd CLI parses dot notation to target parent \"Other Epic\"\nAnd CLI resolves both nodes successfully\nAnd CLI validates \"Other Epic\" can accept SubEpic children\nAnd CLI validates position 1 is valid\nAnd CLI removes \"Manage Bot\" from Epic \"Invoke Bot\"\nAnd CLI inserts \"Manage Bot\" under Epic \"Other Epic\" at position 1\nAnd CLI resequences children in \"Invoke Bot\" to show: \"SubEpic A\", \"SubEpic B\"\nAnd CLI resequences children in \"Other Epic\" to show: \"SubEpic C\", \"Manage Bot\", \"SubEpic D\"\nAnd CLI outputs success message: \"Moved SubEpic 'Manage Bot' from 'Invoke Bot' to 'Other Epic' at position 1\""
                        },
                        {
                          "name": "User moves node to same parent different position",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_node_same_parent_different_position",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\", \"SubEpic C\"\nAnd SubEpic \"Manage Bot\" is at position 1\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI parses position parameter as 3\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI removes \"Manage Bot\" from position 1\nAnd CLI inserts \"Manage Bot\" at position 3\nAnd CLI resequences children to show: \"SubEpic A\", \"SubEpic B\", \"SubEpic C\", \"Manage Bot\"\nAnd CLI outputs success message: \"Moved SubEpic 'Manage Bot' to position 3 within 'Invoke Bot'\""
                        },
                        {
                          "name": "User enters non-existent source path and CLI outputs error",
                          "sequential_order": 3.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_nonexistent_source_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph has Epic \"Other Epic\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".move_to target:\"Other Epic\"\nThen CLI parses dot notation to source node \"Non-existent Node\"\nAnd CLI attempts to resolve source node\nAnd CLI identifies source node does not exist\nAnd CLI outputs error: \"Source node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': (empty)\"\nAnd CLI does not modify Story Graph"
                        },
                        {
                          "name": "User enters non-existent target path and CLI outputs error",
                          "sequential_order": 4.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_to_nonexistent_target_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have Epic \"Non-existent Epic\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Non-existent Epic\"\nThen CLI parses dot notation to source node \"Manage Bot\"\nAnd CLI resolves source node \"Manage Bot\" successfully\nAnd CLI parses dot notation to target parent \"Non-existent Epic\"\nAnd CLI attempts to resolve target parent\nAnd CLI identifies target parent does not exist\nAnd CLI outputs error: \"Target parent 'Non-existent Epic' not found. Valid paths: 'Invoke Bot'\"\nAnd CLI does not modify Story Graph"
                        },
                        {
                          "name": "User moves incompatible type and CLI outputs error",
                          "sequential_order": 5.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_incompatible_type_outputs_error",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nWhen User executes CLI command: story_graph.\"Authorization\".\"Roles\".move_to target:\"Authentication\"\nThen CLI parses notation to source \"Roles\" and target \"Authentication\"\nAnd CLI resolves both nodes successfully\nAnd CLI validates type compatibility\nAnd CLI identifies SubEpic \"Authentication\" already contains Stories\nAnd CLI identifies SubEpic \"Roles\" is incompatible with SubEpic containing Stories\nAnd CLI outputs error: \"Cannot move SubEpic 'Roles' to SubEpic 'Authentication' that contains Stories. Allowed child types: Story\"\nAnd CLI does not modify Story Graph"
                        },
                        {
                          "name": "User moves to create circular reference and CLI outputs error",
                          "sequential_order": 6.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_move_circular_reference_outputs_error",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has SubEpic \"Login Flow\"\nWhen User executes CLI command: story_graph.\"User Management\".move_to target:\"Authentication\"\nThen CLI parses notation to source \"User Management\" and target \"Authentication\"\nAnd CLI resolves both nodes successfully\nAnd CLI detects target \"Authentication\" is descendant of source \"User Management\"\nAnd CLI identifies circular reference would occur\nAnd CLI outputs error: \"Cannot move 'User Management' to 'Authentication': target is a descendant of source (circular reference)\"\nAnd CLI does not modify Story Graph"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User moves node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:2\nTHEN CLI parses notation to source and target\nAND resolves and validates both exist\nAND validates type compatibility\nAND adjusts position if exceeds children count\nAND removes node from source\nAND inserts node at target position\nAND resequences both locations\nAND outputs success message",
                          "text": "WHEN User moves node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:2\nTHEN CLI parses notation to source and target\nAND resolves and validates both exist\nAND validates type compatibility\nAND adjusts position if exceeds children count\nAND removes node from source\nAND inserts node at target position\nAND resequences both locations\nAND outputs success message",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User moves node to same parent different position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND removes node from current position\nAND inserts at new position",
                          "text": "WHEN User moves node to same parent different position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND removes node from current position\nAND inserts at new position",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User enters non-existent source path\nTHEN CLI identifies source does not exist [ - see previous acceptance criteria]\nAND outputs error",
                          "text": "WHEN User enters non-existent source path\nTHEN CLI identifies source does not exist [ - see previous acceptance criteria]\nAND outputs error",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User enters non-existent target path\nTHEN CLI identifies target does not exist [ - see previous acceptance criteria]\nAND outputs error",
                          "text": "WHEN User enters non-existent target path\nTHEN CLI identifies target does not exist [ - see previous acceptance criteria]\nAND outputs error",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User moves incompatible type\nTHEN CLI identifies type incompatibility [ - see previous acceptance criteria]\nAND outputs error with allowed types",
                          "text": "WHEN User moves incompatible type\nTHEN CLI identifies type incompatibility [ - see previous acceptance criteria]\nAND outputs error with allowed types",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN User moves to create circular reference\nTHEN CLI identifies circular reference\nAND outputs error",
                          "text": "WHEN User moves to create circular reference\nTHEN CLI identifies circular reference\nAND outputs error",
                          "sequential_order": 6.0
                        }
                      ]
                    },
                    {
                      "name": "Move Story Node Panel",
                      "sequential_order": 10.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestMoveStoryNode",
                      "scenarios": [
                        {
                          "name": "User drags node and Panel shows drag cursor",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drag_node_shows_drag_cursor",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User starts dragging node \"Authentication\"\nThen Panel shows drag cursor\nAnd Panel shows node icon next to cursor\nAnd Panel indicates node is being moved"
                        },
                        {
                          "name": "User drags over compatible parent and Panel highlights as valid target",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drag_over_compatible_highlights_target",
                          "steps": "And Story Graph has Epic \"User Management\" and Epic \"System Admin\"\nAnd Epic \"User Management\" has SubEpic \"Authentication\"\nAnd User is dragging SubEpic \"Authentication\"\nWhen User drags over Epic \"System Admin\"\nThen Panel validates Epic \"System Admin\" can accept SubEpic children\nAnd Panel highlights Epic \"System Admin\" as valid drop target\nAnd Panel shows drop indicator at target position"
                        },
                        {
                          "name": "User drags over incompatible parent and Panel shows no-drop cursor",
                          "sequential_order": 3.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drag_over_incompatible_shows_no_drop",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nAnd User is dragging SubEpic \"Roles\"\nWhen User drags over SubEpic \"Authentication\" that contains Stories\nThen Panel validates SubEpic \"Authentication\" cannot accept SubEpic children\nAnd Panel shows no-drop cursor\nAnd Panel does not highlight \"Authentication\" as target"
                        },
                        {
                          "name": "User drags over descendant and Panel shows no-drop cursor",
                          "sequential_order": 4.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drag_over_descendant_shows_no_drop",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has SubEpic \"Login Flow\"\nAnd User is dragging Epic \"User Management\"\nWhen User drags over SubEpic \"Authentication\" which is descendant\nThen Panel detects circular reference would occur\nAnd Panel shows no-drop cursor\nAnd Panel does not highlight \"Authentication\" as target"
                        },
                        {
                          "name": "User drops on compatible parent and Panel moves node",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drop_on_compatible_moves_node",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"SubEpic A\", \"Authentication\", \"SubEpic B\"\nAnd Story Graph has Epic \"System Admin\" with SubEpic \"SubEpic C\"\nAnd User is dragging SubEpic \"Authentication\"\nAnd User has dragged over Epic \"System Admin\"\nAnd Panel shows \"System Admin\" as valid drop target\nWhen User drops node on Epic \"System Admin\" at position 1\nThen Panel removes \"Authentication\" from Epic \"User Management\"\nAnd Panel inserts \"Authentication\" under Epic \"System Admin\" at position 1\nAnd Panel resequences children in \"User Management\" to show: \"SubEpic A\", \"SubEpic B\"\nAnd Panel resequences children in \"System Admin\" to show: \"SubEpic C\", \"Authentication\"\nAnd Panel refreshes Story Tree"
                        },
                        {
                          "name": "User drops on incompatible parent and Panel ignores drop",
                          "sequential_order": 6.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_drop_on_incompatible_ignores_drop",
                          "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nAnd User is dragging SubEpic \"Roles\"\nWhen User drops on SubEpic \"Authentication\" that contains Stories\nThen Panel ignores drop operation\nAnd SubEpic \"Roles\" returns to original position under \"Authorization\"\nAnd Panel does not modify Story Graph structure"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User drags node\nTHEN Panel shows drag cursor with node icon",
                          "text": "WHEN User drags node\nTHEN Panel shows drag cursor with node icon",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User drags over compatible parent\nTHEN Panel highlights parent as valid drop target",
                          "text": "WHEN User drags over compatible parent\nTHEN Panel highlights parent as valid drop target",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User drags over incompatible parent or descendant\nTHEN Panel shows no-drop cursor",
                          "text": "WHEN User drags over incompatible parent or descendant\nTHEN Panel shows no-drop cursor",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User drops on compatible parent\nTHEN Panel removes node from source\nAND inserts node under target at position\nAND resequences nodes in both locations\nAND refreshes Story Tree",
                          "text": "WHEN User drops on compatible parent\nTHEN Panel removes node from source\nAND inserts node under target at position\nAND resequences nodes in both locations\nAND refreshes Story Tree",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User drops on incompatible parent\nTHEN Panel ignores drop\nAND node returns to original position",
                          "text": "WHEN User drops on incompatible parent\nTHEN Panel ignores drop\nAND node returns to original position",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Display Story Graph Through CLI",
                      "sequential_order": 11.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayStoryGraphThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display loaded story graph",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_loaded_story_graph",
                          "steps": "GIVEN: Story graph is loaded\nWHEN: user views build instructions\nTHEN: CLI displays story graph structure"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Update Story Node name  CLI",
                      "sequential_order": 12.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestUpdateStoryNodename",
                      "scenarios": [
                        {
                          "name": "User renames node with valid name using dot notation",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_rename_node_with_valid_name",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Old Name\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nThen CLI parses dot notation to node \"Old Name\"\nAnd CLI resolves node \"Old Name\" successfully\nAnd CLI validates node exists\nAnd CLI validates name \"New Name\" is not empty\nAnd CLI validates name \"New Name\" is unique among siblings\nAnd CLI updates node name to \"New Name\"\nAnd CLI outputs success message: \"Renamed SubEpic 'Old Name' to 'New Name'\"\nAnd Story Graph shows SubEpic \"New Name\" under Epic \"Invoke Bot\""
                        },
                        {
                          "name": "User enters non-existent node path and CLI outputs error",
                          "sequential_order": 2.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_rename_nonexistent_node_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".rename name:\"New Name\"\nThen CLI parses dot notation to node \"Non-existent Node\"\nAnd CLI attempts to resolve node \"Non-existent Node\"\nAnd CLI identifies node does not exist\nAnd CLI outputs error: \"Node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': 'Manage Bot'\"\nAnd CLI does not modify Story Graph"
                        },
                        {
                          "name": "User enters empty name and CLI outputs error",
                          "sequential_order": 3.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_rename_with_empty_name_outputs_error",
                          "steps": "And Story Graph has SubEpic \"Manage Bot\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".rename name:\"\"\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates new name\nAnd CLI identifies name is empty\nAnd CLI outputs error: \"Name cannot be empty\"\nAnd CLI does not update node name"
                        },
                        {
                          "name": "User enters duplicate name and CLI outputs error",
                          "sequential_order": 4.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_rename_with_duplicate_name_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"Manage Bot\", \"Other SubEpic\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Other SubEpic\".rename name:\"Manage Bot\"\nThen CLI parses dot notation to node \"Other SubEpic\"\nAnd CLI resolves node \"Other SubEpic\" successfully\nAnd CLI validates name \"Manage Bot\" against siblings\nAnd CLI identifies duplicate name\nAnd CLI outputs error: \"Child with name 'Manage Bot' already exists under parent 'Invoke Bot'\"\nAnd CLI does not update node name"
                        },
                        {
                          "name": "User enters invalid characters and CLI outputs error",
                          "sequential_order": 5.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_rename_with_invalid_characters_outputs_error",
                          "steps": "And Story Graph has SubEpic \"Manage Bot\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".rename name:\"Name<>|*\"\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates characters in name \"Name<>|*\"\nAnd CLI identifies invalid characters: <, >, |, *\nAnd CLI outputs error: \"Name contains invalid characters: < > | *\"\nAnd CLI does not update node name"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User renames node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND validates name not empty and unique among siblings\nAND updates node name\nAND outputs success message",
                          "text": "WHEN User renames node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND validates name not empty and unique among siblings\nAND updates node name\nAND outputs success message",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                          "text": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User enters empty name\nTHEN CLI outputs error",
                          "text": "WHEN User enters empty name\nTHEN CLI outputs error",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                          "text": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User enters invalid characters\nTHEN CLI identifies invalid characters\nAND outputs error",
                          "text": "WHEN User enters invalid characters\nTHEN CLI identifies invalid characters\nAND outputs error",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Update Story Node name Panel",
                      "sequential_order": 13.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestUpdateStoryNodename",
                      "scenarios": [
                        {
                          "name": "User clicks node name and Panel enables inline editing",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_click_name_enables_inline_editing",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User clicks node name \"Authentication\"\nThen Panel enables inline editing mode\nAnd Panel shows text input field with current name\nAnd Panel selects all text in name field"
                        },
                        {
                          "name": "User types valid name and saves by pressing Tab",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_save_valid_name_with_tab",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name \"Authentication\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"User Authentication\"\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel updates node name to \"User Authentication\"\nAnd Panel exits editing mode\nAnd Panel refreshes Story Tree\nAnd Story Tree shows \"User Authentication\""
                        },
                        {
                          "name": "User types valid name and saves by pressing Enter",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_save_valid_name_with_enter",
                          "steps": "And Story Graph has Story \"Login Form\"\nAnd User has clicked node name \"Login Form\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"User Login Interface\"\nAnd User presses Enter\nThen Panel validates name in real-time\nAnd Panel updates node name to \"User Login Interface\"\nAnd Panel exits editing mode\nAnd Panel refreshes Story Tree"
                        },
                        {
                          "name": "User types empty name and Panel shows required message",
                          "sequential_order": 4.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_empty_name_shows_required_message",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User clears all text from name field\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel shows error message \"Name required\"\nAnd Panel remains in editing mode\nAnd Panel does not save empty name"
                        },
                        {
                          "name": "User types duplicate name and Panel shows exists message",
                          "sequential_order": 5.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_duplicate_name_shows_exists_message",
                          "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"Authentication\", \"Authorization\"\nAnd User has clicked node name \"Authorization\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"Authentication\"\nAnd User presses Tab\nThen Panel validates name against siblings\nAnd Panel shows error message \"Name already exists\"\nAnd Panel remains in editing mode\nAnd Panel does not save duplicate name"
                        },
                        {
                          "name": "User types invalid characters and Panel shows invalid message",
                          "sequential_order": 6.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_invalid_characters_shows_message",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User types \"Auth<>|*\"\nAnd User presses Tab\nThen Panel validates characters in name\nAnd Panel shows error message \"Invalid characters\"\nAnd Panel remains in editing mode\nAnd Panel does not save name with invalid characters"
                        },
                        {
                          "name": "User cancels editing by pressing Escape and Panel retains original name",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_escape_cancels_editing_retains_name",
                          "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User types \"New Name\"\nAnd User presses Escape\nThen Panel exits editing mode\nAnd Panel retains original name \"Authentication\"\nAnd Panel does not save name change\nAnd Story Tree still shows \"Authentication\""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks node name\nTHEN Panel enables inline editing",
                          "text": "WHEN User clicks node name\nTHEN Panel enables inline editing",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User types in name field\nAND User presses Tab or Enter clicks away from the name field.\nTHEN Panel validates name in real-time\nAND saves Name change",
                          "text": "WHEN User types in name field\nAND User presses Tab or Enter clicks away from the name field.\nTHEN Panel validates name in real-time\nAND saves Name change",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User types empty name\nTHEN Panel shows \"Name required\" message",
                          "text": "WHEN User types empty name\nTHEN Panel shows \"Name required\" message",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User types duplicate name\nTHEN Panel shows \"Name already exists\" message",
                          "text": "WHEN User types duplicate name\nTHEN Panel shows \"Name already exists\" message",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User types invalid characters\nTHEN Panel shows \"Invalid characters\" message",
                          "text": "WHEN User types invalid characters\nTHEN Panel shows \"Invalid characters\" message",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN User saves valid name\nTHEN Panel updates node name\nAND exits editing mode\nAND refreshes Story Tree",
                          "text": "WHEN User saves valid name\nTHEN Panel updates node name\nAND exits editing mode\nAND refreshes Story Tree",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN User cancels By pressing Escape\nTHEN Panel retains previous name\nAND exits editing mode",
                          "text": "WHEN User cancels By pressing Escape\nTHEN Panel retains previous name\nAND exits editing mode",
                          "sequential_order": 7.0
                        }
                      ]
                    },
                    {
                      "name": "Update Story Node Name",
                      "sequential_order": 14.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestUpdateStoryNodeName",
                      "scenarios": [
                        {
                          "name": "Rename node with valid name across hierarchy levels",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_rename_node_with_valid_name_across_hierarchy_levels",
                          "steps": "GIVEN: Node exists with old name\nWHEN: Node is renamed to new valid name\nTHEN: Node name is updated and accessible by new name"
                        },
                        {
                          "name": "Rename node with empty or whitespace name returns error",
                          "sequential_order": 2.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_rename_node_with_empty_or_whitespace_name_returns_error",
                          "steps": "GIVEN: Node exists with current name\nWHEN: Attempting to rename to empty or whitespace name\nTHEN: System identifies invalid name and returns error"
                        },
                        {
                          "name": "Rename node with duplicate sibling name returns error",
                          "sequential_order": 3.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_rename_node_with_duplicate_sibling_name_returns_error",
                          "steps": "GIVEN: Parent has multiple children including target node\nWHEN: Attempting to rename node to existing sibling name\nTHEN: System identifies duplicate and returns error"
                        },
                        {
                          "name": "Rename node with valid special characters",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_rename_node_with_valid_special_characters",
                          "steps": "GIVEN: Node exists with old name\nWHEN: Renaming to name with valid special characters\nTHEN: Name is updated and special characters are preserved"
                        },
                        {
                          "name": "Rename node with invalid special characters returns error",
                          "sequential_order": 5.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_rename_node_with_invalid_special_characters_returns_error",
                          "steps": "GIVEN: Node exists with current name\nWHEN: Attempting to rename with invalid special characters\nTHEN: System identifies invalid characters and returns error"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Execute Action Scoped To Story Node",
                      "sequential_order": 15.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteActionScopedToStoryNode",
                      "scenarios": [
                        {
                          "name": "Execute action on node with valid parameters",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_execute_action_on_node_with_valid_parameters",
                          "steps": "GIVEN: Node exists and bot has registered actions\nWHEN: Node executes action with valid parameters\nTHEN: Action completes successfully"
                        },
                        {
                          "name": "Execute action with invalid parameters returns error",
                          "sequential_order": 2.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_execute_action_with_invalid_parameters_returns_error",
                          "steps": "GIVEN: Node exists and bot has registered actions\nWHEN: Node executes action with invalid parameters\nTHEN: Bot validates parameters and returns error"
                        },
                        {
                          "name": "Execute non-existent action returns error",
                          "sequential_order": 3.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_execute_non_existent_action_returns_error",
                          "steps": "GIVEN: Node exists and bot has registered actions\nWHEN: Node attempts to execute non-existent action\nTHEN: Bot validates action exists and returns error"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Create Child Story Node",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": "TestCreateChildStoryNode",
                  "scenarios": [
                    {
                      "name": "Create child node at any hierarchy level with default position",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_child_node_at_hierarchy_level",
                      "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node of specified type\nThen Child is added at last position with correct total count"
                    },
                    {
                      "name": "Create child node with specified position",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_child_node_with_position",
                      "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node at specific position\nThen Child is inserted at position and existing children shift"
                    },
                    {
                      "name": "Create child node with invalid position adjusts to last position",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_child_invalid_position_adjusts",
                      "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child node at invalid position (exceeds child count)\nThen System adjusts position to last valid position"
                    },
                    {
                      "name": "Create child node with duplicate name returns error",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_child_with_duplicate_name_returns_error",
                      "steps": "Given Story Graph has parent node with existing child\nWhen Parent attempts to create child with duplicate name\nThen System identifies duplicate and returns error"
                    },
                    {
                      "name": "Create child node without name generates unique name",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_child_without_name_generates_unique_name",
                      "steps": "Given Story Graph has parent node with existing children\nWhen Parent creates child without providing name\nThen System generates unique name (Child1, Child2, etc.)"
                    },
                    {
                      "name": "SubEpic creates Story and auto-creates StoryGroup on first Story",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_subepic_creates_story_and_storygroup",
                      "steps": "Given SubEpic has existing Story count (0 or more)\nWhen SubEpic creates new Story\nThen StoryGroup is created (if first) or existing StoryGroup is used"
                    },
                    {
                      "name": "SubEpic with Stories cannot create SubEpic child",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_subepic_with_stories_cannot_create_subepic_child",
                      "steps": "Given SubEpic has existing Story children\nWhen SubEpic attempts to create SubEpic child\nThen System identifies hierarchy violation and returns error"
                    },
                    {
                      "name": "SubEpic with SubEpics cannot create Story child",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_subepic_with_subepics_cannot_create_story_child",
                      "steps": "Given SubEpic has existing SubEpic children\nWhen SubEpic attempts to create Story child\nThen System identifies hierarchy violation and returns error"
                    },
                    {
                      "name": "Story creates child and adds to correct collection",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_creates_child_in_correct_collection",
                      "steps": "Given Story exists in story graph\nWhen Story creates child of specific type (Scenario, ScenarioOutline, AcceptanceCriteria)\nThen Child is added to correct collection and not to others"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Create Child Story Node Under Parent Panel",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestCreateChildStoryNodeUnderParent",
                  "scenarios": [
                    {
                      "name": "Panel shows appropriate create button for Epic node",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_create_sub_epic_button_for_epic",
                      "steps": "And Story Graph has Epic named \"User Management\"\nWhen User selects Epic \"User Management\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel does not display \"Create Story\" button"
                    },
                    {
                      "name": "Panel shows both create buttons for SubEpic without children",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_both_buttons_for_empty_subepic",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has no children\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel displays \"Create Story\" button"
                    },
                    {
                      "name": "Panel shows only create SubEpic button for SubEpic with SubEpic children",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_subepic_button_only_when_has_subepics",
                      "steps": "And Story Graph has SubEpic \"User Management\" with child SubEpic \"Authentication\"\nWhen User selects SubEpic \"User Management\"\nThen Panel displays \"Create Sub-Epic\" button\nAnd Panel does not display \"Create Story\" button"
                    },
                    {
                      "name": "Panel shows only create Story button for SubEpic with Stories",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_story_button_only_when_has_stories",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Create Story\" button\nAnd Panel does not display \"Create Sub-Epic\" button"
                    },
                    {
                      "name": "Panel shows scenario create buttons for Story node",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_scenario_buttons_for_story",
                      "steps": "And Story Graph has Story \"Validate Password\"\nWhen User selects Story \"Validate Password\"\nThen Panel displays \"Create Scenario\" button\nAnd Panel displays \"Create Scenario Outline\" button\nAnd Panel displays \"Create Acceptance Criteria\" button"
                    },
                    {
                      "name": "User creates child node with auto-generated name in edit mode",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_create_child_auto_name_edit_mode",
                      "steps": "And Story Graph has Epic \"User Management\" with two SubEpic children\nAnd Epic \"User Management\" is selected\nWhen User clicks \"Create Sub-Epic\" button\nThen Panel creates new SubEpic with name \"SubEpic3\"\nAnd Panel puts node name in edit mode\nAnd Panel selects all text in name field\nAnd Panel refreshes Story Tree showing new child\nAnd new SubEpic appears as last child of \"User Management\""
                    },
                    {
                      "name": "User enters duplicate name and Panel shows warning",
                      "sequential_order": 7.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_duplicate_name_shows_warning_stays_in_edit",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd new SubEpic exists under \"User Management\" with name in edit mode\nWhen User types \"Authentication\" in name field\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel shows warning message \"Child with name 'Authentication' already exists\"\nAnd Panel keeps node name in edit mode\nAnd Panel keeps text selected\nAnd Panel does not save the duplicate name"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User selects Epic node\nTHEN Panel shows \"Create Sub-Epic\" button",
                      "text": "WHEN User selects Epic node\nTHEN Panel shows \"Create Sub-Epic\" button",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User selects SubEpic without children\nTHEN Panel shows \"Create Sub-Epic\" and \"Create Story\" buttons",
                      "text": "WHEN User selects SubEpic without children\nTHEN Panel shows \"Create Sub-Epic\" and \"Create Story\" buttons",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User selects SubEpic with Sub-Epic children\nTHEN Panel shows \"Create Sub-Epic\" button",
                      "text": "WHEN User selects SubEpic with Sub-Epic children\nTHEN Panel shows \"Create Sub-Epic\" button",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User selects SubEpic with Stories\nTHEN Panel shows \"Create Story\" button",
                      "text": "WHEN User selects SubEpic with Stories\nTHEN Panel shows \"Create Story\" button",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User selects Story node\nTHEN Panel shows \"Create Scenario\", \"Create Scenario Outline\", and \"Create Acceptance Criteria\" buttons",
                      "text": "WHEN User selects Story node\nTHEN Panel shows \"Create Scenario\", \"Create Scenario Outline\", and \"Create Acceptance Criteria\" buttons",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN User creates child node\nTHEN Panel creates child with unique generic name\nAnd sets the child type based on the create button pressed\nAND puts node name in edit mode with text selected\nAND refreshes Story Tree",
                      "text": "WHEN User creates child node\nTHEN Panel creates child with unique generic name\nAnd sets the child type based on the create button pressed\nAND puts node name in edit mode with text selected\nAND refreshes Story Tree",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN User enters duplicate name\nAND user presses Tab or Enter or clicks anywhere away from the name field.\nTHEN Panel shows warning in real-time\nAND leaves node name in edit mode with head selected.",
                      "text": "WHEN User enters duplicate name\nAND user presses Tab or Enter or clicks anywhere away from the name field.\nTHEN Panel shows warning in real-time\nAND leaves node name in edit mode with head selected.",
                      "sequential_order": 7.0
                    }
                  ]
                },
                {
                  "name": "Create Child Story Node Under Parent CLI",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestCreateChildStoryNodeUnderParent",
                  "scenarios": [
                    {
                      "name": "User creates child with dot notation at default position",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_create_child_with_dot_notation_default_position",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with two SubEpic children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic.\"Manage Bot Information\"\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI resolves parent \"Invoke Bot\" successfully\nAnd CLI validates parent exists\nAnd CLI creates SubEpic \"Manage Bot Information\" as last child of \"Invoke Bot\"\nAnd CLI outputs success message: \"Created SubEpic 'Manage Bot Information' under 'Invoke Bot' at position 2\"\nAnd Story Graph shows \"Manage Bot Information\" at position 2 under \"Invoke Bot\""
                    },
                    {
                      "name": "User creates child with position specified",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_create_child_with_position_specified",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with children: \"SubEpic A\", \"SubEpic B\", \"SubEpic C\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI parses position parameter as 1\nAnd CLI creates SubEpic \"Info\" at position 1\nAnd CLI resequences children\nAnd CLI outputs success message: \"Created SubEpic 'Info' under 'Invoke Bot' at position 1\"\nAnd Story Graph shows children in order: \"SubEpic A\", \"Info\", \"SubEpic B\", \"SubEpic C\""
                    },
                    {
                      "name": "User creates child with invalid position and CLI adjusts",
                      "sequential_order": 3.0,
                      "type": "edge_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_create_child_invalid_position_adjusts",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with two SubEpic children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:99\nThen CLI parses position parameter as 99\nAnd CLI detects position 99 exceeds children count of 2\nAnd CLI adjusts position to 2\nAnd CLI creates SubEpic \"Info\" at adjusted position 2\nAnd CLI outputs success message: \"Created SubEpic 'Info' under 'Invoke Bot' at position 2 (adjusted from 99)\"\nAnd Story Graph shows \"Info\" as last child"
                    },
                    {
                      "name": "User enters non-existent parent path and CLI outputs error",
                      "sequential_order": 4.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_nonexistent_parent_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph does not have Epic \"Non-existent Epic\"\nWhen User executes CLI command: story_graph.\"Non-existent Epic\".create_sub_epic name:\"New SubEpic\"\nThen CLI parses dot notation to parent \"Non-existent Epic\"\nAnd CLI attempts to resolve parent \"Non-existent Epic\"\nAnd CLI identifies parent does not exist\nAnd CLI outputs error: \"Parent 'Non-existent Epic' not found. Valid paths: 'Invoke Bot'\"\nAnd CLI does not create SubEpic"
                    },
                    {
                      "name": "User enters incompatible child type and CLI outputs error",
                      "sequential_order": 5.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_incompatible_child_type_outputs_error",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User executes CLI command: story_graph.\"Authentication\".create_sub_epic name:\"OAuth Flow\"\nThen CLI parses dot notation to parent \"Authentication\"\nAnd CLI resolves parent \"Authentication\" successfully\nAnd CLI identifies parent \"Authentication\" already contains Stories\nAnd CLI identifies SubEpic is incompatible child type for SubEpic with Stories\nAnd CLI outputs error: \"Cannot create SubEpic under SubEpic 'Authentication' that contains Stories. Allowed child types: Story\"\nAnd CLI does not create SubEpic \"OAuth Flow\""
                    },
                    {
                      "name": "User enters duplicate name and CLI outputs error",
                      "sequential_order": 6.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_duplicate_name_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot Information\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".create_sub_epic.\"Manage Bot Information\"\nThen CLI parses dot notation to parent \"Invoke Bot\"\nAnd CLI resolves parent \"Invoke Bot\" successfully\nAnd CLI validates child name \"Manage Bot Information\"\nAnd CLI identifies duplicate name among siblings\nAnd CLI outputs error: \"Child with name 'Manage Bot Information' already exists under parent 'Invoke Bot'\"\nAnd CLI does not create duplicate SubEpic"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User creates new child with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Manage Bot Information\"\nTHEN CLI parses dot notation to parent\nAND resolves and validates parent exists\nAND sets the child type based on the command used\nAND creates child as last child\nAND outputs success message with node path",
                      "text": "WHEN User creates new child with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Manage Bot Information\"\nTHEN CLI parses dot notation to parent\nAND resolves and validates parent exists\nAND sets the child type based on the command used\nAND creates child as last child\nAND outputs success message with node path",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User creates child with position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND adjusts position if exceeds children count\nAND creates child at position\nAND resequences children",
                      "text": "WHEN User creates child with position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".create_sub_epic name:\"Info\" at_position:1\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND adjusts position if exceeds children count\nAND creates child at position\nAND resequences children",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User enters non-existent parent path\nTHEN CLI identifies parent does not exist\nAND outputs error with valid paths",
                      "text": "WHEN User enters non-existent parent path\nTHEN CLI identifies parent does not exist\nAND outputs error with valid paths",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User enters incompatible child type\nTHEN CLI identifies type incompatibility\nAND outputs error with allowed child types",
                      "text": "WHEN User enters incompatible child type\nTHEN CLI identifies type incompatibility\nAND outputs error with allowed child types",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                      "text": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Create Epic",
                  "sequential_order": 3.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": "TestCreateEpic",
                  "scenarios": [
                    {
                      "name": "Create Epic with name at default position",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_with_name_at_default_position",
                      "steps": "Given Story Map is initialized\nWhen Story Map creates Epic with name\nThen Epic is added at last position"
                    },
                    {
                      "name": "Create Epic with position specified",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_with_position_specified",
                      "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic at specific position\nThen Epic is inserted at position and existing Epics shift"
                    },
                    {
                      "name": "Create Epic with invalid position adjusts to last",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_with_invalid_position_adjusts",
                      "steps": "Given Story Map has 2 Epics\nWhen Story Map creates Epic at position 99\nThen Position is adjusted to last (position 2)"
                    },
                    {
                      "name": "Create Epic without name generates unique name",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_without_name_generates_unique_name",
                      "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic without name\nThen System generates unique name (Epic1, Epic2, etc.)"
                    },
                    {
                      "name": "Create Epic with duplicate name returns error",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_with_duplicate_name_returns_error",
                      "steps": "Given Story Map has Epic \"User Management\"\nWhen Story Map attempts to create Epic with duplicate name\nThen System identifies duplicate and returns error"
                    },
                    {
                      "name": "Create Epic updates epics collection",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_updates_epics_collection",
                      "steps": "Given Story Map has existing Epics\nWhen Story Map creates new Epic\nThen Epics collection is updated and new Epic is accessible"
                    },
                    {
                      "name": "Create Epic updates underlying story_graph dict",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_updates_story_graph_dict",
                      "steps": "Given Story Map has existing Epics\nWhen Story Map creates new Epic\nThen story_graph dict is updated with new Epic"
                    },
                    {
                      "name": "Create multiple Epics in sequence",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_multiple_epics_in_sequence",
                      "steps": "Given Story Map is initialized\nWhen Story Map creates multiple Epics\nThen All Epics are added in correct order"
                    },
                    {
                      "name": "Create Epic at beginning (position 0)",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_create_epic_at_beginning_position",
                      "steps": "Given Story Map has existing Epics\nWhen Story Map creates Epic at position 0\nThen Epic is inserted at beginning"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Navigate Story Graph",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestNavigateStoryGraph",
                  "scenarios": [
                    {
                      "name": "Story Map Loads Epics",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_map_loads_epics",
                      "steps": ""
                    },
                    {
                      "name": "Epic Has Sub Epics",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_epic_has_sub_epics",
                      "steps": ""
                    },
                    {
                      "name": "Sub Epic Has Story Groups",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_sub_epic_has_story_groups",
                      "steps": ""
                    },
                    {
                      "name": "Story Group Has Stories",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_group_has_stories",
                      "steps": ""
                    },
                    {
                      "name": "Story Has Properties",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_has_properties",
                      "steps": ""
                    },
                    {
                      "name": "Story Has Scenarios",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_has_scenarios",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Has Properties",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_has_properties",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Default Test Method",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_default_test_method",
                      "steps": ""
                    },
                    {
                      "name": "Story Has Scenario Outlines",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_has_scenario_outlines",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Outline Has Examples",
                      "sequential_order": 10.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_outline_has_examples",
                      "steps": ""
                    },
                    {
                      "name": "Story Default Test Class",
                      "sequential_order": 11.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_default_test_class",
                      "steps": ""
                    },
                    {
                      "name": "Story Map Walk Traverses All Nodes",
                      "sequential_order": 12.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_map_walk_traverses_all_nodes",
                      "steps": ""
                    },
                    {
                      "name": "Map Location For Epic",
                      "sequential_order": 13.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_map_location_for_epic",
                      "steps": ""
                    },
                    {
                      "name": "Map Location For Sub Epic",
                      "sequential_order": 14.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_map_location_for_sub_epic",
                      "steps": ""
                    },
                    {
                      "name": "Map Location For Story",
                      "sequential_order": 15.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_map_location_for_story",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Map Location",
                      "sequential_order": 16.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_map_location",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Outline Map Location",
                      "sequential_order": 17.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_outline_map_location",
                      "steps": ""
                    },
                    {
                      "name": "From Bot Loads Story Graph",
                      "sequential_order": 18.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_from_bot_loads_story_graph",
                      "steps": ""
                    },
                    {
                      "name": "From Bot With Path",
                      "sequential_order": 19.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_from_bot_with_path",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Map Location",
                      "sequential_order": 20.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_map_location_duplicate",
                      "steps": ""
                    },
                    {
                      "name": "Scenario Outline Map Location",
                      "sequential_order": 21.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_scenario_outline_map_location_duplicate",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Delete Story Node",
                  "sequential_order": 5.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": "TestDeleteStoryNode",
                  "scenarios": [
                    {
                      "name": "Delete node without children",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_delete_node_without_children",
                      "steps": "Given Story Graph has parent node with children\nWhen Node with no children is deleted\nThen Node is removed and siblings are resequenced"
                    },
                    {
                      "name": "Delete node including children (cascade delete)",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_delete_node_including_children_cascade_delete",
                      "steps": "Given Node has descendants\nWhen Node is deleted with cascade option\nThen Node and all descendants are deleted"
                    },
                    {
                      "name": "Delete node at different positions verifies resequencing",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_delete_node_at_different_positions_verifies_resequencing",
                      "steps": "Given Parent has children in order\nWhen Node at specific position is deleted\nThen Remaining children are resequenced properly"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Delete Story Node From Parent CLI",
                  "sequential_order": 6.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDeleteStoryNodeFromParent",
                  "scenarios": [
                    {
                      "name": "User deletes node without children using dot notation",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_delete_node_without_children",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\"\nAnd SubEpic \"Manage Bot\" has no children\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates node exists\nAnd CLI removes node \"Manage Bot\" from parent \"Invoke Bot\"\nAnd CLI resequences siblings\nAnd CLI outputs success message: \"Deleted SubEpic 'Manage Bot' from 'Invoke Bot'\"\nAnd Epic \"Invoke Bot\" shows children: \"SubEpic A\", \"SubEpic B\""
                    },
                    {
                      "name": "User deletes node with children and CLI moves children to parent",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_delete_node_with_children_moves_to_parent",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd SubEpic \"Manage Bot\" has children Stories: \"Story A\", \"Story B\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI moves children \"Story A\" and \"Story B\" to Epic \"Invoke Bot\"\nAnd CLI removes node \"Manage Bot\"\nAnd CLI resequences siblings\nAnd CLI outputs success message: \"Deleted SubEpic 'Manage Bot' from 'Invoke Bot'. Moved 2 children to parent.\"\nAnd Epic \"Invoke Bot\" shows children including \"Story A\" and \"Story B\""
                    },
                    {
                      "name": "User enters non-existent node path and CLI outputs error",
                      "sequential_order": 3.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_delete_nonexistent_node_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".delete\nThen CLI parses dot notation to node \"Non-existent Node\"\nAnd CLI attempts to resolve node \"Non-existent Node\"\nAnd CLI identifies node does not exist\nAnd CLI outputs error: \"Node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': 'Manage Bot'\"\nAnd CLI does not modify Story Graph"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User deletes node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND removes node from parent\nAND resequences siblings\nAND outputs success message",
                      "text": "WHEN User deletes node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".delete\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND removes node from parent\nAND resequences siblings\nAND outputs success message",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User deletes node with children\nTHEN CLI moves children to node's parent [ - see previous acceptance criteria]\nAND removes node",
                      "text": "WHEN User deletes node with children\nTHEN CLI moves children to node's parent [ - see previous acceptance criteria]\nAND removes node",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist\nAND outputs error with valid paths",
                      "text": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist\nAND outputs error with valid paths",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Delete Story Node From Parent Panel",
                  "sequential_order": 7.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDeleteStoryNodeFromParent",
                  "scenarios": [
                    {
                      "name": "Panel shows delete button for node without children",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_delete_button_for_node",
                      "steps": "And Story Graph has SubEpic \"Authentication\" without children\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Delete\" button\nAnd Panel does not display \"Delete Including Children\" button"
                    },
                    {
                      "name": "Panel shows both delete buttons for node with children",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_panel_shows_both_delete_buttons_for_parent",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nWhen User selects SubEpic \"Authentication\"\nThen Panel displays \"Delete\" button\nAnd Panel displays \"Delete Including Children\" button"
                    },
                    {
                      "name": "User clicks delete button and Panel shows confirmation",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_delete_button_shows_confirmation",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User clicks \"Delete\" button\nThen Panel displays confirmation message inline\nAnd Panel displays \"Confirm\" button\nAnd Panel displays \"Cancel\" button\nAnd Panel hides \"Delete\" button"
                    },
                    {
                      "name": "User confirms delete for node without children",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_confirm_delete_node_without_children",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"SubEpic A\", \"Authentication\", \"SubEpic B\"\nAnd SubEpic \"Authentication\" has no children\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel removes SubEpic \"Authentication\" from parent\nAnd Panel resequences siblings\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" shows children: \"SubEpic A\", \"SubEpic B\""
                    },
                    {
                      "name": "User confirms delete for node with children and children move to parent",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_confirm_delete_node_moves_children_to_parent",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has children Stories: \"Login Form\", \"Password Reset\"\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel moves children \"Login Form\" and \"Password Reset\" to Epic \"User Management\"\nAnd Panel removes SubEpic \"Authentication\"\nAnd Panel resequences siblings\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" shows children including \"Login Form\" and \"Password Reset\""
                    },
                    {
                      "name": "User confirms delete including children and Panel recursively deletes all",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_confirm_delete_including_children_deletes_recursively",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has child Story \"Login Form\"\nAnd Story \"Login Form\" has child Scenario \"Valid Login\"\nAnd Delete Including Children confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Confirm\" button\nThen Panel recursively removes Scenario \"Valid Login\"\nAnd Panel recursively removes Story \"Login Form\"\nAnd Panel removes SubEpic \"Authentication\"\nAnd Panel refreshes Story Tree\nAnd Epic \"User Management\" no longer shows \"Authentication\""
                    },
                    {
                      "name": "User cancels delete and node remains unchanged",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_cancel_delete_keeps_node",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with child Story \"Login Form\"\nAnd Delete confirmation is displayed on panel for \"Authentication\"\nWhen User clicks \"Cancel\" button\nThen Panel hides confirmation\nAnd Panel shows \"Delete\" button again\nAnd SubEpic \"Authentication\" remains in Story Graph\nAnd Story \"Login Form\" remains under \"Authentication\""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User selects node\nTHEN Panel shows \"Delete\" button",
                      "text": "WHEN User selects node\nTHEN Panel shows \"Delete\" button",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User selects node with children\nTHEN Panel shows \"Delete\" and \"Delete Including Children\" buttons",
                      "text": "WHEN User selects node with children\nTHEN Panel shows \"Delete\" and \"Delete Including Children\" buttons",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User clicks \"Delete\" button\nTHEN Panel shows confirmation inline\nAND shows confirm and cancel buttons",
                      "text": "WHEN User clicks \"Delete\" button\nTHEN Panel shows confirmation inline\nAND shows confirm and cancel buttons",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User confirms delete without children\nTHEN Panel removes node from parent\nAND resequences siblings\nAND refreshes Story Tree",
                      "text": "WHEN User confirms delete without children\nTHEN Panel removes node from parent\nAND resequences siblings\nAND refreshes Story Tree",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User confirms delete with children\nTHEN Panel moves children to node's parent\nAND removes node\nAND resequences siblings",
                      "text": "WHEN User confirms delete with children\nTHEN Panel moves children to node's parent\nAND removes node\nAND resequences siblings",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN User confirms \"Delete Including Children\"\nTHEN Panel recursively removes all children\nAND removes node",
                      "text": "WHEN User confirms \"Delete Including Children\"\nTHEN Panel recursively removes all children\nAND removes node",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN User cancels\nTHEN Panel hides confirmation\nAND node remains unchanged",
                      "text": "WHEN User cancels\nTHEN Panel hides confirmation\nAND node remains unchanged",
                      "sequential_order": 7.0
                    }
                  ]
                },
                {
                  "name": "Move Story Node To Parent",
                  "sequential_order": 8.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": "TestMoveStoryNodeToParent",
                  "scenarios": [
                    {
                      "name": "Move node to new parent with default position",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_to_new_parent_with_default_position",
                      "steps": "Given Node exists under source parent\nWhen Node moves to target parent\nThen Node is removed from source and added to target at last position"
                    },
                    {
                      "name": "Move node to new parent with specified position",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_to_new_parent_with_specified_position",
                      "steps": "Given Node exists under source parent, target parent has children\nWhen Node moves to target parent at specific position\nThen Node is inserted at position and target children shift"
                    },
                    {
                      "name": "Move node with invalid position adjusts to last",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_with_invalid_position_adjusts_to_last",
                      "steps": "Given Node exists under source parent\nWhen Moving to target with invalid position\nThen Position is adjusted to last valid position"
                    },
                    {
                      "name": "Move node to same parent at different position",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_to_same_parent_at_different_position",
                      "steps": "Given Parent has children in order\nWhen Node moves to different position within same parent\nThen Children are reordered correctly"
                    },
                    {
                      "name": "Move node to parent where it already exists returns error",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_to_parent_where_it_already_exists_returns_error",
                      "steps": "Given Node is already child of parent\nWhen Attempting to move node to same parent\nThen System identifies duplicate and returns error"
                    },
                    {
                      "name": "Move SubEpic to SubEpic with Stories returns error",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_subepic_to_subepic_with_stories_returns_error",
                      "steps": "Given Source has SubEpic, target has Stories\nWhen Attempting to move SubEpic to target with Stories\nThen System identifies hierarchy violation and returns error"
                    },
                    {
                      "name": "Move Story to SubEpic with SubEpics returns error",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_story_to_subepic_with_subepics_returns_error",
                      "steps": "Given Source has Story, target has SubEpics\nWhen Attempting to move Story to target with SubEpics\nThen System identifies hierarchy violation and returns error"
                    },
                    {
                      "name": "Move node to create circular reference returns error",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_move_node_to_create_circular_reference_returns_error",
                      "steps": "Given Parent has descendant\nWhen Attempting to move parent to its descendant\nThen System identifies circular reference and returns error"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Move Story Node  CLI",
                  "sequential_order": 9.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestMoveStoryNode",
                  "scenarios": [
                    {
                      "name": "User moves node to different parent with position using dot notation",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_node_to_different_parent_with_position",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\"\nAnd Story Graph has Epic \"Other Epic\" with SubEpics: \"SubEpic C\", \"SubEpic D\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:1\nThen CLI parses dot notation to source node \"Manage Bot\"\nAnd CLI parses dot notation to target parent \"Other Epic\"\nAnd CLI resolves both nodes successfully\nAnd CLI validates \"Other Epic\" can accept SubEpic children\nAnd CLI validates position 1 is valid\nAnd CLI removes \"Manage Bot\" from Epic \"Invoke Bot\"\nAnd CLI inserts \"Manage Bot\" under Epic \"Other Epic\" at position 1\nAnd CLI resequences children in \"Invoke Bot\" to show: \"SubEpic A\", \"SubEpic B\"\nAnd CLI resequences children in \"Other Epic\" to show: \"SubEpic C\", \"Manage Bot\", \"SubEpic D\"\nAnd CLI outputs success message: \"Moved SubEpic 'Manage Bot' from 'Invoke Bot' to 'Other Epic' at position 1\""
                    },
                    {
                      "name": "User moves node to same parent different position",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_node_same_parent_different_position",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"SubEpic A\", \"Manage Bot\", \"SubEpic B\", \"SubEpic C\"\nAnd SubEpic \"Manage Bot\" is at position 1\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI parses position parameter as 3\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI removes \"Manage Bot\" from position 1\nAnd CLI inserts \"Manage Bot\" at position 3\nAnd CLI resequences children to show: \"SubEpic A\", \"SubEpic B\", \"SubEpic C\", \"Manage Bot\"\nAnd CLI outputs success message: \"Moved SubEpic 'Manage Bot' to position 3 within 'Invoke Bot'\""
                    },
                    {
                      "name": "User enters non-existent source path and CLI outputs error",
                      "sequential_order": 3.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_nonexistent_source_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph has Epic \"Other Epic\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".move_to target:\"Other Epic\"\nThen CLI parses dot notation to source node \"Non-existent Node\"\nAnd CLI attempts to resolve source node\nAnd CLI identifies source node does not exist\nAnd CLI outputs error: \"Source node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': (empty)\"\nAnd CLI does not modify Story Graph"
                    },
                    {
                      "name": "User enters non-existent target path and CLI outputs error",
                      "sequential_order": 4.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_to_nonexistent_target_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have Epic \"Non-existent Epic\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Non-existent Epic\"\nThen CLI parses dot notation to source node \"Manage Bot\"\nAnd CLI resolves source node \"Manage Bot\" successfully\nAnd CLI parses dot notation to target parent \"Non-existent Epic\"\nAnd CLI attempts to resolve target parent\nAnd CLI identifies target parent does not exist\nAnd CLI outputs error: \"Target parent 'Non-existent Epic' not found. Valid paths: 'Invoke Bot'\"\nAnd CLI does not modify Story Graph"
                    },
                    {
                      "name": "User moves incompatible type and CLI outputs error",
                      "sequential_order": 5.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_incompatible_type_outputs_error",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nWhen User executes CLI command: story_graph.\"Authorization\".\"Roles\".move_to target:\"Authentication\"\nThen CLI parses notation to source \"Roles\" and target \"Authentication\"\nAnd CLI resolves both nodes successfully\nAnd CLI validates type compatibility\nAnd CLI identifies SubEpic \"Authentication\" already contains Stories\nAnd CLI identifies SubEpic \"Roles\" is incompatible with SubEpic containing Stories\nAnd CLI outputs error: \"Cannot move SubEpic 'Roles' to SubEpic 'Authentication' that contains Stories. Allowed child types: Story\"\nAnd CLI does not modify Story Graph"
                    },
                    {
                      "name": "User moves to create circular reference and CLI outputs error",
                      "sequential_order": 6.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_move_circular_reference_outputs_error",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has SubEpic \"Login Flow\"\nWhen User executes CLI command: story_graph.\"User Management\".move_to target:\"Authentication\"\nThen CLI parses notation to source \"User Management\" and target \"Authentication\"\nAnd CLI resolves both nodes successfully\nAnd CLI detects target \"Authentication\" is descendant of source \"User Management\"\nAnd CLI identifies circular reference would occur\nAnd CLI outputs error: \"Cannot move 'User Management' to 'Authentication': target is a descendant of source (circular reference)\"\nAnd CLI does not modify Story Graph"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User moves node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:2\nTHEN CLI parses notation to source and target\nAND resolves and validates both exist\nAND validates type compatibility\nAND adjusts position if exceeds children count\nAND removes node from source\nAND inserts node at target position\nAND resequences both locations\nAND outputs success message",
                      "text": "WHEN User moves node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to target:\"Other Epic\" at_position:2\nTHEN CLI parses notation to source and target\nAND resolves and validates both exist\nAND validates type compatibility\nAND adjusts position if exceeds children count\nAND removes node from source\nAND inserts node at target position\nAND resequences both locations\nAND outputs success message",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User moves node to same parent different position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND removes node from current position\nAND inserts at new position",
                      "text": "WHEN User moves node to same parent different position\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Bot\".move_to_position position:3\nTHEN CLI parses notation and position [ - see previous acceptance criteria]\nAND removes node from current position\nAND inserts at new position",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User enters non-existent source path\nTHEN CLI identifies source does not exist [ - see previous acceptance criteria]\nAND outputs error",
                      "text": "WHEN User enters non-existent source path\nTHEN CLI identifies source does not exist [ - see previous acceptance criteria]\nAND outputs error",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User enters non-existent target path\nTHEN CLI identifies target does not exist [ - see previous acceptance criteria]\nAND outputs error",
                      "text": "WHEN User enters non-existent target path\nTHEN CLI identifies target does not exist [ - see previous acceptance criteria]\nAND outputs error",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User moves incompatible type\nTHEN CLI identifies type incompatibility [ - see previous acceptance criteria]\nAND outputs error with allowed types",
                      "text": "WHEN User moves incompatible type\nTHEN CLI identifies type incompatibility [ - see previous acceptance criteria]\nAND outputs error with allowed types",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN User moves to create circular reference\nTHEN CLI identifies circular reference\nAND outputs error",
                      "text": "WHEN User moves to create circular reference\nTHEN CLI identifies circular reference\nAND outputs error",
                      "sequential_order": 6.0
                    }
                  ]
                },
                {
                  "name": "Move Story Node Panel",
                  "sequential_order": 10.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestMoveStoryNode",
                  "scenarios": [
                    {
                      "name": "User drags node and Panel shows drag cursor",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drag_node_shows_drag_cursor",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User starts dragging node \"Authentication\"\nThen Panel shows drag cursor\nAnd Panel shows node icon next to cursor\nAnd Panel indicates node is being moved"
                    },
                    {
                      "name": "User drags over compatible parent and Panel highlights as valid target",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drag_over_compatible_highlights_target",
                      "steps": "And Story Graph has Epic \"User Management\" and Epic \"System Admin\"\nAnd Epic \"User Management\" has SubEpic \"Authentication\"\nAnd User is dragging SubEpic \"Authentication\"\nWhen User drags over Epic \"System Admin\"\nThen Panel validates Epic \"System Admin\" can accept SubEpic children\nAnd Panel highlights Epic \"System Admin\" as valid drop target\nAnd Panel shows drop indicator at target position"
                    },
                    {
                      "name": "User drags over incompatible parent and Panel shows no-drop cursor",
                      "sequential_order": 3.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drag_over_incompatible_shows_no_drop",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nAnd User is dragging SubEpic \"Roles\"\nWhen User drags over SubEpic \"Authentication\" that contains Stories\nThen Panel validates SubEpic \"Authentication\" cannot accept SubEpic children\nAnd Panel shows no-drop cursor\nAnd Panel does not highlight \"Authentication\" as target"
                    },
                    {
                      "name": "User drags over descendant and Panel shows no-drop cursor",
                      "sequential_order": 4.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drag_over_descendant_shows_no_drop",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" has SubEpic \"Login Flow\"\nAnd User is dragging Epic \"User Management\"\nWhen User drags over SubEpic \"Authentication\" which is descendant\nThen Panel detects circular reference would occur\nAnd Panel shows no-drop cursor\nAnd Panel does not highlight \"Authentication\" as target"
                    },
                    {
                      "name": "User drops on compatible parent and Panel moves node",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drop_on_compatible_moves_node",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"SubEpic A\", \"Authentication\", \"SubEpic B\"\nAnd Story Graph has Epic \"System Admin\" with SubEpic \"SubEpic C\"\nAnd User is dragging SubEpic \"Authentication\"\nAnd User has dragged over Epic \"System Admin\"\nAnd Panel shows \"System Admin\" as valid drop target\nWhen User drops node on Epic \"System Admin\" at position 1\nThen Panel removes \"Authentication\" from Epic \"User Management\"\nAnd Panel inserts \"Authentication\" under Epic \"System Admin\" at position 1\nAnd Panel resequences children in \"User Management\" to show: \"SubEpic A\", \"SubEpic B\"\nAnd Panel resequences children in \"System Admin\" to show: \"SubEpic C\", \"Authentication\"\nAnd Panel refreshes Story Tree"
                    },
                    {
                      "name": "User drops on incompatible parent and Panel ignores drop",
                      "sequential_order": 6.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_drop_on_incompatible_ignores_drop",
                      "steps": "And Story Graph has SubEpic \"Authentication\" with Story \"Login Form\"\nAnd Story Graph has SubEpic \"Authorization\" with SubEpic \"Roles\"\nAnd User is dragging SubEpic \"Roles\"\nWhen User drops on SubEpic \"Authentication\" that contains Stories\nThen Panel ignores drop operation\nAnd SubEpic \"Roles\" returns to original position under \"Authorization\"\nAnd Panel does not modify Story Graph structure"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User drags node\nTHEN Panel shows drag cursor with node icon",
                      "text": "WHEN User drags node\nTHEN Panel shows drag cursor with node icon",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User drags over compatible parent\nTHEN Panel highlights parent as valid drop target",
                      "text": "WHEN User drags over compatible parent\nTHEN Panel highlights parent as valid drop target",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User drags over incompatible parent or descendant\nTHEN Panel shows no-drop cursor",
                      "text": "WHEN User drags over incompatible parent or descendant\nTHEN Panel shows no-drop cursor",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User drops on compatible parent\nTHEN Panel removes node from source\nAND inserts node under target at position\nAND resequences nodes in both locations\nAND refreshes Story Tree",
                      "text": "WHEN User drops on compatible parent\nTHEN Panel removes node from source\nAND inserts node under target at position\nAND resequences nodes in both locations\nAND refreshes Story Tree",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User drops on incompatible parent\nTHEN Panel ignores drop\nAND node returns to original position",
                      "text": "WHEN User drops on incompatible parent\nTHEN Panel ignores drop\nAND node returns to original position",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Display Story Graph Through CLI",
                  "sequential_order": 11.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayStoryGraphThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display loaded story graph",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_loaded_story_graph",
                      "steps": "GIVEN: Story graph is loaded\nWHEN: user views build instructions\nTHEN: CLI displays story graph structure"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Update Story Node name  CLI",
                  "sequential_order": 12.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestUpdateStoryNodename",
                  "scenarios": [
                    {
                      "name": "User renames node with valid name using dot notation",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_rename_node_with_valid_name",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Old Name\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nThen CLI parses dot notation to node \"Old Name\"\nAnd CLI resolves node \"Old Name\" successfully\nAnd CLI validates node exists\nAnd CLI validates name \"New Name\" is not empty\nAnd CLI validates name \"New Name\" is unique among siblings\nAnd CLI updates node name to \"New Name\"\nAnd CLI outputs success message: \"Renamed SubEpic 'Old Name' to 'New Name'\"\nAnd Story Graph shows SubEpic \"New Name\" under Epic \"Invoke Bot\""
                    },
                    {
                      "name": "User enters non-existent node path and CLI outputs error",
                      "sequential_order": 2.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_rename_nonexistent_node_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Node\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Node\".rename name:\"New Name\"\nThen CLI parses dot notation to node \"Non-existent Node\"\nAnd CLI attempts to resolve node \"Non-existent Node\"\nAnd CLI identifies node does not exist\nAnd CLI outputs error: \"Node 'Non-existent Node' not found. Valid paths under 'Invoke Bot': 'Manage Bot'\"\nAnd CLI does not modify Story Graph"
                    },
                    {
                      "name": "User enters empty name and CLI outputs error",
                      "sequential_order": 3.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_rename_with_empty_name_outputs_error",
                      "steps": "And Story Graph has SubEpic \"Manage Bot\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".rename name:\"\"\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates new name\nAnd CLI identifies name is empty\nAnd CLI outputs error: \"Name cannot be empty\"\nAnd CLI does not update node name"
                    },
                    {
                      "name": "User enters duplicate name and CLI outputs error",
                      "sequential_order": 4.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_rename_with_duplicate_name_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpics: \"Manage Bot\", \"Other SubEpic\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Other SubEpic\".rename name:\"Manage Bot\"\nThen CLI parses dot notation to node \"Other SubEpic\"\nAnd CLI resolves node \"Other SubEpic\" successfully\nAnd CLI validates name \"Manage Bot\" against siblings\nAnd CLI identifies duplicate name\nAnd CLI outputs error: \"Child with name 'Manage Bot' already exists under parent 'Invoke Bot'\"\nAnd CLI does not update node name"
                    },
                    {
                      "name": "User enters invalid characters and CLI outputs error",
                      "sequential_order": 5.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_rename_with_invalid_characters_outputs_error",
                      "steps": "And Story Graph has SubEpic \"Manage Bot\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Bot\".rename name:\"Name<>|*\"\nThen CLI parses dot notation to node \"Manage Bot\"\nAnd CLI resolves node \"Manage Bot\" successfully\nAnd CLI validates characters in name \"Name<>|*\"\nAnd CLI identifies invalid characters: <, >, |, *\nAnd CLI outputs error: \"Name contains invalid characters: < > | *\"\nAnd CLI does not update node name"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User renames node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND validates name not empty and unique among siblings\nAND updates node name\nAND outputs success message",
                      "text": "WHEN User renames node with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Old Name\".rename name:\"New Name\"\nTHEN CLI parses notation to node\nAND resolves and validates node exists\nAND validates name not empty and unique among siblings\nAND updates node name\nAND outputs success message",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                      "text": "WHEN User enters non-existent node path\nTHEN CLI identifies node does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User enters empty name\nTHEN CLI outputs error",
                      "text": "WHEN User enters empty name\nTHEN CLI outputs error",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                      "text": "WHEN User enters duplicate name\nTHEN CLI identifies duplicate\nAND outputs error",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User enters invalid characters\nTHEN CLI identifies invalid characters\nAND outputs error",
                      "text": "WHEN User enters invalid characters\nTHEN CLI identifies invalid characters\nAND outputs error",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Update Story Node name Panel",
                  "sequential_order": 13.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestUpdateStoryNodename",
                  "scenarios": [
                    {
                      "name": "User clicks node name and Panel enables inline editing",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_click_name_enables_inline_editing",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd SubEpic \"Authentication\" is selected\nWhen User clicks node name \"Authentication\"\nThen Panel enables inline editing mode\nAnd Panel shows text input field with current name\nAnd Panel selects all text in name field"
                    },
                    {
                      "name": "User types valid name and saves by pressing Tab",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_save_valid_name_with_tab",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name \"Authentication\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"User Authentication\"\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel updates node name to \"User Authentication\"\nAnd Panel exits editing mode\nAnd Panel refreshes Story Tree\nAnd Story Tree shows \"User Authentication\""
                    },
                    {
                      "name": "User types valid name and saves by pressing Enter",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_save_valid_name_with_enter",
                      "steps": "And Story Graph has Story \"Login Form\"\nAnd User has clicked node name \"Login Form\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"User Login Interface\"\nAnd User presses Enter\nThen Panel validates name in real-time\nAnd Panel updates node name to \"User Login Interface\"\nAnd Panel exits editing mode\nAnd Panel refreshes Story Tree"
                    },
                    {
                      "name": "User types empty name and Panel shows required message",
                      "sequential_order": 4.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_empty_name_shows_required_message",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User clears all text from name field\nAnd User presses Tab\nThen Panel validates name in real-time\nAnd Panel shows error message \"Name required\"\nAnd Panel remains in editing mode\nAnd Panel does not save empty name"
                    },
                    {
                      "name": "User types duplicate name and Panel shows exists message",
                      "sequential_order": 5.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_duplicate_name_shows_exists_message",
                      "steps": "And Story Graph has Epic \"User Management\" with SubEpics: \"Authentication\", \"Authorization\"\nAnd User has clicked node name \"Authorization\" to edit\nAnd Panel is in inline editing mode\nWhen User types \"Authentication\"\nAnd User presses Tab\nThen Panel validates name against siblings\nAnd Panel shows error message \"Name already exists\"\nAnd Panel remains in editing mode\nAnd Panel does not save duplicate name"
                    },
                    {
                      "name": "User types invalid characters and Panel shows invalid message",
                      "sequential_order": 6.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_invalid_characters_shows_message",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User types \"Auth<>|*\"\nAnd User presses Tab\nThen Panel validates characters in name\nAnd Panel shows error message \"Invalid characters\"\nAnd Panel remains in editing mode\nAnd Panel does not save name with invalid characters"
                    },
                    {
                      "name": "User cancels editing by pressing Escape and Panel retains original name",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_escape_cancels_editing_retains_name",
                      "steps": "And Story Graph has SubEpic \"Authentication\"\nAnd User has clicked node name to edit\nAnd Panel is in inline editing mode\nWhen User types \"New Name\"\nAnd User presses Escape\nThen Panel exits editing mode\nAnd Panel retains original name \"Authentication\"\nAnd Panel does not save name change\nAnd Story Tree still shows \"Authentication\""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks node name\nTHEN Panel enables inline editing",
                      "text": "WHEN User clicks node name\nTHEN Panel enables inline editing",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User types in name field\nAND User presses Tab or Enter clicks away from the name field.\nTHEN Panel validates name in real-time\nAND saves Name change",
                      "text": "WHEN User types in name field\nAND User presses Tab or Enter clicks away from the name field.\nTHEN Panel validates name in real-time\nAND saves Name change",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User types empty name\nTHEN Panel shows \"Name required\" message",
                      "text": "WHEN User types empty name\nTHEN Panel shows \"Name required\" message",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User types duplicate name\nTHEN Panel shows \"Name already exists\" message",
                      "text": "WHEN User types duplicate name\nTHEN Panel shows \"Name already exists\" message",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User types invalid characters\nTHEN Panel shows \"Invalid characters\" message",
                      "text": "WHEN User types invalid characters\nTHEN Panel shows \"Invalid characters\" message",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN User saves valid name\nTHEN Panel updates node name\nAND exits editing mode\nAND refreshes Story Tree",
                      "text": "WHEN User saves valid name\nTHEN Panel updates node name\nAND exits editing mode\nAND refreshes Story Tree",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN User cancels By pressing Escape\nTHEN Panel retains previous name\nAND exits editing mode",
                      "text": "WHEN User cancels By pressing Escape\nTHEN Panel retains previous name\nAND exits editing mode",
                      "sequential_order": 7.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/edit_story_map/test_edit_story_nodes.py"
            },
            {
              "name": "Submit Scoped Action",
              "sequential_order": 3.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Execute Action Scoped To Story Node",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Execute Actions With Scope",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteActionsWithScope",
                      "scenarios": [
                        {
                          "name": "Build action includes scope in instructions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_build_action_includes_scope_in_instructions",
                          "steps": "Given Build action with story scope\nWhen Instructions are retrieved\nThen Instructions contain scope configuration"
                        },
                        {
                          "name": "Validate action accepts scope context",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_validate_action_accepts_scope_context",
                          "steps": "Given Validate action with story scope and story graph file\nWhen Instructions are retrieved\nThen No errors occur and scope is processed"
                        },
                        {
                          "name": "Render action accepts scope context",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_render_action_accepts_scope_context",
                          "steps": "Given Render action with story scope\nWhen Instructions are retrieved\nThen No errors occur (render supports ScopeActionContext)"
                        },
                        {
                          "name": "Clarify action does not support scope",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_clarify_action_does_not_support_scope",
                          "steps": "Given Clarify action\nWhen Context is checked\nThen Uses ClarifyActionContext (not ScopeActionContext)"
                        },
                        {
                          "name": "Strategy action does not support scope",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_strategy_action_does_not_support_scope",
                          "steps": "Given Strategy action\nWhen Context is checked\nThen Uses StrategyActionContext (not ScopeActionContext)"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Submit Action Scoped To Story Scope  CLI",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitActionScopedToStoryScope",
                      "scenarios": [
                        {
                          "name": "User executes action with dot notation and CLI executes action",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_execute_action_with_dot_notation",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Story Graph\"\nAnd SubEpic \"Manage Story Graph\" has action \"build\" available\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nThen CLI parses dot notation to scope \"Manage Story Graph\"\nAnd CLI resolves scope \"Manage Story Graph\" successfully\nAnd CLI validates scope exists\nAnd CLI validates action \"build\" exists for scope\nAnd CLI parses parameters: output=\"docs/stories\"\nAnd CLI executes action \"build\" with scope context \"Manage Story Graph\"\nAnd CLI outputs action result\nAnd CLI outputs success message: \"Action 'build' completed for scope 'Manage Story Graph'\""
                        },
                        {
                          "name": "User enters non-existent scope path and CLI outputs error",
                          "sequential_order": 2.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_execute_action_nonexistent_scope_outputs_error",
                          "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Scope\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Scope\".build\nThen CLI parses dot notation to scope \"Non-existent Scope\"\nAnd CLI attempts to resolve scope \"Non-existent Scope\"\nAnd CLI identifies scope does not exist\nAnd CLI outputs error: \"Scope 'Non-existent Scope' not found. Valid paths under 'Invoke Bot': (empty)\"\nAnd CLI does not execute action"
                        },
                        {
                          "name": "Action execution modifies graph and CLI validates and outputs success",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized"
                          ],
                          "test_method": "test_action_modifies_graph_validates_outputs_success",
                          "steps": "And Story Graph has Story \"Create Scenarios\" with action \"generate_scenarios\"\nWhen User executes CLI command: story_graph.\"Create Scenarios\".generate_scenarios\nAnd CLI executes action successfully\nAnd action modifies story graph by adding new scenarios to Story \"Create Scenarios\"\nThen CLI validates updated graph structure\nAnd CLI confirms graph structure is valid\nAnd CLI outputs success message: \"Action 'generate_scenarios' completed. Story graph updated with 3 new scenarios.\"\nAnd Story Graph shows Story \"Create Scenarios\" with new scenarios added"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User executes action with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nTHEN CLI parses notation to scope\nAND resolves and validates scope exists\nAND validates action exists\nAND executes action with scope context\nAND outputs result",
                          "text": "WHEN User executes action with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nTHEN CLI parses notation to scope\nAND resolves and validates scope exists\nAND validates action exists\nAND executes action with scope context\nAND outputs result",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User enters non-existent scope path\nTHEN CLI identifies scope does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                          "text": "WHEN User enters non-existent scope path\nTHEN CLI identifies scope does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN Action execution causes the story_graph to change\nTHEN CLI validates graph structure\nAND outputs success message",
                          "text": "WHEN Action execution causes the story_graph to change\nTHEN CLI validates graph structure\nAND outputs success message",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Submit Action Scoped To Story Scope Panel",
                      "sequential_order": 3.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitActionScopedToStoryScope",
                      "scenarios": [
                        {
                          "name": "User selects story scope node and Panel shows available actions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_select_scope_shows_actions",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Story Graph\"\nAnd SubEpic \"Manage Story Graph\" has available actions: \"build\", \"validate\"\nWhen User selects SubEpic \"Manage Story Graph\"\nThen Panel displays available actions section\nAnd Panel shows \"build\" action button enabled\nAnd Panel shows \"validate\" action button enabled"
                        },
                        {
                          "name": "User clicks action button and Panel executes action",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_click_action_executes",
                          "steps": "And Story Graph has SubEpic \"Manage Story Graph\" with action \"build\"\nAnd SubEpic \"Manage Story Graph\" is selected\nAnd Panel shows \"build\" action button\nWhen User clicks \"build\" action button\nThen Panel executes \"build\" action with scope context \"Manage Story Graph\"\nAnd Panel displays action progress indicator\nAnd Panel shows action output when complete"
                        },
                        {
                          "name": "User executes action that modifies graph and Panel validates and refreshes",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_action_modifies_graph_validates_refreshes",
                          "steps": "And Story Graph has Story \"Create Scenarios\" with action \"generate_scenarios\"\nAnd Story \"Create Scenarios\" is selected\nAnd action \"generate_scenarios\" is executing\nWhen Panel completes action execution\nAnd action has modified story graph by adding new scenarios\nThen Panel validates graph structure\nAnd Panel shows success message \"Scenarios generated successfully\"\nAnd Panel refreshes Story Tree\nAnd Story Tree shows updated \"Create Scenarios\" with new scenarios"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User selects a story scope node\nTHEN Panel shows available actions\nAND enables action buttons",
                          "text": "WHEN User selects a story scope node\nTHEN Panel shows available actions\nAND enables action buttons",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User clicks action button\nTHEN panel executes the action",
                          "text": "WHEN User clicks action button\nTHEN panel executes the action",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User executes action That causes the story_graph to change.\nTHEN Panel validates graph structure\nAND shows success message\nAND refreshes Story Tree",
                          "text": "WHEN User executes action That causes the story_graph to change.\nTHEN Panel validates graph structure\nAND shows success message\nAND refreshes Story Tree",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Automatically Refresh Story Graph Changes  CLI",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestAutomaticallyRefreshStoryGraphChanges",
                      "scenarios": [
                        {
                          "name": "CLI detects file modification before command and refreshes with valid structure",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is initialized in CLI"
                          ],
                          "test_method": "test_cli_detects_modification_refreshes_executes",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd file monitor is watching story-graph.json\nAnd external process modifies story-graph.json by adding SubEpic \"New Feature\"\nAnd CLI detects file modification before next command\nWhen User executes CLI command: story_graph.\"Invoke Bot\".list\nThen CLI reads updated story-graph.json\nAnd CLI validates graph structure\nAnd CLI displays notification: \"Story graph updated from external source\"\nAnd CLI executes command with updated graph\nAnd CLI outputs list showing: \"Manage Bot\", \"New Feature\""
                        },
                        {
                          "name": "CLI detects invalid structure and displays error retaining previous state",
                          "sequential_order": 3.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is initialized in CLI"
                          ],
                          "test_method": "test_cli_invalid_structure_shows_error_retains_state",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd CLI has valid graph state loaded\nAnd file monitor is watching story-graph.json\nAnd external process modifies story-graph.json with invalid JSON syntax\nAnd CLI detects file modification before next command\nWhen User executes CLI command: story_graph.\"Invoke Bot\".list\nThen CLI reads updated story-graph.json\nAnd CLI validates graph structure\nAnd System identifies JSON parsing violations\nAnd CLI displays error notification: \"Story graph file contains invalid structure. Using previous valid state.\"\nAnd CLI retains previous valid Story Graph state\nAnd CLI executes command with previous valid graph\nAnd CLI outputs list showing: \"Manage Bot\""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI detects file modification before next command\nTHEN CLI reads updated graph\nAND validates structure\nAND CLI displays \"Story graph updated from external source\"\nAND CLI executes command with updated graph",
                          "text": "WHEN CLI detects file modification before next command\nTHEN CLI reads updated graph\nAND validates structure\nAND CLI displays \"Story graph updated from external source\"\nAND CLI executes command with updated graph",
                          "sequential_order": 0.0
                        },
                        {
                          "name": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                          "text": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                          "sequential_order": 1.0
                        }
                      ]
                    },
                    {
                      "name": "Automatically Refresh Story Graph Changes Panel",
                      "sequential_order": 5.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestAutomaticallyRefreshStoryGraphChanges",
                      "scenarios": [
                        {
                          "name": "Panel detects file modification and refreshes with valid structure",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_file_modification_refreshes_tree",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" selected\nAnd Panel is displaying Epic \"Invoke Bot\" details\nAnd file monitor is watching story-graph.json\nWhen external process modifies story-graph.json by adding SubEpic \"New Feature\"\nAnd Panel detects file modification\nThen Panel reads updated story-graph.json\nAnd Panel validates graph structure\nAnd Panel refreshes Story Graph Tree\nAnd Panel preserves navigation state showing Epic \"Invoke Bot\"\nAnd Story Tree displays new SubEpic \"New Feature\""
                        },
                        {
                          "name": "Panel detects invalid structure and displays error retaining previous state",
                          "sequential_order": 2.0,
                          "type": "error_case",
                          "background": [
                            "Given Story Graph is loaded in Panel"
                          ],
                          "test_method": "test_invalid_structure_shows_error_retains_state",
                          "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Panel is displaying valid Story Graph Tree\nAnd file monitor is watching story-graph.json\nWhen external process modifies story-graph.json with invalid JSON syntax\nAnd Panel detects file modification\nAnd Panel reads updated story-graph.json\nThen Panel validates graph structure\nAnd System identifies JSON parsing violations\nAnd Panel displays error notification \"Story graph file contains invalid structure\"\nAnd Panel retains previous valid Story Graph state\nAnd Story Tree still shows Epic \"Invoke Bot\" with SubEpic \"Manage Bot\""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Panel detects file modification\nTHEN Panel reads updated graph\nAND validates structure\nAND Panel refreshes StoryGraph Tree\nAND Panel preserves navigation state if possible",
                          "text": "WHEN Panel detects file modification\nTHEN Panel reads updated graph\nAND validates structure\nAND Panel refreshes StoryGraph Tree\nAND Panel preserves navigation state if possible",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                          "text": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Submit Action Scoped To Increment",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Submit Action Scoped To Increment CLI",
                      "sequential_order": 7.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitActionScopedToIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Submit Action Scoped To Increment Panel",
                      "sequential_order": 8.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitActionScopedToIncrement",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Enrich Scope With Links",
                      "sequential_order": 9.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestEnrichScopeWithLinks",
                      "scenarios": [
                        {
                          "name": "Story with test_file and test_class gets test tube icon link",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_with_test_file_and_class_gets_test_link",
                          "steps": "GIVEN: Story graph with story having test_file and test_class\nAND: Test file exists on disk\nWHEN: Scope is enriched with links\nTHEN: Story has test_tube icon link pointing to test file"
                        },
                        {
                          "name": "Scenario",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario",
                          "steps": ""
                        },
                        {
                          "name": "Story with test_class but no test_file gets no test icon",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_without_test_file_gets_no_test_link",
                          "steps": "GIVEN: Story graph with story having test_class but no test_file\nWHEN: Scope is enriched with links\nTHEN: Story has no test_tube icon link"
                        },
                        {
                          "name": "Sub-epic with test_file gets test tube icon link",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_sub_epic_with_test_file_gets_test_link",
                          "steps": "GIVEN: Story graph with sub-epic having test_file\nAND: Test file exists on disk\nWHEN: Scope is enriched with links\nTHEN: Sub-epic has test_tube icon link pointing to test file"
                        },
                        {
                          "name": "Story inherits test_file from parent sub-epic",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_inherits_test_file_from_sub_epic",
                          "steps": "GIVEN: Sub-epic with test_file and story with test_class but no test_file\nAND: Test file exists on disk\nWHEN: Scope is enriched with links\nTHEN: Story gets test_tube icon link using parent's test_file"
                        },
                        {
                          "name": "Epic with docs folder gets document icon link",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_epic_with_docs_folder_gets_document_link",
                          "steps": "GIVEN: Epic and corresponding docs/map folder exists\nWHEN: Scope is enriched with links\nTHEN: Epic has document icon link pointing to docs folder"
                        },
                        {
                          "name": "Story test link appears based on sub-epic test_file and story test_class",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_test_link_combinations",
                          "steps": "GIVEN: Sub-epic with/without test_file and story with/without test_class\nWHEN: Scope is enriched with links\nTHEN: Test link appears only when sub-epic has test_file AND story has test_class"
                        },
                        {
                          "name": "Scenario with test_method gets test link",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_with_test_method_gets_test_link",
                          "steps": "GIVEN: Story with scenario having test_method\nAND: Test file exists with that method\nWHEN: Scope is enriched with links\nTHEN: Scenario has test link with line number"
                        },
                        {
                          "name": "Happy path",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_happy_path",
                          "steps": ""
                        },
                        {
                          "name": "Error case",
                          "sequential_order": 10.0,
                          "type": "error",
                          "background": [],
                          "test_method": "test_error_case",
                          "steps": ""
                        },
                        {
                          "name": "Scenario test link appears based on test_method and sub-epic test_file",
                          "sequential_order": 11.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario_test_link_combinations",
                          "steps": "GIVEN: Scenario with/without test_method and sub-epic with/without test_file\nWHEN: Scope is enriched with links\nTHEN: Test link appears only when scenario has test_method and sub-epic has test_file"
                        },
                        {
                          "name": "Scenario",
                          "sequential_order": 12.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_scenario",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Execute Actions With Scope Using CLI",
                      "sequential_order": 10.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteActionsWithScopeUsingCLI",
                      "scenarios": [
                        {
                          "name": "Action execution uses active scope via CLI",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_execution_uses_scope_via_cli",
                          "steps": "GIVEN: CLI session with scope set\nWHEN: action executed\nTHEN: Action operates within scope"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Execute Action Scoped To Story Node",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Execute Actions With Scope",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestExecuteActionsWithScope",
                  "scenarios": [
                    {
                      "name": "Build action includes scope in instructions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_build_action_includes_scope_in_instructions",
                      "steps": "Given Build action with story scope\nWhen Instructions are retrieved\nThen Instructions contain scope configuration"
                    },
                    {
                      "name": "Validate action accepts scope context",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_validate_action_accepts_scope_context",
                      "steps": "Given Validate action with story scope and story graph file\nWhen Instructions are retrieved\nThen No errors occur and scope is processed"
                    },
                    {
                      "name": "Render action accepts scope context",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_render_action_accepts_scope_context",
                      "steps": "Given Render action with story scope\nWhen Instructions are retrieved\nThen No errors occur (render supports ScopeActionContext)"
                    },
                    {
                      "name": "Clarify action does not support scope",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_clarify_action_does_not_support_scope",
                      "steps": "Given Clarify action\nWhen Context is checked\nThen Uses ClarifyActionContext (not ScopeActionContext)"
                    },
                    {
                      "name": "Strategy action does not support scope",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_strategy_action_does_not_support_scope",
                      "steps": "Given Strategy action\nWhen Context is checked\nThen Uses StrategyActionContext (not ScopeActionContext)"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Submit Action Scoped To Story Scope  CLI",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSubmitActionScopedToStoryScope",
                  "scenarios": [
                    {
                      "name": "User executes action with dot notation and CLI executes action",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_execute_action_with_dot_notation",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Story Graph\"\nAnd SubEpic \"Manage Story Graph\" has action \"build\" available\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nThen CLI parses dot notation to scope \"Manage Story Graph\"\nAnd CLI resolves scope \"Manage Story Graph\" successfully\nAnd CLI validates scope exists\nAnd CLI validates action \"build\" exists for scope\nAnd CLI parses parameters: output=\"docs/stories\"\nAnd CLI executes action \"build\" with scope context \"Manage Story Graph\"\nAnd CLI outputs action result\nAnd CLI outputs success message: \"Action 'build' completed for scope 'Manage Story Graph'\""
                    },
                    {
                      "name": "User enters non-existent scope path and CLI outputs error",
                      "sequential_order": 2.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_execute_action_nonexistent_scope_outputs_error",
                      "steps": "And Story Graph has Epic \"Invoke Bot\"\nAnd Story Graph does not have SubEpic \"Non-existent Scope\"\nWhen User executes CLI command: story_graph.\"Invoke Bot\".\"Non-existent Scope\".build\nThen CLI parses dot notation to scope \"Non-existent Scope\"\nAnd CLI attempts to resolve scope \"Non-existent Scope\"\nAnd CLI identifies scope does not exist\nAnd CLI outputs error: \"Scope 'Non-existent Scope' not found. Valid paths under 'Invoke Bot': (empty)\"\nAnd CLI does not execute action"
                    },
                    {
                      "name": "Action execution modifies graph and CLI validates and outputs success",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized"
                      ],
                      "test_method": "test_action_modifies_graph_validates_outputs_success",
                      "steps": "And Story Graph has Story \"Create Scenarios\" with action \"generate_scenarios\"\nWhen User executes CLI command: story_graph.\"Create Scenarios\".generate_scenarios\nAnd CLI executes action successfully\nAnd action modifies story graph by adding new scenarios to Story \"Create Scenarios\"\nThen CLI validates updated graph structure\nAnd CLI confirms graph structure is valid\nAnd CLI outputs success message: \"Action 'generate_scenarios' completed. Story graph updated with 3 new scenarios.\"\nAnd Story Graph shows Story \"Create Scenarios\" with new scenarios added"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User executes action with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nTHEN CLI parses notation to scope\nAND resolves and validates scope exists\nAND validates action exists\nAND executes action with scope context\nAND outputs result",
                      "text": "WHEN User executes action with dot notation\nEXAMPLE: cli.story_graph.\"Invoke Bot\".\"Manage Story Graph\".build.output.\"docs/stories\"\nTHEN CLI parses notation to scope\nAND resolves and validates scope exists\nAND validates action exists\nAND executes action with scope context\nAND outputs result",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User enters non-existent scope path\nTHEN CLI identifies scope does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                      "text": "WHEN User enters non-existent scope path\nTHEN CLI identifies scope does not exist [ - see previous acceptance criteria]\nAND outputs error with valid paths",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN Action execution causes the story_graph to change\nTHEN CLI validates graph structure\nAND outputs success message",
                      "text": "WHEN Action execution causes the story_graph to change\nTHEN CLI validates graph structure\nAND outputs success message",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Submit Action Scoped To Story Scope Panel",
                  "sequential_order": 3.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSubmitActionScopedToStoryScope",
                  "scenarios": [
                    {
                      "name": "User selects story scope node and Panel shows available actions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_select_scope_shows_actions",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Story Graph\"\nAnd SubEpic \"Manage Story Graph\" has available actions: \"build\", \"validate\"\nWhen User selects SubEpic \"Manage Story Graph\"\nThen Panel displays available actions section\nAnd Panel shows \"build\" action button enabled\nAnd Panel shows \"validate\" action button enabled"
                    },
                    {
                      "name": "User clicks action button and Panel executes action",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_click_action_executes",
                      "steps": "And Story Graph has SubEpic \"Manage Story Graph\" with action \"build\"\nAnd SubEpic \"Manage Story Graph\" is selected\nAnd Panel shows \"build\" action button\nWhen User clicks \"build\" action button\nThen Panel executes \"build\" action with scope context \"Manage Story Graph\"\nAnd Panel displays action progress indicator\nAnd Panel shows action output when complete"
                    },
                    {
                      "name": "User executes action that modifies graph and Panel validates and refreshes",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_action_modifies_graph_validates_refreshes",
                      "steps": "And Story Graph has Story \"Create Scenarios\" with action \"generate_scenarios\"\nAnd Story \"Create Scenarios\" is selected\nAnd action \"generate_scenarios\" is executing\nWhen Panel completes action execution\nAnd action has modified story graph by adding new scenarios\nThen Panel validates graph structure\nAnd Panel shows success message \"Scenarios generated successfully\"\nAnd Panel refreshes Story Tree\nAnd Story Tree shows updated \"Create Scenarios\" with new scenarios"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User selects a story scope node\nTHEN Panel shows available actions\nAND enables action buttons",
                      "text": "WHEN User selects a story scope node\nTHEN Panel shows available actions\nAND enables action buttons",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User clicks action button\nTHEN panel executes the action",
                      "text": "WHEN User clicks action button\nTHEN panel executes the action",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User executes action That causes the story_graph to change.\nTHEN Panel validates graph structure\nAND shows success message\nAND refreshes Story Tree",
                      "text": "WHEN User executes action That causes the story_graph to change.\nTHEN Panel validates graph structure\nAND shows success message\nAND refreshes Story Tree",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Automatically Refresh Story Graph Changes  CLI",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestAutomaticallyRefreshStoryGraphChanges",
                  "scenarios": [
                    {
                      "name": "CLI detects file modification before command and refreshes with valid structure",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is initialized in CLI"
                      ],
                      "test_method": "test_cli_detects_modification_refreshes_executes",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd file monitor is watching story-graph.json\nAnd external process modifies story-graph.json by adding SubEpic \"New Feature\"\nAnd CLI detects file modification before next command\nWhen User executes CLI command: story_graph.\"Invoke Bot\".list\nThen CLI reads updated story-graph.json\nAnd CLI validates graph structure\nAnd CLI displays notification: \"Story graph updated from external source\"\nAnd CLI executes command with updated graph\nAnd CLI outputs list showing: \"Manage Bot\", \"New Feature\""
                    },
                    {
                      "name": "CLI detects invalid structure and displays error retaining previous state",
                      "sequential_order": 3.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is initialized in CLI"
                      ],
                      "test_method": "test_cli_invalid_structure_shows_error_retains_state",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd CLI has valid graph state loaded\nAnd file monitor is watching story-graph.json\nAnd external process modifies story-graph.json with invalid JSON syntax\nAnd CLI detects file modification before next command\nWhen User executes CLI command: story_graph.\"Invoke Bot\".list\nThen CLI reads updated story-graph.json\nAnd CLI validates graph structure\nAnd System identifies JSON parsing violations\nAnd CLI displays error notification: \"Story graph file contains invalid structure. Using previous valid state.\"\nAnd CLI retains previous valid Story Graph state\nAnd CLI executes command with previous valid graph\nAnd CLI outputs list showing: \"Manage Bot\""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI detects file modification before next command\nTHEN CLI reads updated graph\nAND validates structure\nAND CLI displays \"Story graph updated from external source\"\nAND CLI executes command with updated graph",
                      "text": "WHEN CLI detects file modification before next command\nTHEN CLI reads updated graph\nAND validates structure\nAND CLI displays \"Story graph updated from external source\"\nAND CLI executes command with updated graph",
                      "sequential_order": 0.0
                    },
                    {
                      "name": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                      "text": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                      "sequential_order": 1.0
                    }
                  ]
                },
                {
                  "name": "Automatically Refresh Story Graph Changes Panel",
                  "sequential_order": 5.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestAutomaticallyRefreshStoryGraphChanges",
                  "scenarios": [
                    {
                      "name": "Panel detects file modification and refreshes with valid structure",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_file_modification_refreshes_tree",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" selected\nAnd Panel is displaying Epic \"Invoke Bot\" details\nAnd file monitor is watching story-graph.json\nWhen external process modifies story-graph.json by adding SubEpic \"New Feature\"\nAnd Panel detects file modification\nThen Panel reads updated story-graph.json\nAnd Panel validates graph structure\nAnd Panel refreshes Story Graph Tree\nAnd Panel preserves navigation state showing Epic \"Invoke Bot\"\nAnd Story Tree displays new SubEpic \"New Feature\""
                    },
                    {
                      "name": "Panel detects invalid structure and displays error retaining previous state",
                      "sequential_order": 2.0,
                      "type": "error_case",
                      "background": [
                        "Given Story Graph is loaded in Panel"
                      ],
                      "test_method": "test_invalid_structure_shows_error_retains_state",
                      "steps": "And Story Graph has Epic \"Invoke Bot\" with SubEpic \"Manage Bot\"\nAnd Panel is displaying valid Story Graph Tree\nAnd file monitor is watching story-graph.json\nWhen external process modifies story-graph.json with invalid JSON syntax\nAnd Panel detects file modification\nAnd Panel reads updated story-graph.json\nThen Panel validates graph structure\nAnd System identifies JSON parsing violations\nAnd Panel displays error notification \"Story graph file contains invalid structure\"\nAnd Panel retains previous valid Story Graph state\nAnd Story Tree still shows Epic \"Invoke Bot\" with SubEpic \"Manage Bot\""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Panel detects file modification\nTHEN Panel reads updated graph\nAND validates structure\nAND Panel refreshes StoryGraph Tree\nAND Panel preserves navigation state if possible",
                      "text": "WHEN Panel detects file modification\nTHEN Panel reads updated graph\nAND validates structure\nAND Panel refreshes StoryGraph Tree\nAND Panel preserves navigation state if possible",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                      "text": "WHEN System detects invalid structure\nTHEN System identifies violations\nAND displays error notification\nAND retains previous valid state",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Submit Action Scoped To Increment",
                  "sequential_order": 6.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [],
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Submit Action Scoped To Increment CLI",
                  "sequential_order": 7.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestSubmitActionScopedToIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Submit Action Scoped To Increment Panel",
                  "sequential_order": 8.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestSubmitActionScopedToIncrement",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/edit_story_map/test_submit_scoped_action.py"
            }
          ],
          "story_groups": [],
          "stories": [],
          "test_file": "invoke_bot/edit_story_map/"
        },
        {
          "name": "Navigate Behavior Actions",
          "sequential_order": 2.0,
          "sub_epics": [
            {
              "name": "Navigate Behavior And Actions",
              "sequential_order": 0.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Navigate Sequentially",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateSequentially",
                      "scenarios": [
                        {
                          "name": "bot.next() moves to next action",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_next_navigates_to_next_action_in_workflow",
                          "steps": "Given Bot is at clarify action\nWhen bot.next() is called\nThen Bot moves to strategy (next action in workflow)"
                        },
                        {
                          "name": "bot.next() progresses through workflow sequence",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_next_progresses_through_entire_workflow",
                          "steps": "Given Bot is at first action\nWhen bot.next() is called multiple times\nThen Bot progresses through clarify -> strategy -> build -> validate -> render"
                        },
                        {
                          "name": "bot.next() at final action advances to next behavior",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_next_at_final_action_advances_to_next_behavior",
                          "steps": "Given Bot is at render (final action of shape)\nWhen bot.next() is called\nThen Bot advances to next behavior (discovery) first action (clarify)"
                        },
                        {
                          "name": "bot.current() returns current action instructions",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_current_returns_current_action_instructions",
                          "steps": "Given Bot is at a specific action\nWhen bot.current() is called\nThen Current action instructions object is returned"
                        },
                        {
                          "name": "bot.next() respects behavior.json workflow sequence",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_next_respects_workflow_sequence",
                          "steps": "Given Bot is at strategy (second action)\nWhen bot.next() is called\nThen Bot moves to build (third action), following behavior.json order"
                        },
                        {
                          "name": "bot.next() with no behavior selected starts workflow",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_bot_next_with_no_behavior_starts_at_first_behavior",
                          "steps": "Given No behavior is selected\nWhen bot.next() is called\nThen Bot starts at first behavior (shape), first action (clarify)\nThen NOTE: Currently bot.next() returns an error when no behavior is selected.\nThen This test documents the DESIRED behavior - bot should be smart enough\nThen to start at the beginning of the workflow automatically."
                        },
                        {
                          "name": "Can navigate to a specific behavior",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_navigate_to_behavior",
                          "steps": "Given Bot exists with multiple behaviors\nWhen behaviors.navigate_to('discovery') called\nThen Current behavior is set to discovery"
                        },
                        {
                          "name": "Next behavior in sequence can be retrieved",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_next_behavior",
                          "steps": "Given Bot is at scenarios behavior\nWhen behaviors.next() called\nThen Returns next behavior (tests) with complete structure"
                        },
                        {
                          "name": "Getting next behavior returns None when at last behavior",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_next_behavior_returns_none_at_end",
                          "steps": "Given Bot is at last behavior in list\nWhen behaviors.next() called\nThen Returns None"
                        },
                        {
                          "name": "Can navigate to a specific action",
                          "sequential_order": 10.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_navigate_to_action",
                          "steps": "Given Bot is at a behavior with multiple actions\nWhen actions.navigate_to('build') called\nThen Current action is set to build"
                        },
                        {
                          "name": "Next action in sequence can be retrieved",
                          "sequential_order": 11.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_next_action",
                          "steps": "Given Bot is at clarify action (first action)\nWhen actions.next() called\nThen Returns strategy action (second action)"
                        },
                        {
                          "name": "Getting next action returns None when at last action",
                          "sequential_order": 12.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_get_next_action_returns_none_at_end",
                          "steps": "Given Bot is at last action in behavior\nWhen actions.next() called\nThen Returns None"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate To First Behavior Action",
                      "sequential_order": 1.0,
                      "connector": null,
                      "story_type": "system",
                      "users": [
                        "System"
                      ],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [
                        {
                          "name": "Navigate sets current behavior and first action",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_navigate_sets_current_behavior_and_first_action",
                          "steps": "GIVEN: Bot has behaviors configured\nWHEN: bot.behaviors.navigate_to('shape') is called\nTHEN: bot.behaviors.current.name == 'shape'\nAND: bot.behaviors.current.actions.current_action_name == 'clarify'"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate Using CLI Dot Notation",
                      "sequential_order": 2.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateToBehaviorActionAndExecute",
                      "scenarios": [
                        {
                          "name": "User navigates with behavior only (no dots)",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_navigates_with_behavior_only",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery'\nTHEN: CLI navigates to discovery.clarify (first action)"
                        },
                        {
                          "name": "User navigates with behavior.action (one dot)",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_navigates_with_behavior_dot_action",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery.build'\nTHEN: CLI navigates to discovery.build.instructions"
                        },
                        {
                          "name": "User navigates with behavior.action.operation (two dots)",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_navigates_with_full_dot_notation",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery.build.instructions'\nTHEN: CLI executes discovery.build.instructions"
                        },
                        {
                          "name": "User enters invalid behavior in dot notation",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_enters_invalid_behavior_in_dot_notation",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'invalid_behavior.build.instructions'\nTHEN: CLI displays error message"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate Sequentially Using CLI Commands",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateSequentially",
                      "scenarios": [
                        {
                          "name": "User navigates with next command",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_navigates_with_next_command",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'next'\nTHEN: CLI navigates to shape.strategy"
                        },
                        {
                          "name": "User navigates with back command",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_navigates_with_back_command",
                          "steps": "GIVEN: CLI is at shape.strategy.instructions\nWHEN: user enters 'back'\nTHEN: CLI navigates to shape.clarify"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate Behavior Action Panel",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateBehaviorAction",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays behavior hierarchy\nAnd Bot is at shape.clarify\nWhen User clicks on discovery.build action link\nThen Bot navigates to discovery.build\nAnd Panel refreshes to show new current position\nAnd discovery.build is highlighted as current action"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.clarify\nWhen User clicks next button\nThen Bot navigates to shape.strategy\nAnd Panel displays shape.strategy as current\nAnd Panel displays shape.strategy in-progress indicator"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.strategy\nWhen User clicks back button\nThen Bot navigates to shape.clarify\nAnd Panel displays shape.clarify as current\nAnd Panel displays shape.clarify in-progress indicator"
                        },
                        {
                          "name": "",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at last action of last behavior\nWhen User views next button\nThen Next button is disabled"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks back button",
                          "text": "WHEN User clicks back button",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System  sets previous action as current",
                          "text": "THEN System  sets previous action as current",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays previous action in-progress indicator",
                          "text": "AND System displays previous action in-progress indicator",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System reruns previous action details",
                          "text": "AND System reruns previous action details",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User clicks next button",
                          "text": "WHEN User clicks next button",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "THEN System sets next action as current",
                          "text": "THEN System sets next action as current",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND System displays next action in-progress indicator",
                          "text": "AND System displays next action in-progress indicator",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "AND System reruns next action details",
                          "text": "AND System reruns next action details",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "WHEN User clicks current button",
                          "text": "WHEN User clicks current button",
                          "sequential_order": 9.0
                        },
                        {
                          "name": "THEN System reruns current action details",
                          "text": "THEN System reruns current action details",
                          "sequential_order": 10.0
                        },
                        {
                          "name": "WHEN User is on the last operation of an action",
                          "text": "WHEN User is on the last operation of an action",
                          "sequential_order": 11.0
                        },
                        {
                          "name": "THEN System moves to the next action and selects its first operation",
                          "text": "THEN System moves to the next action and selects its first operation",
                          "sequential_order": 12.0
                        },
                        {
                          "name": "WHEN User is on the last action of a behavior",
                          "text": "WHEN User is on the last action of a behavior",
                          "sequential_order": 13.0
                        },
                        {
                          "name": "THEN System moves to the next behavior and selects its first action and first operation",
                          "text": "THEN System moves to the next behavior and selects its first action and first operation",
                          "sequential_order": 14.0
                        },
                        {
                          "name": "WHEN User is on the last behavior of a bot",
                          "text": "WHEN User is on the last behavior of a bot",
                          "sequential_order": 15.0
                        },
                        {
                          "name": "THEN System disables next behavior navigation",
                          "text": "THEN System disables next behavior navigation",
                          "sequential_order": 16.0
                        }
                      ]
                    },
                    {
                      "name": "Manage Behaviors Using CLI",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestManageBehaviorsUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli current behavior accessible",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_current_behavior_accessible",
                          "steps": ""
                        },
                        {
                          "name": "Cli navigate to behavior via command",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_navigate_to_behavior_via_command",
                          "steps": ""
                        },
                        {
                          "name": "Cli execute current behavior action",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_execute_current_behavior_action",
                          "steps": ""
                        },
                        {
                          "name": "Cli find behavior by name",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_find_behavior_by_name",
                          "steps": ""
                        },
                        {
                          "name": "Cli list all behaviors",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_list_all_behaviors",
                          "steps": ""
                        },
                        {
                          "name": "Cli find action by name via command",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_find_action_by_name_via_command",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate To Behavior Action And Execute Using CLI",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateToBehaviorActionAndExecuteUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli execute behavior with action parameter",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_execute_behavior_with_action_parameter",
                          "steps": ""
                        },
                        {
                          "name": "Cli execute behavior without action uses current",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_execute_behavior_without_action_uses_current",
                          "steps": ""
                        },
                        {
                          "name": "Cli execute behavior with no state starts at first",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_execute_behavior_with_no_state_starts_at_first",
                          "steps": ""
                        },
                        {
                          "name": "Cli workflow order determines next action",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_workflow_order_determines_next_action",
                          "steps": ""
                        },
                        {
                          "name": "Cli starts at first action when no completed",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_starts_at_first_action_when_no_completed",
                          "steps": ""
                        },
                        {
                          "name": "Cli falls back to completed actions list",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_falls_back_to_completed_actions_list",
                          "steps": ""
                        },
                        {
                          "name": "Cli different behaviors have different workflows",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_different_behaviors_have_different_workflows",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Navigate Sequentially Using CLI",
                      "sequential_order": 7.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateSequentiallyUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli next command navigates to next action",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_next_command_navigates_to_next_action",
                          "steps": ""
                        },
                        {
                          "name": "Cli next progresses through entire workflow",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_next_progresses_through_entire_workflow",
                          "steps": ""
                        },
                        {
                          "name": "Cli next at final action advances to next behavior",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_next_at_final_action_advances_to_next_behavior",
                          "steps": ""
                        },
                        {
                          "name": "Cli status shows current position",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_status_shows_current_position",
                          "steps": ""
                        },
                        {
                          "name": "Cli next respects behavior json workflow",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_next_respects_behavior_json_workflow",
                          "steps": ""
                        },
                        {
                          "name": "Cli navigate to specific behavior via command",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_navigate_to_specific_behavior_via_command",
                          "steps": ""
                        },
                        {
                          "name": "Cli back command navigates to previous action",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_back_command_navigates_to_previous_action",
                          "steps": ""
                        },
                        {
                          "name": "Cli pos command shows current position",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_pos_command_shows_current_position",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Navigate Sequentially",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestNavigateSequentially",
                  "scenarios": [
                    {
                      "name": "bot.next() moves to next action",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_next_navigates_to_next_action_in_workflow",
                      "steps": "Given Bot is at clarify action\nWhen bot.next() is called\nThen Bot moves to strategy (next action in workflow)"
                    },
                    {
                      "name": "bot.next() progresses through workflow sequence",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_next_progresses_through_entire_workflow",
                      "steps": "Given Bot is at first action\nWhen bot.next() is called multiple times\nThen Bot progresses through clarify -> strategy -> build -> validate -> render"
                    },
                    {
                      "name": "bot.next() at final action advances to next behavior",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_next_at_final_action_advances_to_next_behavior",
                      "steps": "Given Bot is at render (final action of shape)\nWhen bot.next() is called\nThen Bot advances to next behavior (discovery) first action (clarify)"
                    },
                    {
                      "name": "bot.current() returns current action instructions",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_current_returns_current_action_instructions",
                      "steps": "Given Bot is at a specific action\nWhen bot.current() is called\nThen Current action instructions object is returned"
                    },
                    {
                      "name": "bot.next() respects behavior.json workflow sequence",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_next_respects_workflow_sequence",
                      "steps": "Given Bot is at strategy (second action)\nWhen bot.next() is called\nThen Bot moves to build (third action), following behavior.json order"
                    },
                    {
                      "name": "bot.next() with no behavior selected starts workflow",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_bot_next_with_no_behavior_starts_at_first_behavior",
                      "steps": "Given No behavior is selected\nWhen bot.next() is called\nThen Bot starts at first behavior (shape), first action (clarify)\nThen NOTE: Currently bot.next() returns an error when no behavior is selected.\nThen This test documents the DESIRED behavior - bot should be smart enough\nThen to start at the beginning of the workflow automatically."
                    },
                    {
                      "name": "Can navigate to a specific behavior",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_navigate_to_behavior",
                      "steps": "Given Bot exists with multiple behaviors\nWhen behaviors.navigate_to('discovery') called\nThen Current behavior is set to discovery"
                    },
                    {
                      "name": "Next behavior in sequence can be retrieved",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_next_behavior",
                      "steps": "Given Bot is at scenarios behavior\nWhen behaviors.next() called\nThen Returns next behavior (tests) with complete structure"
                    },
                    {
                      "name": "Getting next behavior returns None when at last behavior",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_next_behavior_returns_none_at_end",
                      "steps": "Given Bot is at last behavior in list\nWhen behaviors.next() called\nThen Returns None"
                    },
                    {
                      "name": "Can navigate to a specific action",
                      "sequential_order": 10.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_navigate_to_action",
                      "steps": "Given Bot is at a behavior with multiple actions\nWhen actions.navigate_to('build') called\nThen Current action is set to build"
                    },
                    {
                      "name": "Next action in sequence can be retrieved",
                      "sequential_order": 11.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_next_action",
                      "steps": "Given Bot is at clarify action (first action)\nWhen actions.next() called\nThen Returns strategy action (second action)"
                    },
                    {
                      "name": "Getting next action returns None when at last action",
                      "sequential_order": 12.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_get_next_action_returns_none_at_end",
                      "steps": "Given Bot is at last action in behavior\nWhen actions.next() called\nThen Returns None"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Navigate To First Behavior Action",
                  "sequential_order": 1.0,
                  "connector": null,
                  "story_type": "system",
                  "users": [
                    "System"
                  ],
                  "test_class": null,
                  "scenarios": [
                    {
                      "name": "Navigate sets current behavior and first action",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_navigate_sets_current_behavior_and_first_action",
                      "steps": "GIVEN: Bot has behaviors configured\nWHEN: bot.behaviors.navigate_to('shape') is called\nTHEN: bot.behaviors.current.name == 'shape'\nAND: bot.behaviors.current.actions.current_action_name == 'clarify'"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Navigate Using CLI Dot Notation",
                  "sequential_order": 2.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestNavigateToBehaviorActionAndExecute",
                  "scenarios": [
                    {
                      "name": "User navigates with behavior only (no dots)",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_navigates_with_behavior_only",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery'\nTHEN: CLI navigates to discovery.clarify (first action)"
                    },
                    {
                      "name": "User navigates with behavior.action (one dot)",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_navigates_with_behavior_dot_action",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery.build'\nTHEN: CLI navigates to discovery.build.instructions"
                    },
                    {
                      "name": "User navigates with behavior.action.operation (two dots)",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_navigates_with_full_dot_notation",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'discovery.build.instructions'\nTHEN: CLI executes discovery.build.instructions"
                    },
                    {
                      "name": "User enters invalid behavior in dot notation",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_enters_invalid_behavior_in_dot_notation",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'invalid_behavior.build.instructions'\nTHEN: CLI displays error message"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Navigate Sequentially Using CLI Commands",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestNavigateSequentially",
                  "scenarios": [
                    {
                      "name": "User navigates with next command",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_navigates_with_next_command",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'next'\nTHEN: CLI navigates to shape.strategy"
                    },
                    {
                      "name": "User navigates with back command",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_navigates_with_back_command",
                      "steps": "GIVEN: CLI is at shape.strategy.instructions\nWHEN: user enters 'back'\nTHEN: CLI navigates to shape.clarify"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Navigate Behavior Action Panel",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestNavigateBehaviorAction",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays behavior hierarchy\nAnd Bot is at shape.clarify\nWhen User clicks on discovery.build action link\nThen Bot navigates to discovery.build\nAnd Panel refreshes to show new current position\nAnd discovery.build is highlighted as current action"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.clarify\nWhen User clicks next button\nThen Bot navigates to shape.strategy\nAnd Panel displays shape.strategy as current\nAnd Panel displays shape.strategy in-progress indicator"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.strategy\nWhen User clicks back button\nThen Bot navigates to shape.clarify\nAnd Panel displays shape.clarify as current\nAnd Panel displays shape.clarify in-progress indicator"
                    },
                    {
                      "name": "",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at last action of last behavior\nWhen User views next button\nThen Next button is disabled"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks back button",
                      "text": "WHEN User clicks back button",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System  sets previous action as current",
                      "text": "THEN System  sets previous action as current",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays previous action in-progress indicator",
                      "text": "AND System displays previous action in-progress indicator",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System reruns previous action details",
                      "text": "AND System reruns previous action details",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User clicks next button",
                      "text": "WHEN User clicks next button",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "THEN System sets next action as current",
                      "text": "THEN System sets next action as current",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND System displays next action in-progress indicator",
                      "text": "AND System displays next action in-progress indicator",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "AND System reruns next action details",
                      "text": "AND System reruns next action details",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "WHEN User clicks current button",
                      "text": "WHEN User clicks current button",
                      "sequential_order": 9.0
                    },
                    {
                      "name": "THEN System reruns current action details",
                      "text": "THEN System reruns current action details",
                      "sequential_order": 10.0
                    },
                    {
                      "name": "WHEN User is on the last operation of an action",
                      "text": "WHEN User is on the last operation of an action",
                      "sequential_order": 11.0
                    },
                    {
                      "name": "THEN System moves to the next action and selects its first operation",
                      "text": "THEN System moves to the next action and selects its first operation",
                      "sequential_order": 12.0
                    },
                    {
                      "name": "WHEN User is on the last action of a behavior",
                      "text": "WHEN User is on the last action of a behavior",
                      "sequential_order": 13.0
                    },
                    {
                      "name": "THEN System moves to the next behavior and selects its first action and first operation",
                      "text": "THEN System moves to the next behavior and selects its first action and first operation",
                      "sequential_order": 14.0
                    },
                    {
                      "name": "WHEN User is on the last behavior of a bot",
                      "text": "WHEN User is on the last behavior of a bot",
                      "sequential_order": 15.0
                    },
                    {
                      "name": "THEN System disables next behavior navigation",
                      "text": "THEN System disables next behavior navigation",
                      "sequential_order": 16.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/navigate_behavior_actions/test_navigate_behavior_and_actions.py"
            },
            {
              "name": "Perform Behavior Action In Bot Workflow",
              "sequential_order": 1.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Execute Behavior Action",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestNavigateToBehaviorActionAndExecute",
                      "scenarios": [
                        {
                          "name": "Execute Behavior with action parameter",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_execute_behavior_with_action_parameter",
                          "steps": "Given Bot has behavior 'shape' with action 'clarify'\nWhen Bot.execute_behavior('shape', action='clarify') is called\nThen Action executes and returns BotResult"
                        },
                        {
                          "name": "Execute behavior without action parameter forwards to current action",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_execute_behavior_without_action_forwards_to_current",
                          "steps": "Given Bot has behavior 'shape' and workflow state shows current_action='strategy'\nWhen Bot.execute_behavior('shape') is called (no action parameter)\nThen Forwards to current action (strategy)"
                        },
                        {
                          "name": "Execute behavior executes directly when no workflow state exists",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_execute_behavior_handles_entry_workflow_when_no_state",
                          "steps": "Given No behavior_action_state.json exists\nWhen Bot.execute_behavior('shape') is called\nThen Executes directly (entry workflow handling was in removed wrapper)"
                        },
                        {
                          "name": "Behavior action order determines next action from current_action",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_action_order_determines_next_action_from_current_action",
                          "steps": ""
                        },
                        {
                          "name": "No completed actions yet",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_action_order_starts_at_first_action_when_no_completed_actions",
                          "steps": ""
                        },
                        {
                          "name": "Behavior action order falls back to completed_actions when current_action is missing",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_action_order_falls_back_to_completed_actions_when_current_action_missing",
                          "steps": ""
                        },
                        {
                          "name": "No behavior_action_state.json file exists (fresh start)",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_action_order_starts_at_first_action_when_no_state_file_exists",
                          "steps": ""
                        },
                        {
                          "name": "Behavior loads workflow order from behaviors/{behavior_name}/behavior.json",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_loads_workflow_order_from_behavior_specific_actions_workflow",
                          "steps": ""
                        },
                        {
                          "name": "Different behaviors can have different action orders",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_different_behaviors_can_have_different_action_orders",
                          "steps": ""
                        },
                        {
                          "name": "Workflow transitions are built correctly from behavior.json",
                          "sequential_order": 10.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_workflow_transitions_built_correctly_from_actions_workflow_json",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Execute Behavior Action Panel",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteBehaviorAction",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 12.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays behavior hierarchy\nAnd Bot is at shape.clarify\nWhen User clicks discovery behavior\nThen Bot navigates to discovery.clarify (first action)\nAnd Panel displays discovery behavior as current\nAnd Panel expands discovery behavior\nAnd Panel displays discovery.clarify as current action\nAnd Bot executes discovery.clarify.instructions operation"
                        },
                        {
                          "name": "",
                          "sequential_order": 13.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays expanded shape behavior\nAnd Bot is at shape.clarify\nWhen User clicks shape.strategy action\nThen Bot navigates to shape.strategy\nAnd Panel displays shape.strategy as current action\nAnd Panel expands shape.strategy showing operations\nAnd Bot executes shape.strategy.instructions operation"
                        },
                        {
                          "name": "",
                          "sequential_order": 14.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays expanded shape.clarify action\nAnd Operations are visible (instructions, execute, confirm)\nWhen User clicks clarify.confirm operation\nThen Bot executes clarify.confirm operation\nAnd Panel displays confirm operation as current"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks behavior",
                          "text": "WHEN User clicks behavior",
                          "sequential_order": 0.0
                        },
                        {
                          "name": "THEN System displays that behavior as current",
                          "text": "THEN System displays that behavior as current",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "AND System expands behavior",
                          "text": "AND System expands behavior",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System expands first action to display operations",
                          "text": "AND System expands first action to display operations",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System sets first action as current",
                          "text": "AND System sets first action as current",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "AND System sets first operation as current",
                          "text": "AND System sets first operation as current",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND System executes first operation of first action of that behavior",
                          "text": "AND System executes first operation of first action of that behavior",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN User clicks action",
                          "text": "WHEN User clicks action",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "THEN System displays that action as current",
                          "text": "THEN System displays that action as current",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "AND System expands action to display operations",
                          "text": "AND System expands action to display operations",
                          "sequential_order": 9.0
                        },
                        {
                          "name": "AND System sets first operation as current",
                          "text": "AND System sets first operation as current",
                          "sequential_order": 10.0
                        },
                        {
                          "name": "AND System executes first operation of that action",
                          "text": "AND System executes first operation of that action",
                          "sequential_order": 11.0
                        }
                      ]
                    },
                    {
                      "name": "Update and Find Current Behavior",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestManageBehaviors",
                      "scenarios": [
                        {
                          "name": "Behaviors current property returns current behavior",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behaviors_current_property_returns_current_behavior",
                          "steps": "Given Behaviors collection with current behavior set\nWhen current property accessed\nThen Returns current Behavior object"
                        },
                        {
                          "name": "Behaviors navigate to behavior updates current behavior",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behaviors_navigate_to_behavior_updates_current_behavior",
                          "steps": "Given Behaviors collection\nWhen navigate_to('discovery') called\nThen Current behavior updated to 'discovery'"
                        },
                        {
                          "name": "Behaviors close current marks behavior and action complete",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behaviors_close_current_marks_behavior_and_action_complete",
                          "steps": "Given Behaviors collection with current behavior and current action\nWhen close_current() called\nThen Current behavior marked complete and current action closed"
                        },
                        {
                          "name": "Behaviors execute current executes current behavior",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behaviors_execute_current_executes_current_behavior",
                          "steps": "Given Behaviors collection with current behavior\nWhen execute_current() called\nThen Current behavior's execute() method called"
                        },
                        {
                          "name": "Behavior can be found by name when it exists.",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_find_behavior_by_name",
                          "steps": ""
                        },
                        {
                          "name": "Finding behavior by name returns None when behavior doesn't exist.",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_find_behavior_returns_none_when_not_found",
                          "steps": ""
                        },
                        {
                          "name": "All behaviors can be iterated.",
                          "sequential_order": 7.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_iterate_all_behaviors",
                          "steps": ""
                        },
                        {
                          "name": "Can check if a behavior exists.",
                          "sequential_order": 8.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_check_behavior_exists",
                          "steps": ""
                        },
                        {
                          "name": "Action can be found by name when it exists.",
                          "sequential_order": 9.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_find_action_by_name",
                          "steps": ""
                        },
                        {
                          "name": "Finding action by name returns None when action doesn't exist.",
                          "sequential_order": 10.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_find_action_returns_none_when_not_found",
                          "steps": ""
                        },
                        {
                          "name": "Action can be found by order when it exists.",
                          "sequential_order": 11.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_find_action_by_order",
                          "steps": ""
                        },
                        {
                          "name": "All actions can be iterated.",
                          "sequential_order": 12.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_iterate_all_actions",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Persist Behavior Action State",
                      "sequential_order": 3.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestManageBehaviorActionState",
                      "scenarios": [
                        {
                          "name": "Current behavior state is persisted to behavior_action_state.json.",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_save_current_behavior_state",
                          "steps": ""
                        },
                        {
                          "name": "Current behavior state is restored from behavior_action_state.json.",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_behavior_state_from_file",
                          "steps": ""
                        },
                        {
                          "name": "Current action state is persisted to behavior_action_state.json.",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_save_current_action_state",
                          "steps": ""
                        },
                        {
                          "name": "Current action state is restored from behavior_action_state.json.",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_load_action_state_from_file",
                          "steps": ""
                        },
                        {
                          "name": "Closing current action marks it complete and moves to next.",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_close_current_action",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Track Activity For Workspace",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestTrackActivityForWorkspace",
                      "scenarios": [
                        {
                          "name": "Activity logged to workspace_area not bot area",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_activity_logged_to_workspace_area_not_bot_area",
                          "steps": "Given WORKING_AREA environment variable specifies workspace_area\nWhen Activity logger creates entry\nThen Activity log file is at: workspace_area/activity_log.json\nThen And action 'gather_context' executes\nThen And Activity log is NOT at: agile_bot/bots/story_bot/activity_log.json\nThen And Activity log location matches workspace_area from WORKING_AREA environment variable"
                        },
                        {
                          "name": "Activity log contains correct entry",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_activity_log_contains_correct_entry",
                          "steps": "Given action 'gather_context' executes in behavior 'discovery'\nWhen Activity logger creates entry\nThen Activity log entry includes:\nThen - action_state='story_bot.discovery.gather_context'\nThen - timestamp\nThen - Full path includes bot_name.behavior.action"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Track Action Start",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestTrackActionStart",
                      "scenarios": [
                        {
                          "name": "Activity logging infrastructure exists",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_activity_log_exists_after_action_execution",
                          "steps": "Given Bot is ready to execute action\nWhen Action starts execution\nThen Activity log file exists or activity is trackable"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Action starts execution",
                          "text": "WHEN Action starts execution",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN Activity entry is created with timestamp and action state",
                          "text": "THEN Activity entry is created with timestamp and action state",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND Entry appended to activity_log.json",
                          "text": "AND Entry appended to activity_log.json",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Track Action Completion",
                      "sequential_order": 6.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestTrackActionCompletion",
                      "scenarios": [
                        {
                          "name": "Action completion tracking",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_action_completion_is_tracked",
                          "steps": "Given Action has executed\nWhen Action completes\nThen Completion is tracked in completed_actions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Action completes execution",
                          "text": "WHEN Action completes execution",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN Activity entry is updated with outputs and duration",
                          "text": "THEN Activity entry is updated with outputs and duration",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND Entry appended to activity_log.json",
                          "text": "AND Entry appended to activity_log.json",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Proceed across End To End Workflow",
                      "sequential_order": 7.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteEndToEndWorkflow",
                      "scenarios": [
                        {
                          "name": "Complete Workflow Progresses Through Single Behavior",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_complete_workflow_progresses_through_single_behavior",
                          "steps": ""
                        },
                        {
                          "name": "Complete Workflow Progresses Across Multiple Behaviors",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_complete_workflow_progresses_across_multiple_behaviors",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Record Activity Metrics And Paths",
                      "sequential_order": 8.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestRecordActivityMetricsAndPaths",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Activity is tracked",
                          "text": "WHEN Activity is tracked",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN Metrics include file counts and content types",
                          "text": "THEN Metrics include file counts and content types",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND Paths include file paths not content",
                          "text": "AND Paths include file paths not content",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND Activity log captures metrics and paths",
                          "text": "AND Activity log captures metrics and paths",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Re-execute Current Operation Using CLI",
                      "sequential_order": 9.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestReExecuteCurrentOperationUsingCLI",
                      "scenarios": [
                        {
                          "name": "User re-executes current instructions",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_re_executes_current_instructions",
                          "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'current'\nTHEN: CLI re-executes current instructions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Execute End To End Workflow Using CLI",
                      "sequential_order": 10.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestExecuteEndToEndWorkflowUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli complete workflow through single behavior",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_complete_workflow_through_single_behavior",
                          "steps": ""
                        },
                        {
                          "name": "Cli complete workflow across multiple behaviors",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_complete_workflow_across_multiple_behaviors",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Execute Behavior Action",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestNavigateToBehaviorActionAndExecute",
                  "scenarios": [
                    {
                      "name": "Execute Behavior with action parameter",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_execute_behavior_with_action_parameter",
                      "steps": "Given Bot has behavior 'shape' with action 'clarify'\nWhen Bot.execute_behavior('shape', action='clarify') is called\nThen Action executes and returns BotResult"
                    },
                    {
                      "name": "Execute behavior without action parameter forwards to current action",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_execute_behavior_without_action_forwards_to_current",
                      "steps": "Given Bot has behavior 'shape' and workflow state shows current_action='strategy'\nWhen Bot.execute_behavior('shape') is called (no action parameter)\nThen Forwards to current action (strategy)"
                    },
                    {
                      "name": "Execute behavior executes directly when no workflow state exists",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_execute_behavior_handles_entry_workflow_when_no_state",
                      "steps": "Given No behavior_action_state.json exists\nWhen Bot.execute_behavior('shape') is called\nThen Executes directly (entry workflow handling was in removed wrapper)"
                    },
                    {
                      "name": "Behavior action order determines next action from current_action",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_action_order_determines_next_action_from_current_action",
                      "steps": ""
                    },
                    {
                      "name": "No completed actions yet",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_action_order_starts_at_first_action_when_no_completed_actions",
                      "steps": ""
                    },
                    {
                      "name": "Behavior action order falls back to completed_actions when current_action is missing",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_action_order_falls_back_to_completed_actions_when_current_action_missing",
                      "steps": ""
                    },
                    {
                      "name": "No behavior_action_state.json file exists (fresh start)",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_action_order_starts_at_first_action_when_no_state_file_exists",
                      "steps": ""
                    },
                    {
                      "name": "Behavior loads workflow order from behaviors/{behavior_name}/behavior.json",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_loads_workflow_order_from_behavior_specific_actions_workflow",
                      "steps": ""
                    },
                    {
                      "name": "Different behaviors can have different action orders",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_different_behaviors_can_have_different_action_orders",
                      "steps": ""
                    },
                    {
                      "name": "Workflow transitions are built correctly from behavior.json",
                      "sequential_order": 10.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_workflow_transitions_built_correctly_from_actions_workflow_json",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Execute Behavior Action Panel",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestExecuteBehaviorAction",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 12.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays behavior hierarchy\nAnd Bot is at shape.clarify\nWhen User clicks discovery behavior\nThen Bot navigates to discovery.clarify (first action)\nAnd Panel displays discovery behavior as current\nAnd Panel expands discovery behavior\nAnd Panel displays discovery.clarify as current action\nAnd Bot executes discovery.clarify.instructions operation"
                    },
                    {
                      "name": "",
                      "sequential_order": 13.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays expanded shape behavior\nAnd Bot is at shape.clarify\nWhen User clicks shape.strategy action\nThen Bot navigates to shape.strategy\nAnd Panel displays shape.strategy as current action\nAnd Panel expands shape.strategy showing operations\nAnd Bot executes shape.strategy.instructions operation"
                    },
                    {
                      "name": "",
                      "sequential_order": 14.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays expanded shape.clarify action\nAnd Operations are visible (instructions, execute, confirm)\nWhen User clicks clarify.confirm operation\nThen Bot executes clarify.confirm operation\nAnd Panel displays confirm operation as current"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks behavior",
                      "text": "WHEN User clicks behavior",
                      "sequential_order": 0.0
                    },
                    {
                      "name": "THEN System displays that behavior as current",
                      "text": "THEN System displays that behavior as current",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "AND System expands behavior",
                      "text": "AND System expands behavior",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System expands first action to display operations",
                      "text": "AND System expands first action to display operations",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System sets first action as current",
                      "text": "AND System sets first action as current",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND System sets first operation as current",
                      "text": "AND System sets first operation as current",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND System executes first operation of first action of that behavior",
                      "text": "AND System executes first operation of first action of that behavior",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN User clicks action",
                      "text": "WHEN User clicks action",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "THEN System displays that action as current",
                      "text": "THEN System displays that action as current",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "AND System expands action to display operations",
                      "text": "AND System expands action to display operations",
                      "sequential_order": 9.0
                    },
                    {
                      "name": "AND System sets first operation as current",
                      "text": "AND System sets first operation as current",
                      "sequential_order": 10.0
                    },
                    {
                      "name": "AND System executes first operation of that action",
                      "text": "AND System executes first operation of that action",
                      "sequential_order": 11.0
                    }
                  ]
                },
                {
                  "name": "Update and Find Current Behavior",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestManageBehaviors",
                  "scenarios": [
                    {
                      "name": "Behaviors current property returns current behavior",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behaviors_current_property_returns_current_behavior",
                      "steps": "Given Behaviors collection with current behavior set\nWhen current property accessed\nThen Returns current Behavior object"
                    },
                    {
                      "name": "Behaviors navigate to behavior updates current behavior",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behaviors_navigate_to_behavior_updates_current_behavior",
                      "steps": "Given Behaviors collection\nWhen navigate_to('discovery') called\nThen Current behavior updated to 'discovery'"
                    },
                    {
                      "name": "Behaviors close current marks behavior and action complete",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behaviors_close_current_marks_behavior_and_action_complete",
                      "steps": "Given Behaviors collection with current behavior and current action\nWhen close_current() called\nThen Current behavior marked complete and current action closed"
                    },
                    {
                      "name": "Behaviors execute current executes current behavior",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behaviors_execute_current_executes_current_behavior",
                      "steps": "Given Behaviors collection with current behavior\nWhen execute_current() called\nThen Current behavior's execute() method called"
                    },
                    {
                      "name": "Behavior can be found by name when it exists.",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_find_behavior_by_name",
                      "steps": ""
                    },
                    {
                      "name": "Finding behavior by name returns None when behavior doesn't exist.",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_find_behavior_returns_none_when_not_found",
                      "steps": ""
                    },
                    {
                      "name": "All behaviors can be iterated.",
                      "sequential_order": 7.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_iterate_all_behaviors",
                      "steps": ""
                    },
                    {
                      "name": "Can check if a behavior exists.",
                      "sequential_order": 8.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_check_behavior_exists",
                      "steps": ""
                    },
                    {
                      "name": "Action can be found by name when it exists.",
                      "sequential_order": 9.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_find_action_by_name",
                      "steps": ""
                    },
                    {
                      "name": "Finding action by name returns None when action doesn't exist.",
                      "sequential_order": 10.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_find_action_returns_none_when_not_found",
                      "steps": ""
                    },
                    {
                      "name": "Action can be found by order when it exists.",
                      "sequential_order": 11.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_find_action_by_order",
                      "steps": ""
                    },
                    {
                      "name": "All actions can be iterated.",
                      "sequential_order": 12.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_iterate_all_actions",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Persist Behavior Action State",
                  "sequential_order": 3.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestManageBehaviorActionState",
                  "scenarios": [
                    {
                      "name": "Current behavior state is persisted to behavior_action_state.json.",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_save_current_behavior_state",
                      "steps": ""
                    },
                    {
                      "name": "Current behavior state is restored from behavior_action_state.json.",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_behavior_state_from_file",
                      "steps": ""
                    },
                    {
                      "name": "Current action state is persisted to behavior_action_state.json.",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_save_current_action_state",
                      "steps": ""
                    },
                    {
                      "name": "Current action state is restored from behavior_action_state.json.",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_load_action_state_from_file",
                      "steps": ""
                    },
                    {
                      "name": "Closing current action marks it complete and moves to next.",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_close_current_action",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Track Activity For Workspace",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestTrackActivityForWorkspace",
                  "scenarios": [
                    {
                      "name": "Activity logged to workspace_area not bot area",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_activity_logged_to_workspace_area_not_bot_area",
                      "steps": "Given WORKING_AREA environment variable specifies workspace_area\nWhen Activity logger creates entry\nThen Activity log file is at: workspace_area/activity_log.json\nThen And action 'gather_context' executes\nThen And Activity log is NOT at: agile_bot/bots/story_bot/activity_log.json\nThen And Activity log location matches workspace_area from WORKING_AREA environment variable"
                    },
                    {
                      "name": "Activity log contains correct entry",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_activity_log_contains_correct_entry",
                      "steps": "Given action 'gather_context' executes in behavior 'discovery'\nWhen Activity logger creates entry\nThen Activity log entry includes:\nThen - action_state='story_bot.discovery.gather_context'\nThen - timestamp\nThen - Full path includes bot_name.behavior.action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Track Action Start",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestTrackActionStart",
                  "scenarios": [
                    {
                      "name": "Activity logging infrastructure exists",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_activity_log_exists_after_action_execution",
                      "steps": "Given Bot is ready to execute action\nWhen Action starts execution\nThen Activity log file exists or activity is trackable"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Action starts execution",
                      "text": "WHEN Action starts execution",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Activity entry is created with timestamp and action state",
                      "text": "THEN Activity entry is created with timestamp and action state",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Entry appended to activity_log.json",
                      "text": "AND Entry appended to activity_log.json",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Track Action Completion",
                  "sequential_order": 6.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestTrackActionCompletion",
                  "scenarios": [
                    {
                      "name": "Action completion tracking",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_action_completion_is_tracked",
                      "steps": "Given Action has executed\nWhen Action completes\nThen Completion is tracked in completed_actions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Action completes execution",
                      "text": "WHEN Action completes execution",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Activity entry is updated with outputs and duration",
                      "text": "THEN Activity entry is updated with outputs and duration",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Entry appended to activity_log.json",
                      "text": "AND Entry appended to activity_log.json",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Proceed across End To End Workflow",
                  "sequential_order": 7.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestExecuteEndToEndWorkflow",
                  "scenarios": [
                    {
                      "name": "Complete Workflow Progresses Through Single Behavior",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_complete_workflow_progresses_through_single_behavior",
                      "steps": ""
                    },
                    {
                      "name": "Complete Workflow Progresses Across Multiple Behaviors",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_complete_workflow_progresses_across_multiple_behaviors",
                      "steps": ""
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Record Activity Metrics And Paths",
                  "sequential_order": 8.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestRecordActivityMetricsAndPaths",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Activity is tracked",
                      "text": "WHEN Activity is tracked",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN Metrics include file counts and content types",
                      "text": "THEN Metrics include file counts and content types",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND Paths include file paths not content",
                      "text": "AND Paths include file paths not content",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND Activity log captures metrics and paths",
                      "text": "AND Activity log captures metrics and paths",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Re-execute Current Operation Using CLI",
                  "sequential_order": 9.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestReExecuteCurrentOperationUsingCLI",
                  "scenarios": [
                    {
                      "name": "User re-executes current instructions",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_re_executes_current_instructions",
                      "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'current'\nTHEN: CLI re-executes current instructions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/navigate_behavior_actions/test_perform_behavior_action_in_bot_workflow.py"
            },
            {
              "name": "Display Behavior Action State",
              "sequential_order": 2.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Display Bot Hierarchy Tree with Progress Indicators CLI",
                      "sequential_order": 0.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewBehaviorHierarchy",
                      "scenarios": [
                        {
                          "name": "User views bot hierarchy with status command",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_views_bot_hierarchy_with_status_command",
                          "steps": "GIVEN: CLI is at discovery.build.instructions\nWHEN: user enters 'status'\nTHEN: CLI displays bot hierarchy tree"
                        },
                        {
                          "name": "CLI shows completed actions with [x] indicator",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_shows_completed_actions_with_x_indicator",
                          "steps": "GIVEN: CLI is at discovery.build.instructions\nWHEN: user views status\nTHEN: CLI displays clarify action with [x] indicator"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN user views status\nTHEN CLI displays bot hierarchy tree with behaviors and actions",
                          "text": "WHEN user views status\nTHEN CLI displays bot hierarchy tree with behaviors and actions",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN displaying hierarchy\nTHEN CLI shows progress indicators for each action",
                          "text": "WHEN displaying hierarchy\nTHEN CLI shows progress indicators for each action",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN action is completed\nTHEN CLI displays action with completed marker",
                          "text": "WHEN action is completed\nTHEN CLI displays action with completed marker",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN action is current\nTHEN CLI displays action with current marker",
                          "text": "WHEN action is current\nTHEN CLI displays action with current marker",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN action is pending\nTHEN CLI displays action with pending marker",
                          "text": "WHEN action is pending\nTHEN CLI displays action with pending marker",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Show Remaining Actions After Completion",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "System"
                      ],
                      "test_file": null,
                      "test_class": null,
                      "scenarios": [
                        {
                          "name": "Remaining actions respects completion",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_remaining_actions_respects_completion",
                          "steps": "GIVEN: bot.behaviors.current is at clarify action\nWHEN: actions.close_current() is called\nTHEN: 'clarify' not in actions.remaining_actions\nAND: actions.remaining_actions == ['validate', 'render']"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Current Position in CLI",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewCurrentPosition",
                      "scenarios": [
                        {
                          "name": "User views current position in status",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_views_current_position_in_status",
                          "steps": "GIVEN: CLI is at <behavior>.<action>.<operation>\nWHEN: user enters 'status'\nTHEN: CLI displays current position"
                        },
                        {
                          "name": "Current position updates after navigation",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_current_position_updates_after_navigation",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user navigates to discovery behavior\nTHEN: CLI updates current position display to show discovery"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN user views status\nTHEN CLI displays current behavior, action, and operation",
                          "text": "WHEN user views status\nTHEN CLI displays current behavior, action, and operation",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN user navigates to different action\nTHEN CLI updates current position display",
                          "text": "WHEN user navigates to different action\nTHEN CLI updates current position display",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN displaying position\nTHEN CLI shows behavior.action.operation format",
                          "text": "WHEN displaying position\nTHEN CLI shows behavior.action.operation format",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN position is at first action\nTHEN CLI indicates start of workflow",
                          "text": "WHEN position is at first action\nTHEN CLI indicates start of workflow",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display CLI Navigation Menu Footer",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "system",
                      "users": [
                        "CLI"
                      ],
                      "test_file": null,
                      "test_class": "TestViewNavigationCommands",
                      "scenarios": [
                        {
                          "name": "CLI displays commands menu footer",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_cli_displays_commands_menu_footer",
                          "steps": "Given: CLI displays status\nWhen: CLI renders commands menu footer\nThen: CLI displays Commands section header\nAND: CLI shows command list: status | back | current | next | path [dir] | scope [filter] | headless \"msg\" | help | exit\nAND: CLI shows command usage example with echo syntax\nAND: CLI shows behaviors list: shape | prioritization | discovery | exploration | scenarios | tests | code\nAND: CLI shows actions list: clarify | strategy | build | validate | render\nAND: CLI applies section separator after footer"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN CLI displays status\nTHEN CLI shows footer with available commands",
                          "text": "WHEN CLI displays status\nTHEN CLI shows footer with available commands",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN displaying footer\nTHEN CLI lists navigation commands AND action commands",
                          "text": "WHEN displaying footer\nTHEN CLI lists navigation commands AND action commands",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN in terminal mode\nTHEN CLI uses plain text formatting for footer",
                          "text": "WHEN in terminal mode\nTHEN CLI uses plain text formatting for footer",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN in piped mode\nTHEN CLI uses markdown formatting for footer",
                          "text": "WHEN in piped mode\nTHEN CLI uses markdown formatting for footer",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Hierarchy In Panel",
                      "sequential_order": 4.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayHierarchy",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot has multiple behaviors with completed and pending actions\nAnd Bot is currently at shape.clarify\nWhen Panel renders hierarchy section\nThen User sees behavior names (shape, discovery)\nAnd User sees action names under behaviors\nAnd Current action (clarify) shows in-progress indicator\nAnd Completed actions show checkmark indicator\nAnd Pending actions show empty indicator"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays collapsed behavior tree\nWhen User clicks collapsed shape behavior\nThen Shape behavior expands showing actions (clarify, strategy)\nWhen User clicks expanded shape behavior again\nThen Shape behavior collapses hiding actions"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Shape behavior is expanded showing actions\nAnd Clarify action is collapsed\nWhen User clicks collapsed clarify action\nThen Clarify action expands showing operations (instructions, execute, confirm)\nWhen User clicks expanded clarify action again\nThen Clarify action collapses hiding operations"
                        },
                        {
                          "name": "",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays behavior tree\nAnd Bot is currently at shape.clarify\nWhen User clicks collapsed discovery behavior\nThen Discovery behavior expands showing actions\nAnd Discovery actions are visible even though bot is at shape\nWhen User clicks collapsed scenarios behavior\nThen Scenarios behavior expands showing actions\nAnd Scenarios actions are visible even though bot is at shape"
                        },
                        {
                          "name": "",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot has behaviors with defined sequential order\nWhen Panel renders behavior tree\nThen Behaviors appear in order (shape, prioritization, discovery, exploration, scenarios, tests, code)\nAnd Actions under each behavior appear in their configured order\nAnd Order matches behavior configuration JSON"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User views panel",
                          "text": "WHEN User views panel",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays behavior list with actions",
                          "text": "THEN System displays behavior list with actions",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN Action is current",
                          "text": "WHEN Action is current",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "THEN System displays current action in-progress indicator",
                          "text": "THEN System displays current action in-progress indicator",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN Action is completed",
                          "text": "WHEN Action is completed",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "THEN System displays completed indicator",
                          "text": "THEN System displays completed indicator",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN Action is pending",
                          "text": "WHEN Action is pending",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "THEN System displays pending indicator",
                          "text": "THEN System displays pending indicator",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "WHEN User clicks collapsed behavior",
                          "text": "WHEN User clicks collapsed behavior",
                          "sequential_order": 9.0
                        },
                        {
                          "name": "THEN System expands behavior showing actions",
                          "text": "THEN System expands behavior showing actions",
                          "sequential_order": 10.0
                        },
                        {
                          "name": "WHEN User clicks expanded behavior",
                          "text": "WHEN User clicks expanded behavior",
                          "sequential_order": 11.0
                        },
                        {
                          "name": "THEN System collapses behavior hiding actions",
                          "text": "THEN System collapses behavior hiding actions",
                          "sequential_order": 12.0
                        },
                        {
                          "name": "WHEN User clicks collapsed action",
                          "text": "WHEN User clicks collapsed action",
                          "sequential_order": 13.0
                        },
                        {
                          "name": "THEN System expands action showing operations",
                          "text": "THEN System expands action showing operations",
                          "sequential_order": 14.0
                        },
                        {
                          "name": "WHEN User clicks expanded action",
                          "text": "WHEN User clicks expanded action",
                          "sequential_order": 15.0
                        },
                        {
                          "name": "THEN System collapses action hiding operations",
                          "text": "THEN System collapses action hiding operations",
                          "sequential_order": 16.0
                        },
                        {
                          "name": "WHEN User views behavior list",
                          "text": "WHEN User views behavior list",
                          "sequential_order": 17.0
                        },
                        {
                          "name": "THEN System displays all behaviors expandable regardless of current position",
                          "text": "THEN System displays all behaviors expandable regardless of current position",
                          "sequential_order": 18.0
                        },
                        {
                          "name": "WHEN User views behavior list",
                          "text": "WHEN User views behavior list",
                          "sequential_order": 19.0
                        },
                        {
                          "name": "THEN System displays behaviors in correct sequential order",
                          "text": "THEN System displays behaviors in correct sequential order",
                          "sequential_order": 20.0
                        }
                      ]
                    },
                    {
                      "name": "Manage Behavior Action State Using CLI",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestManageBehaviorActionStateUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli state persists after navigation",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_state_persists_after_navigation",
                          "steps": ""
                        },
                        {
                          "name": "Cli loads existing state on startup",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_loads_existing_state_on_startup",
                          "steps": ""
                        },
                        {
                          "name": "Cli next command closes and advances",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_next_command_closes_and_advances",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Context Using CLI",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayContextUsingCLI",
                      "scenarios": [
                        {
                          "name": "Cli displays clarification when present",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_displays_clarification_when_present",
                          "steps": ""
                        },
                        {
                          "name": "Cli displays strategy when present",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_displays_strategy_when_present",
                          "steps": ""
                        },
                        {
                          "name": "Cli displays context files when present",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_cli_displays_context_files_when_present",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Display Bot Hierarchy Tree with Progress Indicators CLI",
                  "sequential_order": 0.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewBehaviorHierarchy",
                  "scenarios": [
                    {
                      "name": "User views bot hierarchy with status command",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_views_bot_hierarchy_with_status_command",
                      "steps": "GIVEN: CLI is at discovery.build.instructions\nWHEN: user enters 'status'\nTHEN: CLI displays bot hierarchy tree"
                    },
                    {
                      "name": "CLI shows completed actions with [x] indicator",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_shows_completed_actions_with_x_indicator",
                      "steps": "GIVEN: CLI is at discovery.build.instructions\nWHEN: user views status\nTHEN: CLI displays clarify action with [x] indicator"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN user views status\nTHEN CLI displays bot hierarchy tree with behaviors and actions",
                      "text": "WHEN user views status\nTHEN CLI displays bot hierarchy tree with behaviors and actions",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN displaying hierarchy\nTHEN CLI shows progress indicators for each action",
                      "text": "WHEN displaying hierarchy\nTHEN CLI shows progress indicators for each action",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN action is completed\nTHEN CLI displays action with completed marker",
                      "text": "WHEN action is completed\nTHEN CLI displays action with completed marker",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN action is current\nTHEN CLI displays action with current marker",
                      "text": "WHEN action is current\nTHEN CLI displays action with current marker",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN action is pending\nTHEN CLI displays action with pending marker",
                      "text": "WHEN action is pending\nTHEN CLI displays action with pending marker",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Show Remaining Actions After Completion",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "System"
                  ],
                  "test_class": null,
                  "scenarios": [
                    {
                      "name": "Remaining actions respects completion",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_remaining_actions_respects_completion",
                      "steps": "GIVEN: bot.behaviors.current is at clarify action\nWHEN: actions.close_current() is called\nTHEN: 'clarify' not in actions.remaining_actions\nAND: actions.remaining_actions == ['validate', 'render']"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Current Position in CLI",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewCurrentPosition",
                  "scenarios": [
                    {
                      "name": "User views current position in status",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_views_current_position_in_status",
                      "steps": "GIVEN: CLI is at <behavior>.<action>.<operation>\nWHEN: user enters 'status'\nTHEN: CLI displays current position"
                    },
                    {
                      "name": "Current position updates after navigation",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_current_position_updates_after_navigation",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user navigates to discovery behavior\nTHEN: CLI updates current position display to show discovery"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN user views status\nTHEN CLI displays current behavior, action, and operation",
                      "text": "WHEN user views status\nTHEN CLI displays current behavior, action, and operation",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN user navigates to different action\nTHEN CLI updates current position display",
                      "text": "WHEN user navigates to different action\nTHEN CLI updates current position display",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN displaying position\nTHEN CLI shows behavior.action.operation format",
                      "text": "WHEN displaying position\nTHEN CLI shows behavior.action.operation format",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN position is at first action\nTHEN CLI indicates start of workflow",
                      "text": "WHEN position is at first action\nTHEN CLI indicates start of workflow",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display CLI Navigation Menu Footer",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "system",
                  "users": [
                    "CLI"
                  ],
                  "test_class": "TestViewNavigationCommands",
                  "scenarios": [
                    {
                      "name": "CLI displays commands menu footer",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_cli_displays_commands_menu_footer",
                      "steps": "Given: CLI displays status\nWhen: CLI renders commands menu footer\nThen: CLI displays Commands section header\nAND: CLI shows command list: status | back | current | next | path [dir] | scope [filter] | headless \"msg\" | help | exit\nAND: CLI shows command usage example with echo syntax\nAND: CLI shows behaviors list: shape | prioritization | discovery | exploration | scenarios | tests | code\nAND: CLI shows actions list: clarify | strategy | build | validate | render\nAND: CLI applies section separator after footer"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN CLI displays status\nTHEN CLI shows footer with available commands",
                      "text": "WHEN CLI displays status\nTHEN CLI shows footer with available commands",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN displaying footer\nTHEN CLI lists navigation commands AND action commands",
                      "text": "WHEN displaying footer\nTHEN CLI lists navigation commands AND action commands",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN in terminal mode\nTHEN CLI uses plain text formatting for footer",
                      "text": "WHEN in terminal mode\nTHEN CLI uses plain text formatting for footer",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN in piped mode\nTHEN CLI uses markdown formatting for footer",
                      "text": "WHEN in piped mode\nTHEN CLI uses markdown formatting for footer",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Hierarchy In Panel",
                  "sequential_order": 4.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayHierarchy",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot has multiple behaviors with completed and pending actions\nAnd Bot is currently at shape.clarify\nWhen Panel renders hierarchy section\nThen User sees behavior names (shape, discovery)\nAnd User sees action names under behaviors\nAnd Current action (clarify) shows in-progress indicator\nAnd Completed actions show checkmark indicator\nAnd Pending actions show empty indicator"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays collapsed behavior tree\nWhen User clicks collapsed shape behavior\nThen Shape behavior expands showing actions (clarify, strategy)\nWhen User clicks expanded shape behavior again\nThen Shape behavior collapses hiding actions"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Shape behavior is expanded showing actions\nAnd Clarify action is collapsed\nWhen User clicks collapsed clarify action\nThen Clarify action expands showing operations (instructions, execute, confirm)\nWhen User clicks expanded clarify action again\nThen Clarify action collapses hiding operations"
                    },
                    {
                      "name": "",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays behavior tree\nAnd Bot is currently at shape.clarify\nWhen User clicks collapsed discovery behavior\nThen Discovery behavior expands showing actions\nAnd Discovery actions are visible even though bot is at shape\nWhen User clicks collapsed scenarios behavior\nThen Scenarios behavior expands showing actions\nAnd Scenarios actions are visible even though bot is at shape"
                    },
                    {
                      "name": "",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot has behaviors with defined sequential order\nWhen Panel renders behavior tree\nThen Behaviors appear in order (shape, prioritization, discovery, exploration, scenarios, tests, code)\nAnd Actions under each behavior appear in their configured order\nAnd Order matches behavior configuration JSON"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User views panel",
                      "text": "WHEN User views panel",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays behavior list with actions",
                      "text": "THEN System displays behavior list with actions",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN Action is current",
                      "text": "WHEN Action is current",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "THEN System displays current action in-progress indicator",
                      "text": "THEN System displays current action in-progress indicator",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN Action is completed",
                      "text": "WHEN Action is completed",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "THEN System displays completed indicator",
                      "text": "THEN System displays completed indicator",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN Action is pending",
                      "text": "WHEN Action is pending",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "THEN System displays pending indicator",
                      "text": "THEN System displays pending indicator",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "WHEN User clicks collapsed behavior",
                      "text": "WHEN User clicks collapsed behavior",
                      "sequential_order": 9.0
                    },
                    {
                      "name": "THEN System expands behavior showing actions",
                      "text": "THEN System expands behavior showing actions",
                      "sequential_order": 10.0
                    },
                    {
                      "name": "WHEN User clicks expanded behavior",
                      "text": "WHEN User clicks expanded behavior",
                      "sequential_order": 11.0
                    },
                    {
                      "name": "THEN System collapses behavior hiding actions",
                      "text": "THEN System collapses behavior hiding actions",
                      "sequential_order": 12.0
                    },
                    {
                      "name": "WHEN User clicks collapsed action",
                      "text": "WHEN User clicks collapsed action",
                      "sequential_order": 13.0
                    },
                    {
                      "name": "THEN System expands action showing operations",
                      "text": "THEN System expands action showing operations",
                      "sequential_order": 14.0
                    },
                    {
                      "name": "WHEN User clicks expanded action",
                      "text": "WHEN User clicks expanded action",
                      "sequential_order": 15.0
                    },
                    {
                      "name": "THEN System collapses action hiding operations",
                      "text": "THEN System collapses action hiding operations",
                      "sequential_order": 16.0
                    },
                    {
                      "name": "WHEN User views behavior list",
                      "text": "WHEN User views behavior list",
                      "sequential_order": 17.0
                    },
                    {
                      "name": "THEN System displays all behaviors expandable regardless of current position",
                      "text": "THEN System displays all behaviors expandable regardless of current position",
                      "sequential_order": 18.0
                    },
                    {
                      "name": "WHEN User views behavior list",
                      "text": "WHEN User views behavior list",
                      "sequential_order": 19.0
                    },
                    {
                      "name": "THEN System displays behaviors in correct sequential order",
                      "text": "THEN System displays behaviors in correct sequential order",
                      "sequential_order": 20.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/navigate_behavior_actions/test_display_behavior_action_state.py"
            }
          ],
          "story_groups": [],
          "stories": [],
          "test_file": "invoke_bot/navigate_behavior_actions/"
        },
        {
          "name": "Perform Action",
          "sequential_order": 3.0,
          "sub_epics": [
            {
              "name": "Prepare Common Instructions For Behavior, Action, and Scope",
              "sequential_order": 0.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Inject Context Into Instructions",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestInjectContextIntoInstructions",
                      "scenarios": [
                        {
                          "name": "Action Loads Context Data Into Instructions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_loads_context_data_into_instructions",
                          "steps": ""
                        },
                        {
                          "name": "Next behavior reminder is NOT injected when action is not final",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_next_behavior_reminder_not_injected_when_not_final_action",
                          "steps": "Given validate is NOT the final action (render comes after)\nWhen validate action executes\nThen base_instructions do NOT include next behavior reminder\nThen And bot_config.json defines behavior sequence"
                        },
                        {
                          "name": "Next behavior reminder is NOT injected when current behavior is last in sequence",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_next_behavior_reminder_not_injected_when_no_next_behavior",
                          "steps": "Given discovery is the last behavior in bot_config.json\nWhen render action executes\nThen base_instructions do NOT include next behavior reminder\nThen And render is the final action"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Get Action Instructions Through CLI",
                      "sequential_order": 1.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetActionInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "User gets instructions using full path",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_gets_instructions_using_full_path",
                          "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions'\nTHEN: CLI displays formatted instructions"
                        },
                        {
                          "name": "User calls action by name shortcut",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_calls_action_by_name_shortcut",
                          "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters just 'build'\nTHEN: CLI executes instructions operation on current behavior's build action"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN user navigates to behavior.action.instructions\nTHEN CLI displays formatted instructions for that action",
                          "text": "WHEN user navigates to behavior.action.instructions\nTHEN CLI displays formatted instructions for that action",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN user enters action name only as shortcut\nTHEN CLI executes instructions on current behavior's action",
                          "text": "WHEN user enters action name only as shortcut\nTHEN CLI executes instructions on current behavior's action",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Submit Instructions Through CLI",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "User submits current action instructions",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_submits_current_action_instructions",
                          "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user enters 'submit'\nTHEN: CLI tracks instruction submission\nAND: CLI returns success message with behavior and action\nAND: CLI includes timestamp of submission"
                        },
                        {
                          "name": "Submit command fails when no current action",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_submit_command_fails_when_no_current_action",
                          "steps": "GIVEN: CLI has no current action set\nWHEN: user enters 'submit'\nTHEN: CLI displays error message\nAND: Error indicates no current action"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User executes submit command",
                          "text": "WHEN User executes submit command",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System tracks instruction submission",
                          "text": "THEN System tracks instruction submission",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System returns success status with timestamp",
                          "text": "AND System returns success status with timestamp",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Display Base Instructions Panel",
                      "sequential_order": 3.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayBaseInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.clarify\nWhen Panel displays instructions section\nThen Panel displays base instructions\nAnd Panel displays behavior name (shape)\nAnd Panel displays action name (clarify)\nAnd Instructions are scrollable"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays base instructions\nWhen User clicks copy button\nThen Instructions are copied to clipboard\nAnd Panel displays confirmation message"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User views panel",
                          "text": "WHEN User views panel",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays base instructions section",
                          "text": "THEN System displays base instructions section",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays behavior name",
                          "text": "AND System displays behavior name",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays action name",
                          "text": "AND System displays action name",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Raw Format Instructions In Panel",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayInstructionsInRawFormat",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays formatted instructions\nWhen User clicks raw format toggle button\nThen Panel displays instructions in raw text format\nAnd Instructions show exactly as they would be sent to AI\nAnd Raw format is scrollable"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays instructions in raw format\nWhen User clicks formatted view toggle button\nThen Panel displays instructions in formatted view\nAnd Instructions show with sections and styling"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks action instruction in Behavior Action Hierarchy",
                          "text": "WHEN User clicks action instruction in Behavior Action Hierarchy",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays entire instructions exactly as it should be sent to the AI chat",
                          "text": "THEN System displays entire instructions exactly as it should be sent to the AI chat",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Save Guardrails",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "System"
                      ],
                      "test_file": null,
                      "test_class": "TestSaveGuardrailsViaCLI",
                      "scenarios": [
                        {
                          "name": "Save answers to clarification file",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_guardrail_data_answers",
                          "steps": "Given Bot is at shape behavior\nAnd Behavior has clarify action\nWhen Action saves answers with question What is the scope of this work as Building bot system\nThen System loads existing clarification.json for shape behavior\nAnd System merges new answer with existing answers\nAnd System saves updated clarification.json to workspace docs folder\nAnd File contains shape behavior section with saved answer"
                        },
                        {
                          "name": "Save evidence to clarification file",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_guardrail_data_evidence",
                          "steps": "Given Bot is at shape behavior\nAnd Behavior has clarify action\nWhen Action saves evidence with Requirements doc as spec.md and User interviews as notes.md\nThen System loads existing clarification.json for shape behavior\nAnd System merges new evidence with existing evidence\nAnd System saves updated clarification.json to workspace docs folder\nAnd File contains shape behavior section with saved evidence"
                        },
                        {
                          "name": "Save decisions to strategy file",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_guardrail_data_decisions",
                          "steps": "Given Bot is at shape behavior\nAnd Behavior has strategy action\nWhen Action saves decisions with drill_down_approach as Dig deep on system interactions\nThen System loads existing strategy.json for shape behavior\nAnd System merges new decision with existing decisions\nAnd System saves updated strategy.json to workspace docs folder\nAnd File contains shape behavior section with saved decision"
                        },
                        {
                          "name": "Save assumptions to strategy file",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_guardrail_data_assumptions",
                          "steps": "Given Bot is at shape behavior\nAnd Behavior has strategy action\nWhen Action saves assumptions with Focus on user flow over internal systems\nThen System loads existing strategy.json for shape behavior\nAnd System merges new assumption with existing assumptions\nAnd System saves updated strategy.json to workspace docs folder\nAnd File contains shape behavior section with saved assumption"
                        },
                        {
                          "name": "Merge preserves existing answer fields",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_merge_with_existing_answers",
                          "steps": "Given clarification.json contains existing answers for shape behavior\nAnd Existing answers include What is the scope of this work as Building bot system\nAnd Existing answers include Who are the target users as AI Agents\nWhen Action saves updated answer Who are the target users as Developers and AI Agents\nThen System preserves What is the scope of this work as Building bot system\nAnd System overwrites Who are the target users to Developers and AI Agents\nAnd clarification.json contains both answers with new value for updated field"
                        },
                        {
                          "name": "Merge preserves existing decision fields",
                          "sequential_order": 6.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_merge_with_existing_decisions",
                          "steps": "Given strategy.json contains existing decisions for shape behavior\nAnd Existing decisions include drill_down_approach as High and wide across all epics\nAnd Existing decisions include depth_of_shaping as Extensive\nWhen Action saves updated decision drill_down_approach as Dig deep on system interactions\nThen System preserves depth_of_shaping as Extensive\nAnd System overwrites drill_down_approach to Dig deep on system interactions\nAnd strategy.json contains both decisions with new value for updated field"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Save Guardrails Through Panel",
                      "sequential_order": 6.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSaveGuardrailsThroughPanel",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_panel_displays_save_button_for_clarify_action",
                          "steps": "Given Bot is at shape.clarify\nWhen Panel renders clarify instructions\nThen Panel displays save button for answers\nAnd Panel displays save button for evidence"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_panel_displays_save_button_for_strategy_action",
                          "steps": "Given Bot is at shape.strategy\nWhen Panel renders strategy instructions\nThen Panel displays save button for decisions\nAnd Panel displays save button for assumptions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User fills in answers in panel form",
                          "text": "WHEN User fills in answers in panel form",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System validates input format",
                          "text": "THEN System validates input format",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System enables submit button",
                          "text": "AND System enables submit button",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User clicks submit for answers",
                          "text": "WHEN User clicks submit for answers",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN System saves answers to clarification.json under current behavior",
                          "text": "THEN System saves answers to clarification.json under current behavior",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND System merges with existing answers",
                          "text": "AND System merges with existing answers",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND System displays success message",
                          "text": "AND System displays success message",
                          "sequential_order": 7.0
                        }
                      ]
                    },
                    {
                      "name": "Handle Operation Errors and Validation in CLI",
                      "sequential_order": 7.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestHandleOperationErrorsAndValidationInCLI",
                      "scenarios": [
                        {
                          "name": "Handle operation errors gracefully",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_handle_operation_errors_gracefully",
                          "steps": "GIVEN: CLI executes operation that fails\nWHEN: error occurs\nTHEN: CLI displays error message and remains operational"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Save Guardrails Through CLI",
                      "sequential_order": 8.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSaveGuardrailsUsingCLI",
                      "scenarios": [
                        {
                          "name": "Save answers via CLI command",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_answers_via_cli_command",
                          "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user runs 'save --answers {\"What is the scope?\": \"Bot system\"}'\nTHEN: CLI shows success message\nAND: clarification.json is updated"
                        },
                        {
                          "name": "Save decisions via CLI command",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_save_decisions_via_cli_command",
                          "steps": "GIVEN: CLI is at shape.strategy\nWHEN: user runs 'save --decisions {\"drill_down\": \"Deep\"}'\nTHEN: CLI shows success message\nAND: strategy.json is updated"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN user runs save command with answers parameter",
                          "text": "WHEN user runs save command with answers parameter",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN CLI saves answers to clarification.json under current behavior",
                          "text": "THEN CLI saves answers to clarification.json under current behavior",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND CLI merges with existing answers",
                          "text": "AND CLI merges with existing answers",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN user runs save command with decisions parameter",
                          "text": "WHEN user runs save command with decisions parameter",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN CLI saves decisions to strategy.json under current behavior",
                          "text": "THEN CLI saves decisions to strategy.json under current behavior",
                          "sequential_order": 5.0
                        }
                      ]
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Inject Context Into Instructions",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestInjectContextIntoInstructions",
                  "scenarios": [
                    {
                      "name": "Action Loads Context Data Into Instructions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_loads_context_data_into_instructions",
                      "steps": ""
                    },
                    {
                      "name": "Next behavior reminder is NOT injected when action is not final",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_next_behavior_reminder_not_injected_when_not_final_action",
                      "steps": "Given validate is NOT the final action (render comes after)\nWhen validate action executes\nThen base_instructions do NOT include next behavior reminder\nThen And bot_config.json defines behavior sequence"
                    },
                    {
                      "name": "Next behavior reminder is NOT injected when current behavior is last in sequence",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_next_behavior_reminder_not_injected_when_no_next_behavior",
                      "steps": "Given discovery is the last behavior in bot_config.json\nWhen render action executes\nThen base_instructions do NOT include next behavior reminder\nThen And render is the final action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Get Action Instructions Through CLI",
                  "sequential_order": 1.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetActionInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "User gets instructions using full path",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_gets_instructions_using_full_path",
                      "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions'\nTHEN: CLI displays formatted instructions"
                    },
                    {
                      "name": "User calls action by name shortcut",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_calls_action_by_name_shortcut",
                      "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters just 'build'\nTHEN: CLI executes instructions operation on current behavior's build action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN user navigates to behavior.action.instructions\nTHEN CLI displays formatted instructions for that action",
                      "text": "WHEN user navigates to behavior.action.instructions\nTHEN CLI displays formatted instructions for that action",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN user enters action name only as shortcut\nTHEN CLI executes instructions on current behavior's action",
                      "text": "WHEN user enters action name only as shortcut\nTHEN CLI executes instructions on current behavior's action",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Submit Instructions Through CLI",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSubmitInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "User submits current action instructions",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_submits_current_action_instructions",
                      "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user enters 'submit'\nTHEN: CLI tracks instruction submission\nAND: CLI returns success message with behavior and action\nAND: CLI includes timestamp of submission"
                    },
                    {
                      "name": "Submit command fails when no current action",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_submit_command_fails_when_no_current_action",
                      "steps": "GIVEN: CLI has no current action set\nWHEN: user enters 'submit'\nTHEN: CLI displays error message\nAND: Error indicates no current action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User executes submit command",
                      "text": "WHEN User executes submit command",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System tracks instruction submission",
                      "text": "THEN System tracks instruction submission",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System returns success status with timestamp",
                      "text": "AND System returns success status with timestamp",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Display Base Instructions Panel",
                  "sequential_order": 3.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayBaseInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.clarify\nWhen Panel displays instructions section\nThen Panel displays base instructions\nAnd Panel displays behavior name (shape)\nAnd Panel displays action name (clarify)\nAnd Instructions are scrollable"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays base instructions\nWhen User clicks copy button\nThen Instructions are copied to clipboard\nAnd Panel displays confirmation message"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User views panel",
                      "text": "WHEN User views panel",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays base instructions section",
                      "text": "THEN System displays base instructions section",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays behavior name",
                      "text": "AND System displays behavior name",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays action name",
                      "text": "AND System displays action name",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Raw Format Instructions In Panel",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayInstructionsInRawFormat",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays formatted instructions\nWhen User clicks raw format toggle button\nThen Panel displays instructions in raw text format\nAnd Instructions show exactly as they would be sent to AI\nAnd Raw format is scrollable"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays instructions in raw format\nWhen User clicks formatted view toggle button\nThen Panel displays instructions in formatted view\nAnd Instructions show with sections and styling"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks action instruction in Behavior Action Hierarchy",
                      "text": "WHEN User clicks action instruction in Behavior Action Hierarchy",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays entire instructions exactly as it should be sent to the AI chat",
                      "text": "THEN System displays entire instructions exactly as it should be sent to the AI chat",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Save Guardrails",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "System"
                  ],
                  "test_class": "TestSaveGuardrailsViaCLI",
                  "scenarios": [
                    {
                      "name": "Save answers to clarification file",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_guardrail_data_answers",
                      "steps": "Given Bot is at shape behavior\nAnd Behavior has clarify action\nWhen Action saves answers with question What is the scope of this work as Building bot system\nThen System loads existing clarification.json for shape behavior\nAnd System merges new answer with existing answers\nAnd System saves updated clarification.json to workspace docs folder\nAnd File contains shape behavior section with saved answer"
                    },
                    {
                      "name": "Save evidence to clarification file",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_guardrail_data_evidence",
                      "steps": "Given Bot is at shape behavior\nAnd Behavior has clarify action\nWhen Action saves evidence with Requirements doc as spec.md and User interviews as notes.md\nThen System loads existing clarification.json for shape behavior\nAnd System merges new evidence with existing evidence\nAnd System saves updated clarification.json to workspace docs folder\nAnd File contains shape behavior section with saved evidence"
                    },
                    {
                      "name": "Save decisions to strategy file",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_guardrail_data_decisions",
                      "steps": "Given Bot is at shape behavior\nAnd Behavior has strategy action\nWhen Action saves decisions with drill_down_approach as Dig deep on system interactions\nThen System loads existing strategy.json for shape behavior\nAnd System merges new decision with existing decisions\nAnd System saves updated strategy.json to workspace docs folder\nAnd File contains shape behavior section with saved decision"
                    },
                    {
                      "name": "Save assumptions to strategy file",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_guardrail_data_assumptions",
                      "steps": "Given Bot is at shape behavior\nAnd Behavior has strategy action\nWhen Action saves assumptions with Focus on user flow over internal systems\nThen System loads existing strategy.json for shape behavior\nAnd System merges new assumption with existing assumptions\nAnd System saves updated strategy.json to workspace docs folder\nAnd File contains shape behavior section with saved assumption"
                    },
                    {
                      "name": "Merge preserves existing answer fields",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_merge_with_existing_answers",
                      "steps": "Given clarification.json contains existing answers for shape behavior\nAnd Existing answers include What is the scope of this work as Building bot system\nAnd Existing answers include Who are the target users as AI Agents\nWhen Action saves updated answer Who are the target users as Developers and AI Agents\nThen System preserves What is the scope of this work as Building bot system\nAnd System overwrites Who are the target users to Developers and AI Agents\nAnd clarification.json contains both answers with new value for updated field"
                    },
                    {
                      "name": "Merge preserves existing decision fields",
                      "sequential_order": 6.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_merge_with_existing_decisions",
                      "steps": "Given strategy.json contains existing decisions for shape behavior\nAnd Existing decisions include drill_down_approach as High and wide across all epics\nAnd Existing decisions include depth_of_shaping as Extensive\nWhen Action saves updated decision drill_down_approach as Dig deep on system interactions\nThen System preserves depth_of_shaping as Extensive\nAnd System overwrites drill_down_approach to Dig deep on system interactions\nAnd strategy.json contains both decisions with new value for updated field"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Save Guardrails Through Panel",
                  "sequential_order": 6.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSaveGuardrailsThroughPanel",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_panel_displays_save_button_for_clarify_action",
                      "steps": "Given Bot is at shape.clarify\nWhen Panel renders clarify instructions\nThen Panel displays save button for answers\nAnd Panel displays save button for evidence"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_panel_displays_save_button_for_strategy_action",
                      "steps": "Given Bot is at shape.strategy\nWhen Panel renders strategy instructions\nThen Panel displays save button for decisions\nAnd Panel displays save button for assumptions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User fills in answers in panel form",
                      "text": "WHEN User fills in answers in panel form",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System validates input format",
                      "text": "THEN System validates input format",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System enables submit button",
                      "text": "AND System enables submit button",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User clicks submit for answers",
                      "text": "WHEN User clicks submit for answers",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN System saves answers to clarification.json under current behavior",
                      "text": "THEN System saves answers to clarification.json under current behavior",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND System merges with existing answers",
                      "text": "AND System merges with existing answers",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND System displays success message",
                      "text": "AND System displays success message",
                      "sequential_order": 7.0
                    }
                  ]
                },
                {
                  "name": "Handle Operation Errors and Validation in CLI",
                  "sequential_order": 7.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestHandleOperationErrorsAndValidationInCLI",
                  "scenarios": [
                    {
                      "name": "Handle operation errors gracefully",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_handle_operation_errors_gracefully",
                      "steps": "GIVEN: CLI executes operation that fails\nWHEN: error occurs\nTHEN: CLI displays error message and remains operational"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Save Guardrails Through CLI",
                  "sequential_order": 8.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSaveGuardrailsUsingCLI",
                  "scenarios": [
                    {
                      "name": "Save answers via CLI command",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_answers_via_cli_command",
                      "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user runs 'save --answers {\"What is the scope?\": \"Bot system\"}'\nTHEN: CLI shows success message\nAND: clarification.json is updated"
                    },
                    {
                      "name": "Save decisions via CLI command",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_save_decisions_via_cli_command",
                      "steps": "GIVEN: CLI is at shape.strategy\nWHEN: user runs 'save --decisions {\"drill_down\": \"Deep\"}'\nTHEN: CLI shows success message\nAND: strategy.json is updated"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN user runs save command with answers parameter",
                      "text": "WHEN user runs save command with answers parameter",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN CLI saves answers to clarification.json under current behavior",
                      "text": "THEN CLI saves answers to clarification.json under current behavior",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND CLI merges with existing answers",
                      "text": "AND CLI merges with existing answers",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN user runs save command with decisions parameter",
                      "text": "WHEN user runs save command with decisions parameter",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN CLI saves decisions to strategy.json under current behavior",
                      "text": "THEN CLI saves decisions to strategy.json under current behavior",
                      "sequential_order": 5.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/perform_action/test_prepare_common_instructions.py"
            },
            {
              "name": "Clarify Requirements",
              "sequential_order": 1.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Clarify Requirements",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestClarifyRequirements",
                      "scenarios": [
                        {
                          "name": "Action injects questions and evidence from production guardrails",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_injects_questions_and_evidence",
                          "steps": "Given Production story_bot with shape behavior (has guardrails)\nWhen Action injects guardrails\nThen Instructions contain questions and evidence from production files"
                        },
                        {
                          "name": "Save clarification data when parameters are provided",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_save_clarification_data_when_parameters_provided",
                          "steps": "Given Production story_bot clarify action\nWhen do_execute is called with key_questions_answered and evidence_provided\nThen clarification.json file is created in docs/stories/ folder\nThen And file contains behavior section with key_questions and evidence"
                        },
                        {
                          "name": "Preserve existing clarification data when saving",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_preserve_existing_clarification_data_when_saving",
                          "steps": "Given clarification.json already exists with data for 'discovery' behavior\nWhen do_execute is called with parameters\nThen clarification.json contains both 'discovery' and 'shape' sections\nThen And Production story_bot clarify action for 'shape' behavior\nThen And existing 'discovery' data is preserved"
                        },
                        {
                          "name": "Skip saving when no clarification parameters are provided",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_skip_saving_when_no_clarification_parameters_provided",
                          "steps": "Given Production story_bot clarify action\nWhen do_execute is called with empty parameters\nThen clarification.json file is not created"
                        },
                        {
                          "name": "Guardrails loads required context from workspace",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_guardrails_loads_required_context_from_workspace",
                          "steps": "Given Workspace with guardrails files (questions and evidence)\nWhen Behavior loads guardrails\nThen Questions and evidence are loaded correctly"
                        },
                        {
                          "name": "Guardrails loads strategy assumptions from workspace",
                          "sequential_order": 6.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_guardrails_loads_strategy_assumptions_from_workspace",
                          "steps": "Given Workspace with strategy guardrails files\nWhen Behavior loads guardrails\nThen Strategy assumptions are loaded correctly"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Clarification Data Through CLI",
                      "sequential_order": 1.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayClarificationDataThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display stored clarification data",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_stored_clarification_data",
                          "steps": "GIVEN: Clarification data exists\nWHEN: user views clarify instructions\nTHEN: CLI displays stored clarification data"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Clarify Instructions Panel",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayClarifyInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.clarify\nAnd Guardrails define key questions and evidence\nWhen Panel displays instructions section\nThen Panel displays key questions list\nAnd Panel displays evidence requirements\nAnd Each question has editable textarea for answers"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays clarify instructions with questions\nWhen User types answer in question textarea\nThen System saves answer\nAnd Answer persists across panel refreshes"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given User has previously answered clarify questions\nAnd Answers are saved in clarification.json\nWhen Panel displays clarify instructions\nThen Panel displays saved answers in textareas"
                        },
                        {
                          "name": "",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_views_strategy_guardrails_in_clarify_action",
                          "steps": "Given Bot is at shape.clarify\nAnd User has previously made strategy decisions\nWhen Panel displays clarify instructions\nThen Panel displays Strategy section\nAnd Strategy section shows all decision criteria with selected options\nAnd Strategy section shows saved assumptions\nAnd Strategy data is read-only (not editable in clarify action)"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Current action is clarify",
                          "text": "WHEN Current action is clarify",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays key questions with editable answer textareas",
                          "text": "THEN System displays key questions with editable answer textareas",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays evidence list",
                          "text": "AND System displays evidence list",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User edits answer textarea",
                          "text": "WHEN User edits answer textarea",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN System updates answer",
                          "text": "THEN System updates answer",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN saved key questions and answers exists",
                          "text": "WHEN saved key questions and answers exists",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "THEN System displays saved key questions and answers",
                          "text": "THEN System displays saved key questions and answers",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "WHEN User is on non-clarify actions and has previously made strategy decisions",
                          "text": "WHEN User is on non-clarify actions and has previously made strategy decisions",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "THEN System displays saved strategy decisions and criteria as read-only",
                          "text": "THEN System displays saved strategy decisions and criteria as read-only",
                          "sequential_order": 9.0
                        }
                      ]
                    },
                    {
                      "name": "Get Clarify Instructions Through CLI",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetClarifyInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Get clarify instructions with questions",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_clarify_instructions_with_questions",
                          "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'shape.clarify.instructions'\nTHEN: CLI displays key questions and required evidence"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Clarify Requirements Using CLI",
                      "sequential_order": 4.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestClarifyRequirementsUsingCLI",
                      "scenarios": [
                        {
                          "name": "Clarify action shows questions and evidence in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_clarify_action_shows_questions_and_evidence",
                          "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user navigates to shape.clarify\nTHEN: CLI output contains questions and evidence from guardrails"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Clarify Requirements",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestClarifyRequirements",
                  "scenarios": [
                    {
                      "name": "Action injects questions and evidence from production guardrails",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_injects_questions_and_evidence",
                      "steps": "Given Production story_bot with shape behavior (has guardrails)\nWhen Action injects guardrails\nThen Instructions contain questions and evidence from production files"
                    },
                    {
                      "name": "Save clarification data when parameters are provided",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_save_clarification_data_when_parameters_provided",
                      "steps": "Given Production story_bot clarify action\nWhen do_execute is called with key_questions_answered and evidence_provided\nThen clarification.json file is created in docs/stories/ folder\nThen And file contains behavior section with key_questions and evidence"
                    },
                    {
                      "name": "Preserve existing clarification data when saving",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_preserve_existing_clarification_data_when_saving",
                      "steps": "Given clarification.json already exists with data for 'discovery' behavior\nWhen do_execute is called with parameters\nThen clarification.json contains both 'discovery' and 'shape' sections\nThen And Production story_bot clarify action for 'shape' behavior\nThen And existing 'discovery' data is preserved"
                    },
                    {
                      "name": "Skip saving when no clarification parameters are provided",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_skip_saving_when_no_clarification_parameters_provided",
                      "steps": "Given Production story_bot clarify action\nWhen do_execute is called with empty parameters\nThen clarification.json file is not created"
                    },
                    {
                      "name": "Guardrails loads required context from workspace",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_guardrails_loads_required_context_from_workspace",
                      "steps": "Given Workspace with guardrails files (questions and evidence)\nWhen Behavior loads guardrails\nThen Questions and evidence are loaded correctly"
                    },
                    {
                      "name": "Guardrails loads strategy assumptions from workspace",
                      "sequential_order": 6.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_guardrails_loads_strategy_assumptions_from_workspace",
                      "steps": "Given Workspace with strategy guardrails files\nWhen Behavior loads guardrails\nThen Strategy assumptions are loaded correctly"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Clarification Data Through CLI",
                  "sequential_order": 1.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayClarificationDataThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display stored clarification data",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_stored_clarification_data",
                      "steps": "GIVEN: Clarification data exists\nWHEN: user views clarify instructions\nTHEN: CLI displays stored clarification data"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Clarify Instructions Panel",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayClarifyInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.clarify\nAnd Guardrails define key questions and evidence\nWhen Panel displays instructions section\nThen Panel displays key questions list\nAnd Panel displays evidence requirements\nAnd Each question has editable textarea for answers"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays clarify instructions with questions\nWhen User types answer in question textarea\nThen System saves answer\nAnd Answer persists across panel refreshes"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given User has previously answered clarify questions\nAnd Answers are saved in clarification.json\nWhen Panel displays clarify instructions\nThen Panel displays saved answers in textareas"
                    },
                    {
                      "name": "",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_views_strategy_guardrails_in_clarify_action",
                      "steps": "Given Bot is at shape.clarify\nAnd User has previously made strategy decisions\nWhen Panel displays clarify instructions\nThen Panel displays Strategy section\nAnd Strategy section shows all decision criteria with selected options\nAnd Strategy section shows saved assumptions\nAnd Strategy data is read-only (not editable in clarify action)"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Current action is clarify",
                      "text": "WHEN Current action is clarify",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays key questions with editable answer textareas",
                      "text": "THEN System displays key questions with editable answer textareas",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays evidence list",
                      "text": "AND System displays evidence list",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User edits answer textarea",
                      "text": "WHEN User edits answer textarea",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN System updates answer",
                      "text": "THEN System updates answer",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN saved key questions and answers exists",
                      "text": "WHEN saved key questions and answers exists",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "THEN System displays saved key questions and answers",
                      "text": "THEN System displays saved key questions and answers",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "WHEN User is on non-clarify actions and has previously made strategy decisions",
                      "text": "WHEN User is on non-clarify actions and has previously made strategy decisions",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "THEN System displays saved strategy decisions and criteria as read-only",
                      "text": "THEN System displays saved strategy decisions and criteria as read-only",
                      "sequential_order": 9.0
                    }
                  ]
                },
                {
                  "name": "Get Clarify Instructions Through CLI",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetClarifyInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Get clarify instructions with questions",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_clarify_instructions_with_questions",
                      "steps": "GIVEN: CLI is at shape.clarify.instructions\nWHEN: user enters 'shape.clarify.instructions'\nTHEN: CLI displays key questions and required evidence"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/perform_action/test_clarify_requirements.py"
            },
            {
              "name": "Decide Strategy",
              "sequential_order": 2.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Decide Strategy",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDecideStrategy",
                      "scenarios": [
                        {
                          "name": "Action Injects Decision Criteria And Assumptions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_injects_decision_criteria_and_assumptions",
                          "steps": "Given Production story_bot with shape behavior (has guardrails)\nWhen Action injects strategy criteria and assumptions\nThen Instructions contain all required strategy fields"
                        },
                        {
                          "name": "Save strategy data when parameters are provided",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_save_strategy_data_when_parameters_provided",
                          "steps": "Given Production story_bot strategy action\nWhen do_execute is called with decisions_made and assumptions_made\nThen strategy.json file is created in docs/stories/ folder\nThen And file contains behavior section with decisions_made and assumptions_made"
                        },
                        {
                          "name": "Preserve existing strategy data when saving",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_preserve_existing_strategy_data_when_saving",
                          "steps": "Given strategy.json already exists with data for 'discovery' behavior\nWhen do_execute is called with parameters\nThen strategy.json contains both 'discovery' and 'shape' sections\nThen And Production story_bot strategy action for 'shape' behavior\nThen And existing 'discovery' data is preserved"
                        },
                        {
                          "name": "Skip saving when no strategy parameters are provided",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_skip_saving_when_no_strategy_parameters_provided",
                          "steps": "Given Production story_bot strategy action\nWhen do_execute is called with empty parameters\nThen strategy.json file is not created"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Strategy Data Through CLI",
                      "sequential_order": 1.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayStrategyDataThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display stored strategy data",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_stored_strategy_data",
                          "steps": "GIVEN: Strategy data exists\nWHEN: user views strategy instructions\nTHEN: CLI displays stored strategy decisions and assumptions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Strategy Instructions Panel",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayStrategyInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.strategy\nWhen Panel displays instructions section\nThen Panel displays decision criteria with radio options\nAnd Panel displays assumptions textarea\nAnd User can select option for each criterion"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays strategy instructions\nWhen User selects radio option for decision criterion\nThen System saves selected option\nAnd Selection persists across panel refreshes"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_assumptions_textarea_remains_editable_after_being_saved",
                          "steps": "Given Bot is at shape.strategy\nAnd User has previously saved assumptions\nWhen Panel displays strategy instructions\nThen Assumptions textarea is displayed as editable input\nAnd Textarea is pre-filled with saved assumptions\nAnd User can edit and update assumptions"
                        },
                        {
                          "name": "",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_views_clarify_answers_in_strategy_action",
                          "steps": "Given Bot is at shape.strategy\nAnd User has previously answered clarify questions\nWhen Panel displays strategy instructions\nThen Panel displays Clarify section\nAnd Clarify section shows answered questions\nAnd Clarify data is read-only (not editable in strategy action)"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Current action is strategy",
                          "text": "WHEN Current action is strategy",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays decision criteria with radio button options",
                          "text": "THEN System displays decision criteria with radio button options",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays assumptions textarea",
                          "text": "AND System displays assumptions textarea",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN Saved strategy exists",
                          "text": "WHEN Saved strategy exists",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN System displays selected option for each decision criterion",
                          "text": "THEN System displays selected option for each decision criterion",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND Assumptions textarea remains editable",
                          "text": "AND Assumptions textarea remains editable",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND Textarea is pre-filled with saved assumptions",
                          "text": "AND Textarea is pre-filled with saved assumptions",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "WHEN User edits assumptions textarea",
                          "text": "WHEN User edits assumptions textarea",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "THEN System updates assumptions",
                          "text": "THEN System updates assumptions",
                          "sequential_order": 9.0
                        },
                        {
                          "name": "WHEN User is on non-strategy actions (clarify, build, validate, render)",
                          "text": "WHEN User is on non-strategy actions (clarify, build, validate, render)",
                          "sequential_order": 10.0
                        },
                        {
                          "name": "THEN System displays saved strategy decisions and criteria as read-only",
                          "text": "THEN System displays saved strategy decisions and criteria as read-only",
                          "sequential_order": 11.0
                        }
                      ]
                    },
                    {
                      "name": "Submit Instructions To AI Agent Panel",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitInstructionsToAIAgent",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays instructions for current action\nWhen User clicks submit button\nThen System sends instructions to Cursor AI chat\nAnd Panel displays success confirmation message\nAnd AI chat receives instructions"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays instructions\nAnd Cursor AI chat is not available\nWhen User clicks submit button\nThen Panel displays error message\nAnd Error message indicates chat unavailable"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays instructions\nWhen User clicks copy button\nThen Instructions are copied to clipboard\nWhen User clicks submit button\nThen Instructions are also sent to AI chat"
                        },
                        {
                          "name": "",
                          "sequential_order": 4.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_submitted_instructions_include_complete_scope_with_story_tree",
                          "steps": "Given Bot has scope set to story Open Panel\nAnd Scope.results contains full story graph hierarchy\nWhen User clicks submit in panel\nThen Submitted instructions contain Scope section at top\nAnd Scope section shows Story Scope: Open Panel\nAnd Scope section shows complete epic/sub-epic/story hierarchy"
                        },
                        {
                          "name": "",
                          "sequential_order": 5.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_submitted_instructions_include_all_guardrails",
                          "steps": "Given Bot is at shape.build\nAnd User has answered clarify questions\nAnd User has made strategy decisions\nWhen User clicks submit in panel\nThen Submitted instructions include Clarify section with answers\nAnd Submitted instructions include Strategy section with decisions and assumptions\nAnd All saved guardrails are visible in submitted markdown"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "When user has clicked on a Behavior Action's Instructions",
                          "text": "When user has clicked on a Behavior Action's Instructions",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "AND User clicks submit button",
                          "text": "AND User clicks submit button",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "THEN System sends instructions to AI chat",
                          "text": "THEN System sends instructions to AI chat",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN User clicks submit button",
                          "text": "WHEN User clicks submit button",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "THEN Submitted instructions include scope section",
                          "text": "THEN Submitted instructions include scope section",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND Scope section includes scope type (story/files/all)",
                          "text": "AND Scope section includes scope type (story/files/all)",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "AND Scope section includes scope filter values",
                          "text": "AND Scope section includes scope filter values",
                          "sequential_order": 7.0
                        },
                        {
                          "name": "AND Scope section includes complete story graph tree when scope is story-based",
                          "text": "AND Scope section includes complete story graph tree when scope is story-based",
                          "sequential_order": 8.0
                        },
                        {
                          "name": "WHEN User has answered clarify questions or made strategy decisions",
                          "text": "WHEN User has answered clarify questions or made strategy decisions",
                          "sequential_order": 9.0
                        },
                        {
                          "name": "THEN Submitted instructions include all saved guardrails",
                          "text": "THEN Submitted instructions include all saved guardrails",
                          "sequential_order": 10.0
                        }
                      ]
                    },
                    {
                      "name": "Get Strategy Instructions Through CLI",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetStrategyInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Get strategy instructions with criteria",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_strategy_instructions_with_criteria",
                          "steps": "GIVEN: CLI is at shape.strategy.instructions\nWHEN: user enters 'shape.strategy.instructions'\nTHEN: CLI displays planning criteria and assumptions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Decide Strategy Using CLI",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDecideStrategyUsingCLI",
                      "scenarios": [
                        {
                          "name": "Strategy action shows criteria and assumptions in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_strategy_action_shows_criteria_and_assumptions",
                          "steps": "GIVEN: CLI is at shape.strategy\nWHEN: user navigates to shape.strategy\nTHEN: CLI output contains decision criteria and assumptions"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Decide Strategy",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDecideStrategy",
                  "scenarios": [
                    {
                      "name": "Action Injects Decision Criteria And Assumptions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_injects_decision_criteria_and_assumptions",
                      "steps": "Given Production story_bot with shape behavior (has guardrails)\nWhen Action injects strategy criteria and assumptions\nThen Instructions contain all required strategy fields"
                    },
                    {
                      "name": "Save strategy data when parameters are provided",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_save_strategy_data_when_parameters_provided",
                      "steps": "Given Production story_bot strategy action\nWhen do_execute is called with decisions_made and assumptions_made\nThen strategy.json file is created in docs/stories/ folder\nThen And file contains behavior section with decisions_made and assumptions_made"
                    },
                    {
                      "name": "Preserve existing strategy data when saving",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_preserve_existing_strategy_data_when_saving",
                      "steps": "Given strategy.json already exists with data for 'discovery' behavior\nWhen do_execute is called with parameters\nThen strategy.json contains both 'discovery' and 'shape' sections\nThen And Production story_bot strategy action for 'shape' behavior\nThen And existing 'discovery' data is preserved"
                    },
                    {
                      "name": "Skip saving when no strategy parameters are provided",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_skip_saving_when_no_strategy_parameters_provided",
                      "steps": "Given Production story_bot strategy action\nWhen do_execute is called with empty parameters\nThen strategy.json file is not created"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Strategy Data Through CLI",
                  "sequential_order": 1.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayStrategyDataThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display stored strategy data",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_stored_strategy_data",
                      "steps": "GIVEN: Strategy data exists\nWHEN: user views strategy instructions\nTHEN: CLI displays stored strategy decisions and assumptions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Strategy Instructions Panel",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayStrategyInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.strategy\nWhen Panel displays instructions section\nThen Panel displays decision criteria with radio options\nAnd Panel displays assumptions textarea\nAnd User can select option for each criterion"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays strategy instructions\nWhen User selects radio option for decision criterion\nThen System saves selected option\nAnd Selection persists across panel refreshes"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_assumptions_textarea_remains_editable_after_being_saved",
                      "steps": "Given Bot is at shape.strategy\nAnd User has previously saved assumptions\nWhen Panel displays strategy instructions\nThen Assumptions textarea is displayed as editable input\nAnd Textarea is pre-filled with saved assumptions\nAnd User can edit and update assumptions"
                    },
                    {
                      "name": "",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_views_clarify_answers_in_strategy_action",
                      "steps": "Given Bot is at shape.strategy\nAnd User has previously answered clarify questions\nWhen Panel displays strategy instructions\nThen Panel displays Clarify section\nAnd Clarify section shows answered questions\nAnd Clarify data is read-only (not editable in strategy action)"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Current action is strategy",
                      "text": "WHEN Current action is strategy",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays decision criteria with radio button options",
                      "text": "THEN System displays decision criteria with radio button options",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays assumptions textarea",
                      "text": "AND System displays assumptions textarea",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN Saved strategy exists",
                      "text": "WHEN Saved strategy exists",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN System displays selected option for each decision criterion",
                      "text": "THEN System displays selected option for each decision criterion",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND Assumptions textarea remains editable",
                      "text": "AND Assumptions textarea remains editable",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND Textarea is pre-filled with saved assumptions",
                      "text": "AND Textarea is pre-filled with saved assumptions",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "WHEN User edits assumptions textarea",
                      "text": "WHEN User edits assumptions textarea",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "THEN System updates assumptions",
                      "text": "THEN System updates assumptions",
                      "sequential_order": 9.0
                    },
                    {
                      "name": "WHEN User is on non-strategy actions (clarify, build, validate, render)",
                      "text": "WHEN User is on non-strategy actions (clarify, build, validate, render)",
                      "sequential_order": 10.0
                    },
                    {
                      "name": "THEN System displays saved strategy decisions and criteria as read-only",
                      "text": "THEN System displays saved strategy decisions and criteria as read-only",
                      "sequential_order": 11.0
                    }
                  ]
                },
                {
                  "name": "Submit Instructions To AI Agent Panel",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSubmitInstructionsToAIAgent",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays instructions for current action\nWhen User clicks submit button\nThen System sends instructions to Cursor AI chat\nAnd Panel displays success confirmation message\nAnd AI chat receives instructions"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays instructions\nAnd Cursor AI chat is not available\nWhen User clicks submit button\nThen Panel displays error message\nAnd Error message indicates chat unavailable"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays instructions\nWhen User clicks copy button\nThen Instructions are copied to clipboard\nWhen User clicks submit button\nThen Instructions are also sent to AI chat"
                    },
                    {
                      "name": "",
                      "sequential_order": 4.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_submitted_instructions_include_complete_scope_with_story_tree",
                      "steps": "Given Bot has scope set to story Open Panel\nAnd Scope.results contains full story graph hierarchy\nWhen User clicks submit in panel\nThen Submitted instructions contain Scope section at top\nAnd Scope section shows Story Scope: Open Panel\nAnd Scope section shows complete epic/sub-epic/story hierarchy"
                    },
                    {
                      "name": "",
                      "sequential_order": 5.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_submitted_instructions_include_all_guardrails",
                      "steps": "Given Bot is at shape.build\nAnd User has answered clarify questions\nAnd User has made strategy decisions\nWhen User clicks submit in panel\nThen Submitted instructions include Clarify section with answers\nAnd Submitted instructions include Strategy section with decisions and assumptions\nAnd All saved guardrails are visible in submitted markdown"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "When user has clicked on a Behavior Action's Instructions",
                      "text": "When user has clicked on a Behavior Action's Instructions",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "AND User clicks submit button",
                      "text": "AND User clicks submit button",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "THEN System sends instructions to AI chat",
                      "text": "THEN System sends instructions to AI chat",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN User clicks submit button",
                      "text": "WHEN User clicks submit button",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "THEN Submitted instructions include scope section",
                      "text": "THEN Submitted instructions include scope section",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND Scope section includes scope type (story/files/all)",
                      "text": "AND Scope section includes scope type (story/files/all)",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "AND Scope section includes scope filter values",
                      "text": "AND Scope section includes scope filter values",
                      "sequential_order": 7.0
                    },
                    {
                      "name": "AND Scope section includes complete story graph tree when scope is story-based",
                      "text": "AND Scope section includes complete story graph tree when scope is story-based",
                      "sequential_order": 8.0
                    },
                    {
                      "name": "WHEN User has answered clarify questions or made strategy decisions",
                      "text": "WHEN User has answered clarify questions or made strategy decisions",
                      "sequential_order": 9.0
                    },
                    {
                      "name": "THEN Submitted instructions include all saved guardrails",
                      "text": "THEN Submitted instructions include all saved guardrails",
                      "sequential_order": 10.0
                    }
                  ]
                },
                {
                  "name": "Get Strategy Instructions Through CLI",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetStrategyInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Get strategy instructions with criteria",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_strategy_instructions_with_criteria",
                      "steps": "GIVEN: CLI is at shape.strategy.instructions\nWHEN: user enters 'shape.strategy.instructions'\nTHEN: CLI displays planning criteria and assumptions"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/perform_action/test_decide_strategy.py"
            },
            {
              "name": "Build Story Graph",
              "sequential_order": 3.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Build Story Graph",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestBuildStoryGraph",
                      "scenarios": [
                        {
                          "name": "Action Injects Story Graph Template",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_injects_story_graph_template",
                          "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects story graph template\nThen Instructions contain template_path from existing templates"
                        },
                        {
                          "name": "Action Loads And Merges Instructions",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_loads_and_merges_instructions",
                          "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects story graph and instructions\nThen Instructions contain all BuildStoryGraphAction-specific fields"
                        },
                        {
                          "name": "All Template Variables Are Replaced In Instructions",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_all_template_variables_are_replaced_in_instructions",
                          "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects all template variables\nThen Instructions contain all required BuildStoryGraphAction fields"
                        },
                        {
                          "name": "Prioritization behavior updates existing story-graph.json",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_behavior_updates_existing_story_graph_json",
                          "steps": "Given Production prioritization behavior with increments templates\nWhen Action injects story graph template for increments\nThen Instructions use production template (story_graph_increments.json) that updates existing file\nThen And Existing story-graph.json in workspace"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Get Build Instructions Through CLI",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetBuildInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Get build instructions without scope",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_build_instructions_without_scope",
                          "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions'\nTHEN: CLI displays build instructions with full knowledge graph"
                        },
                        {
                          "name": "Get build instructions with scope",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_build_instructions_with_scope",
                          "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions scope=\"Story1\"'\nTHEN: CLI displays build instructions filtered to Story1"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Build Story Graph With CLI",
                      "sequential_order": 5.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "AI Agent"
                      ],
                      "test_file": null,
                      "test_class": "TestBuildStoryGraphWithCLI",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN AI builds story graph through CLI\nTHEN AI calls CLI commands instead of writing raw JSON\nAND AI uses create_epic, create_sub_epic, create_story commands for fine-grained construction\nAND each CLI command invokes corresponding StoryMap API method\nAND validation errors returned immediately to AI",
                          "text": "WHEN AI builds story graph through CLI\nTHEN AI calls CLI commands instead of writing raw JSON\nAND AI uses create_epic, create_sub_epic, create_story commands for fine-grained construction\nAND each CLI command invokes corresponding StoryMap API method\nAND validation errors returned immediately to AI",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN AI builds large story graph structures through CLI\nTHEN AI uses create_from_json command for batch operations\nAND AI passes dictionary notation with epic/sub-epic/story hierarchy\nAND CLI accepts both inline JSON notation and file paths\nAND CLI invokes StoryMap.create_epic_from_dict() with provided data",
                          "text": "WHEN AI builds large story graph structures through CLI\nTHEN AI uses create_from_json command for batch operations\nAND AI passes dictionary notation with epic/sub-epic/story hierarchy\nAND CLI accepts both inline JSON notation and file paths\nAND CLI invokes StoryMap.create_epic_from_dict() with provided data",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN CLI wraps StoryMap API\nTHEN CLI exposes create_epic, create_sub_epic, create_story commands\nAND CLI exposes create_from_json for batch operations\nAND CLI provides save command to persist changes\nAND CLI can be called from AI or human users",
                          "text": "WHEN CLI wraps StoryMap API\nTHEN CLI exposes create_epic, create_sub_epic, create_story commands\nAND CLI exposes create_from_json for batch operations\nAND CLI provides save command to persist changes\nAND CLI can be called from AI or human users",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN AI completes building story graph\nTHEN AI calls save command through CLI\nAND CLI invokes StoryMap.save() method\nAND story_graph persisted to file\nAND AI receives confirmation of successful save",
                          "text": "WHEN AI completes building story graph\nTHEN AI calls save command through CLI\nAND CLI invokes StoryMap.save() method\nAND story_graph persisted to file\nAND AI receives confirmation of successful save",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Build Story Graph Using API",
                      "sequential_order": 6.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestBuildStoryGraphUsingAPI",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot is called through StoryMap API\nTHEN caller uses create_epic(), create_child(), create_story() for fine-grained construction\nAND caller validates each node during creation\nAND validation errors caught immediately before invalid structure created",
                          "text": "WHEN Bot is called through StoryMap API\nTHEN caller uses create_epic(), create_child(), create_story() for fine-grained construction\nAND caller validates each node during creation\nAND validation errors caught immediately before invalid structure created",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot is called with large story graph structures\nTHEN caller uses create_epic_from_dict() for batch operations\nAND caller passes dictionary notation with epic/sub-epic/story hierarchy\nAND StoryMap converts dict notation to domain objects\nAND StoryMap validates entire structure before committing",
                          "text": "WHEN Bot is called with large story graph structures\nTHEN caller uses create_epic_from_dict() for batch operations\nAND caller passes dictionary notation with epic/sub-epic/story hierarchy\nAND StoryMap converts dict notation to domain objects\nAND StoryMap validates entire structure before committing",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN StoryMap uses save() method\nTHEN StoryMap persists story_graph dict to JSON file\nAND file format matches existing story-graph.json structure\nAND all nodes converted to dict representation before saving",
                          "text": "WHEN StoryMap uses save() method\nTHEN StoryMap persists story_graph dict to JSON file\nAND file format matches existing story-graph.json structure\nAND all nodes converted to dict representation before saving",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN StoryMap uses load() method\nTHEN StoryMap reads JSON file\nAND StoryMap rebuilds domain model from JSON\nAND StoryMap reconstructs all Epic, SubEpic, Story objects with relationships",
                          "text": "WHEN StoryMap uses load() method\nTHEN StoryMap reads JSON file\nAND StoryMap rebuilds domain model from JSON\nAND StoryMap reconstructs all Epic, SubEpic, Story objects with relationships",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN fine-grained and batch APIs implement same interface\nTHEN both validate hierarchy rules (no mixing sub-epics and stories)\nAND both handle positioning and resequencing\nAND both update story_graph dict representation\nAND interface enables incremental construction or bulk creation",
                          "text": "WHEN fine-grained and batch APIs implement same interface\nTHEN both validate hierarchy rules (no mixing sub-epics and stories)\nAND both handle positioning and resequencing\nAND both update story_graph dict representation\nAND interface enables incremental construction or bulk creation",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Display Build Instructions Panel",
                      "sequential_order": 7.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayBuildInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.build\nWhen Panel displays instructions section\nThen Panel displays knowledge graph template link\nAnd Panel displays knowledge graph output file link\nAnd Panel displays rules list with clickable links"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays build instructions\nWhen User clicks template path link\nThen VS Code opens knowledge graph template file in editor"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Current action is build",
                          "text": "WHEN Current action is build",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays knowledge graph section with template path link",
                          "text": "THEN System displays knowledge graph section with template path link",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays knowledge graph output file link",
                          "text": "AND System displays knowledge graph output file link",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays knowledge graph directory path",
                          "text": "AND System displays knowledge graph directory path",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "AND System displays rules list with clickable rule file links",
                          "text": "AND System displays rules list with clickable rule file links",
                          "sequential_order": 5.0
                        }
                      ]
                    },
                    {
                      "name": "Build Story Graph Using CLI",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestBuildStoryGraphUsingCLI",
                      "scenarios": [
                        {
                          "name": "Build action shows story graph template in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_build_action_shows_template_in_output",
                          "steps": "GIVEN: CLI is at shape.build\nWHEN: user navigates to shape.build\nTHEN: CLI output contains template_path information"
                        },
                        {
                          "name": "Build action shows complete build story graph instructions",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_build_action_shows_complete_instructions",
                          "steps": "GIVEN: CLI is at shape.build\nWHEN: user navigates to shape.build\nTHEN: CLI output contains all BuildStoryGraphAction fields"
                        },
                        {
                          "name": "Prioritization validate action shows increments validation",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_prioritization_validate_shows_increments_instructions",
                          "steps": "GIVEN: CLI is at prioritization.validate\nAND: Story graph exists in workspace\nWHEN: user navigates to prioritization.validate\nTHEN: CLI output shows validation instructions for increments"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Build Story Graph",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestBuildStoryGraph",
                  "scenarios": [
                    {
                      "name": "Action Injects Story Graph Template",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_injects_story_graph_template",
                      "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects story graph template\nThen Instructions contain template_path from existing templates"
                    },
                    {
                      "name": "Action Loads And Merges Instructions",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_loads_and_merges_instructions",
                      "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects story graph and instructions\nThen Instructions contain all BuildStoryGraphAction-specific fields"
                    },
                    {
                      "name": "All Template Variables Are Replaced In Instructions",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_all_template_variables_are_replaced_in_instructions",
                      "steps": "Given Production story_bot with shape behavior (has story graph templates)\nWhen Action injects all template variables\nThen Instructions contain all required BuildStoryGraphAction fields"
                    },
                    {
                      "name": "Prioritization behavior updates existing story-graph.json",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_behavior_updates_existing_story_graph_json",
                      "steps": "Given Production prioritization behavior with increments templates\nWhen Action injects story graph template for increments\nThen Instructions use production template (story_graph_increments.json) that updates existing file\nThen And Existing story-graph.json in workspace"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Get Build Instructions Through CLI",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetBuildInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Get build instructions without scope",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_build_instructions_without_scope",
                      "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions'\nTHEN: CLI displays build instructions with full knowledge graph"
                    },
                    {
                      "name": "Get build instructions with scope",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_build_instructions_with_scope",
                      "steps": "GIVEN: CLI is at shape.build.instructions\nWHEN: user enters 'shape.build.instructions scope=\"Story1\"'\nTHEN: CLI displays build instructions filtered to Story1"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Build Story Graph With CLI",
                  "sequential_order": 5.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "AI Agent"
                  ],
                  "test_class": "TestBuildStoryGraphWithCLI",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN AI builds story graph through CLI\nTHEN AI calls CLI commands instead of writing raw JSON\nAND AI uses create_epic, create_sub_epic, create_story commands for fine-grained construction\nAND each CLI command invokes corresponding StoryMap API method\nAND validation errors returned immediately to AI",
                      "text": "WHEN AI builds story graph through CLI\nTHEN AI calls CLI commands instead of writing raw JSON\nAND AI uses create_epic, create_sub_epic, create_story commands for fine-grained construction\nAND each CLI command invokes corresponding StoryMap API method\nAND validation errors returned immediately to AI",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN AI builds large story graph structures through CLI\nTHEN AI uses create_from_json command for batch operations\nAND AI passes dictionary notation with epic/sub-epic/story hierarchy\nAND CLI accepts both inline JSON notation and file paths\nAND CLI invokes StoryMap.create_epic_from_dict() with provided data",
                      "text": "WHEN AI builds large story graph structures through CLI\nTHEN AI uses create_from_json command for batch operations\nAND AI passes dictionary notation with epic/sub-epic/story hierarchy\nAND CLI accepts both inline JSON notation and file paths\nAND CLI invokes StoryMap.create_epic_from_dict() with provided data",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN CLI wraps StoryMap API\nTHEN CLI exposes create_epic, create_sub_epic, create_story commands\nAND CLI exposes create_from_json for batch operations\nAND CLI provides save command to persist changes\nAND CLI can be called from AI or human users",
                      "text": "WHEN CLI wraps StoryMap API\nTHEN CLI exposes create_epic, create_sub_epic, create_story commands\nAND CLI exposes create_from_json for batch operations\nAND CLI provides save command to persist changes\nAND CLI can be called from AI or human users",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN AI completes building story graph\nTHEN AI calls save command through CLI\nAND CLI invokes StoryMap.save() method\nAND story_graph persisted to file\nAND AI receives confirmation of successful save",
                      "text": "WHEN AI completes building story graph\nTHEN AI calls save command through CLI\nAND CLI invokes StoryMap.save() method\nAND story_graph persisted to file\nAND AI receives confirmation of successful save",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Build Story Graph Using API",
                  "sequential_order": 6.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestBuildStoryGraphUsingAPI",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot is called through StoryMap API\nTHEN caller uses create_epic(), create_child(), create_story() for fine-grained construction\nAND caller validates each node during creation\nAND validation errors caught immediately before invalid structure created",
                      "text": "WHEN Bot is called through StoryMap API\nTHEN caller uses create_epic(), create_child(), create_story() for fine-grained construction\nAND caller validates each node during creation\nAND validation errors caught immediately before invalid structure created",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot is called with large story graph structures\nTHEN caller uses create_epic_from_dict() for batch operations\nAND caller passes dictionary notation with epic/sub-epic/story hierarchy\nAND StoryMap converts dict notation to domain objects\nAND StoryMap validates entire structure before committing",
                      "text": "WHEN Bot is called with large story graph structures\nTHEN caller uses create_epic_from_dict() for batch operations\nAND caller passes dictionary notation with epic/sub-epic/story hierarchy\nAND StoryMap converts dict notation to domain objects\nAND StoryMap validates entire structure before committing",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN StoryMap uses save() method\nTHEN StoryMap persists story_graph dict to JSON file\nAND file format matches existing story-graph.json structure\nAND all nodes converted to dict representation before saving",
                      "text": "WHEN StoryMap uses save() method\nTHEN StoryMap persists story_graph dict to JSON file\nAND file format matches existing story-graph.json structure\nAND all nodes converted to dict representation before saving",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN StoryMap uses load() method\nTHEN StoryMap reads JSON file\nAND StoryMap rebuilds domain model from JSON\nAND StoryMap reconstructs all Epic, SubEpic, Story objects with relationships",
                      "text": "WHEN StoryMap uses load() method\nTHEN StoryMap reads JSON file\nAND StoryMap rebuilds domain model from JSON\nAND StoryMap reconstructs all Epic, SubEpic, Story objects with relationships",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN fine-grained and batch APIs implement same interface\nTHEN both validate hierarchy rules (no mixing sub-epics and stories)\nAND both handle positioning and resequencing\nAND both update story_graph dict representation\nAND interface enables incremental construction or bulk creation",
                      "text": "WHEN fine-grained and batch APIs implement same interface\nTHEN both validate hierarchy rules (no mixing sub-epics and stories)\nAND both handle positioning and resequencing\nAND both update story_graph dict representation\nAND interface enables incremental construction or bulk creation",
                      "sequential_order": 5.0
                    }
                  ]
                },
                {
                  "name": "Display Build Instructions Panel",
                  "sequential_order": 7.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayBuildInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.build\nWhen Panel displays instructions section\nThen Panel displays knowledge graph template link\nAnd Panel displays knowledge graph output file link\nAnd Panel displays rules list with clickable links"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays build instructions\nWhen User clicks template path link\nThen VS Code opens knowledge graph template file in editor"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Current action is build",
                      "text": "WHEN Current action is build",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays knowledge graph section with template path link",
                      "text": "THEN System displays knowledge graph section with template path link",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays knowledge graph output file link",
                      "text": "AND System displays knowledge graph output file link",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays knowledge graph directory path",
                      "text": "AND System displays knowledge graph directory path",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND System displays rules list with clickable rule file links",
                      "text": "AND System displays rules list with clickable rule file links",
                      "sequential_order": 5.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/perform_action/test_build_story_graph.py"
            },
            {
              "name": "Validate With Rules",
              "sequential_order": 4.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Validate Rules",
                      "sequential_order": 0.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestValidateRules",
                      "scenarios": [
                        {
                          "name": "Story graph validation includes rule content in instructions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_graph_rules_formatted_in_instructions",
                          "steps": "Given Production story_bot with shape behavior (validates story graph)\nWhen Validate action executes\nThen Instructions contain rule descriptions, DO/DON'T sections, and priorities from rule files\nThen And Story graph file exists"
                        },
                        {
                          "name": "File validation includes rule content in instructions",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_file_rules_formatted_in_instructions",
                          "steps": "Given Production story_bot with code behavior (validates files)\nWhen Validate action executes\nThen Instructions contain rule descriptions, DO/DON'T sections, and priorities from rule files\nThen And Story graph file exists"
                        },
                        {
                          "name": "Story graph scanners receive scoped story_graph data",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_story_graph_scanner_receives_story_graph_data",
                          "steps": "Given Story graph with multiple epics (\"Build Knowledge\", \"Epic B\")\nWhen Validate action executes with scope\nThen Scanner receives filtered story graph (only \"Build Knowledge\" epic)\nThen And Scope filtered to \"Build Knowledge\" epic\nThen And Production story_bot with shape behavior\nThen And Scanner executes successfully\nThen And Instructions contain \"Build Knowledge\" in scope description"
                        },
                        {
                          "name": "File scanners receive scoped file paths",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_file_scanner_receives_file_data",
                          "steps": "Given Multiple Python files (test_foo.py, test_bar.py, main.py)\nWhen Validate action executes with scope\nThen Scanner receives filtered files (only test_foo.py, test_bar.py)\nThen And Scope filtered to test files only (**/test*.py)\nThen And Production story_bot with code behavior\nThen And Scanner executes successfully\nThen And Instructions reference test file scope"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Validation Results Through CLI",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayValidationResultsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display validation violations",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_validation_violations",
                          "steps": "GIVEN: Validation has run\nWHEN: user views validate instructions\nTHEN: CLI displays violation report"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Validation Scanners Through CLI",
                      "sequential_order": 2.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayValidationScannersThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display discovered scanners",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_discovered_scanners",
                          "steps": "GIVEN: Validation scanners exist\nWHEN: user views validate instructions\nTHEN: CLI displays list of available scanners"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Validate Instructions Panel",
                      "sequential_order": 3.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayValidateInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.validate\nWhen Panel displays instructions section\nThen Panel displays validation rules list\nAnd Each rule has clickable file link"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays validate instructions with rules\nWhen User clicks rule file link\nThen VS Code opens validation rule file in editor"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Current action is validate",
                          "text": "WHEN Current action is validate",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays rules list",
                          "text": "THEN System displays rules list",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN User clicks rule file link",
                          "text": "WHEN User clicks rule file link",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "THEN System opens rule file in editor",
                          "text": "THEN System opens rule file in editor",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Get Validate Instructions Through CLI",
                      "sequential_order": 4.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetValidateInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Get validate instructions with rules",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_validate_instructions_with_rules",
                          "steps": "GIVEN: CLI is at shape.validate.instructions\nWHEN: user enters 'shape.validate.instructions'\nTHEN: CLI displays validation rules and scanners"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Validate Rules Using CLI",
                      "sequential_order": 5.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestValidateRulesUsingCLI",
                      "scenarios": [
                        {
                          "name": "Validate action shows rules in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_validate_action_shows_rules_in_output",
                          "steps": "GIVEN: CLI is at shape.validate\nAND: Story graph exists\nWHEN: user navigates to shape.validate\nTHEN: CLI output contains rule descriptions and DO/DON'T sections"
                        },
                        {
                          "name": "Code validate action shows file rules in CLI output",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_validate_code_shows_file_rules",
                          "steps": "GIVEN: CLI is at code.validate\nAND: Story graph exists\nWHEN: user navigates to code.validate\nTHEN: CLI output contains file validation rules"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Validate Rules",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestValidateRules",
                  "scenarios": [
                    {
                      "name": "Story graph validation includes rule content in instructions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_graph_rules_formatted_in_instructions",
                      "steps": "Given Production story_bot with shape behavior (validates story graph)\nWhen Validate action executes\nThen Instructions contain rule descriptions, DO/DON'T sections, and priorities from rule files\nThen And Story graph file exists"
                    },
                    {
                      "name": "File validation includes rule content in instructions",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_file_rules_formatted_in_instructions",
                      "steps": "Given Production story_bot with code behavior (validates files)\nWhen Validate action executes\nThen Instructions contain rule descriptions, DO/DON'T sections, and priorities from rule files\nThen And Story graph file exists"
                    },
                    {
                      "name": "Story graph scanners receive scoped story_graph data",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_story_graph_scanner_receives_story_graph_data",
                      "steps": "Given Story graph with multiple epics (\"Build Knowledge\", \"Epic B\")\nWhen Validate action executes with scope\nThen Scanner receives filtered story graph (only \"Build Knowledge\" epic)\nThen And Scope filtered to \"Build Knowledge\" epic\nThen And Production story_bot with shape behavior\nThen And Scanner executes successfully\nThen And Instructions contain \"Build Knowledge\" in scope description"
                    },
                    {
                      "name": "File scanners receive scoped file paths",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_file_scanner_receives_file_data",
                      "steps": "Given Multiple Python files (test_foo.py, test_bar.py, main.py)\nWhen Validate action executes with scope\nThen Scanner receives filtered files (only test_foo.py, test_bar.py)\nThen And Scope filtered to test files only (**/test*.py)\nThen And Production story_bot with code behavior\nThen And Scanner executes successfully\nThen And Instructions reference test file scope"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Validation Results Through CLI",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayValidationResultsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display validation violations",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_validation_violations",
                      "steps": "GIVEN: Validation has run\nWHEN: user views validate instructions\nTHEN: CLI displays violation report"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Validation Scanners Through CLI",
                  "sequential_order": 2.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayValidationScannersThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display discovered scanners",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_discovered_scanners",
                      "steps": "GIVEN: Validation scanners exist\nWHEN: user views validate instructions\nTHEN: CLI displays list of available scanners"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Validate Instructions Panel",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayValidateInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.validate\nWhen Panel displays instructions section\nThen Panel displays validation rules list\nAnd Each rule has clickable file link"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays validate instructions with rules\nWhen User clicks rule file link\nThen VS Code opens validation rule file in editor"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Current action is validate",
                      "text": "WHEN Current action is validate",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays rules list",
                      "text": "THEN System displays rules list",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN User clicks rule file link",
                      "text": "WHEN User clicks rule file link",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "THEN System opens rule file in editor",
                      "text": "THEN System opens rule file in editor",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Get Validate Instructions Through CLI",
                  "sequential_order": 4.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetValidateInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Get validate instructions with rules",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_validate_instructions_with_rules",
                      "steps": "GIVEN: CLI is at shape.validate.instructions\nWHEN: user enters 'shape.validate.instructions'\nTHEN: CLI displays validation rules and scanners"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ],
              "test_file": "invoke_bot/perform_action/test_validate_with_rules.py"
            },
            {
              "name": "Render Content",
              "sequential_order": 5.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Display Render Configurations Through CLI",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayRenderConfigurationsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display loaded render configurations",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_loaded_render_configurations",
                          "steps": "GIVEN: Render configurations exist\nWHEN: user views render instructions\nTHEN: CLI displays templates and synchronizers"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Display Synchronizer Output Through CLI",
                      "sequential_order": 1.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplaySynchronizerOutputThroughCLI",
                      "scenarios": [
                        {
                          "name": "Display rendered output locations",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_display_rendered_output_locations",
                          "steps": "GIVEN: Synchronizers have run\nWHEN: user views render instructions\nTHEN: CLI displays output file paths"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Get Render Instructions Through CLI",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetRenderInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "Get render instructions with templates",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_render_instructions_with_templates",
                          "steps": "GIVEN: CLI is at shape.render.instructions\nWHEN: user enters 'shape.render.instructions'\nTHEN: CLI displays render instructions with templates and synchronizers"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Render Output",
                      "sequential_order": 3.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestRenderOutput",
                      "scenarios": [
                        {
                          "name": "Action injects render configs and instructions",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_injects_render_configs_and_instructions",
                          "steps": "Given Production story_bot with shape behavior (has render configs)\nWhen Action injects render data\nThen Instructions contain all required render fields"
                        },
                        {
                          "name": "Synchronizers are executed automatically during render action",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_synchronizers_are_executed_automatically",
                          "steps": "Given Production story_bot with shape behavior (has synchronizers)\nWhen Render output action executes\nThen Synchronizers are executed automatically"
                        },
                        {
                          "name": "Template configs remain in instructions for AI handling",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_template_configs_remain_in_instructions",
                          "steps": "Given Production story_bot with shape behavior (has templates)\nWhen Render output action executes\nThen Result includes instructions"
                        },
                        {
                          "name": "Executed synchronizers information is included in AI instructions",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_executed_synchronizers_info_in_instructions",
                          "steps": "Given Production story_bot with shape behavior (has synchronizers)\nWhen Render output action executes\nThen Instructions include synchronizer execution info"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Render Story Graph using Story Graph API",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestRenderStoryGraphUsingStoryGraphAPI",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN a StoryAdapter renders an StoryOutput\nTHEN the StoryAdapter retrieves the StoryMap from the Bot\nAND the StoryAdapter parses each node in StoryMap\nAND creates a matching StoryRenderedNode for each StoryNode in the StoryMap\nAND the StoryRenderedNode renders itself on the Diagram using the StoryAdapter\nUSING formatting and positional rules associated with it's node type from the StoryAdapter\nAND the StoryRenderedNode iterates over it's node children to render themselves in turn\nAND every node in the StoryMap is represented in the Diagram\nAND the StoryRenderedNodes are saved as a StoryOutput file\nAND the StoryAdapter persists all positional data in a json file matching the rendered diagram",
                          "text": "WHEN a StoryAdapter renders an StoryOutput\nTHEN the StoryAdapter retrieves the StoryMap from the Bot\nAND the StoryAdapter parses each node in StoryMap\nAND creates a matching StoryRenderedNode for each StoryNode in the StoryMap\nAND the StoryRenderedNode renders itself on the Diagram using the StoryAdapter\nUSING formatting and positional rules associated with it's node type from the StoryAdapter\nAND the StoryRenderedNode iterates over it's node children to render themselves in turn\nAND every node in the StoryMap is represented in the Diagram\nAND the StoryRenderedNodes are saved as a StoryOutput file\nAND the StoryAdapter persists all positional data in a json file matching the rendered diagram",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "When the StoryIODiagram is finished rendering\nThen all of the StoryRenderedNode are accessible using the same StoryMap API as the original object model\nAND the original StoryMap's parent/child relationship and all original data will be accessed exactly like the original\nAnd additional data will also be accessible, including formatting data, sizing and positional information",
                          "text": "When the StoryIODiagram is finished rendering\nThen all of the StoryRenderedNode are accessible using the same StoryMap API as the original object model\nAND the original StoryMap's parent/child relationship and all original data will be accessed exactly like the original\nAnd additional data will also be accessible, including formatting data, sizing and positional information",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "When the bot, cli or another API makes a change to a StoryRenderedNode on the StoryOutput\nTHEN the StoryRenderedNode will render itself again and update the StoryOutput as required",
                          "text": "When the bot, cli or another API makes a change to a StoryRenderedNode on the StoryOutput\nTHEN the StoryRenderedNode will render itself again and update the StoryOutput as required",
                          "sequential_order": 3.0
                        }
                      ]
                    },
                    {
                      "name": "Display Render Instructions Panel",
                      "sequential_order": 5.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayRenderInstructions",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Bot is at shape.render\nWhen Panel displays instructions section\nThen Panel displays config file paths as clickable links\nAnd Panel displays template file paths as clickable links\nAnd Panel displays output file paths as clickable links"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays render instructions\nWhen User clicks config file link\nThen VS Code opens render config file in editor"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": null,
                          "steps": "Given Panel displays render instructions\nWhen User clicks template file link\nThen VS Code opens template file in editor"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Current action is render",
                          "text": "WHEN Current action is render",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System displays config file paths as clickable links",
                          "text": "THEN System displays config file paths as clickable links",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System displays template file paths as clickable links",
                          "text": "AND System displays template file paths as clickable links",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND System displays output file paths as clickable links",
                          "text": "AND System displays output file paths as clickable links",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN User clicks on any of these links",
                          "text": "WHEN User clicks on any of these links",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "THEN System opens the corresponding file in the editor",
                          "text": "THEN System opens the corresponding file in the editor",
                          "sequential_order": 6.0
                        }
                      ]
                    },
                    {
                      "name": "Render Output Using CLI",
                      "sequential_order": 6.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestRenderOutputUsingCLI",
                      "scenarios": [
                        {
                          "name": "Render action shows render configs in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_render_action_shows_configs_in_output",
                          "steps": "GIVEN: CLI is at shape.render\nWHEN: user navigates to shape.render\nTHEN: CLI output contains render configurations"
                        },
                        {
                          "name": "Render output mentions synchronizers execution",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_render_output_mentions_synchronizers",
                          "steps": "GIVEN: CLI is at shape.render\nWHEN: user navigates to shape.render\nTHEN: CLI output mentions synchronizers"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Display Render Configurations Through CLI",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayRenderConfigurationsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display loaded render configurations",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_loaded_render_configurations",
                      "steps": "GIVEN: Render configurations exist\nWHEN: user views render instructions\nTHEN: CLI displays templates and synchronizers"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Synchronizer Output Through CLI",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplaySynchronizerOutputThroughCLI",
                  "scenarios": [
                    {
                      "name": "Display rendered output locations",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_display_rendered_output_locations",
                      "steps": "GIVEN: Synchronizers have run\nWHEN: user views render instructions\nTHEN: CLI displays output file paths"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Get Render Instructions Through CLI",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetRenderInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "Get render instructions with templates",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_render_instructions_with_templates",
                      "steps": "GIVEN: CLI is at shape.render.instructions\nWHEN: user enters 'shape.render.instructions'\nTHEN: CLI displays render instructions with templates and synchronizers"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Render Output",
                  "sequential_order": 3.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestRenderOutput",
                  "scenarios": [
                    {
                      "name": "Action injects render configs and instructions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_injects_render_configs_and_instructions",
                      "steps": "Given Production story_bot with shape behavior (has render configs)\nWhen Action injects render data\nThen Instructions contain all required render fields"
                    },
                    {
                      "name": "Synchronizers are executed automatically during render action",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_synchronizers_are_executed_automatically",
                      "steps": "Given Production story_bot with shape behavior (has synchronizers)\nWhen Render output action executes\nThen Synchronizers are executed automatically"
                    },
                    {
                      "name": "Template configs remain in instructions for AI handling",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_template_configs_remain_in_instructions",
                      "steps": "Given Production story_bot with shape behavior (has templates)\nWhen Render output action executes\nThen Result includes instructions"
                    },
                    {
                      "name": "Executed synchronizers information is included in AI instructions",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_executed_synchronizers_info_in_instructions",
                      "steps": "Given Production story_bot with shape behavior (has synchronizers)\nWhen Render output action executes\nThen Instructions include synchronizer execution info"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Render Story Graph using Story Graph API",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestRenderStoryGraphUsingStoryGraphAPI",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN a StoryAdapter renders an StoryOutput\nTHEN the StoryAdapter retrieves the StoryMap from the Bot\nAND the StoryAdapter parses each node in StoryMap\nAND creates a matching StoryRenderedNode for each StoryNode in the StoryMap\nAND the StoryRenderedNode renders itself on the Diagram using the StoryAdapter\nUSING formatting and positional rules associated with it's node type from the StoryAdapter\nAND the StoryRenderedNode iterates over it's node children to render themselves in turn\nAND every node in the StoryMap is represented in the Diagram\nAND the StoryRenderedNodes are saved as a StoryOutput file\nAND the StoryAdapter persists all positional data in a json file matching the rendered diagram",
                      "text": "WHEN a StoryAdapter renders an StoryOutput\nTHEN the StoryAdapter retrieves the StoryMap from the Bot\nAND the StoryAdapter parses each node in StoryMap\nAND creates a matching StoryRenderedNode for each StoryNode in the StoryMap\nAND the StoryRenderedNode renders itself on the Diagram using the StoryAdapter\nUSING formatting and positional rules associated with it's node type from the StoryAdapter\nAND the StoryRenderedNode iterates over it's node children to render themselves in turn\nAND every node in the StoryMap is represented in the Diagram\nAND the StoryRenderedNodes are saved as a StoryOutput file\nAND the StoryAdapter persists all positional data in a json file matching the rendered diagram",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "When the StoryIODiagram is finished rendering\nThen all of the StoryRenderedNode are accessible using the same StoryMap API as the original object model\nAND the original StoryMap's parent/child relationship and all original data will be accessed exactly like the original\nAnd additional data will also be accessible, including formatting data, sizing and positional information",
                      "text": "When the StoryIODiagram is finished rendering\nThen all of the StoryRenderedNode are accessible using the same StoryMap API as the original object model\nAND the original StoryMap's parent/child relationship and all original data will be accessed exactly like the original\nAnd additional data will also be accessible, including formatting data, sizing and positional information",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "When the bot, cli or another API makes a change to a StoryRenderedNode on the StoryOutput\nTHEN the StoryRenderedNode will render itself again and update the StoryOutput as required",
                      "text": "When the bot, cli or another API makes a change to a StoryRenderedNode on the StoryOutput\nTHEN the StoryRenderedNode will render itself again and update the StoryOutput as required",
                      "sequential_order": 3.0
                    }
                  ]
                },
                {
                  "name": "Display Render Instructions Panel",
                  "sequential_order": 5.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestDisplayRenderInstructions",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Bot is at shape.render\nWhen Panel displays instructions section\nThen Panel displays config file paths as clickable links\nAnd Panel displays template file paths as clickable links\nAnd Panel displays output file paths as clickable links"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays render instructions\nWhen User clicks config file link\nThen VS Code opens render config file in editor"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": null,
                      "steps": "Given Panel displays render instructions\nWhen User clicks template file link\nThen VS Code opens template file in editor"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Current action is render",
                      "text": "WHEN Current action is render",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System displays config file paths as clickable links",
                      "text": "THEN System displays config file paths as clickable links",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System displays template file paths as clickable links",
                      "text": "AND System displays template file paths as clickable links",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND System displays output file paths as clickable links",
                      "text": "AND System displays output file paths as clickable links",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN User clicks on any of these links",
                      "text": "WHEN User clicks on any of these links",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "THEN System opens the corresponding file in the editor",
                      "text": "THEN System opens the corresponding file in the editor",
                      "sequential_order": 6.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/perform_action/test_render_content.py"
            },
            {
              "name": "Use Rules In Prompt",
              "sequential_order": 6.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Get Rules Instructions Through CLI",
                      "sequential_order": 0.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestGetRulesInstructionsThroughCLI",
                      "scenarios": [
                        {
                          "name": "User gets rules instructions for behavior",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_instructions_for_behavior",
                          "steps": "Given Production story_bot with tests behavior (has rules)\nWhen User enters 'tests.rules' in CLI\nThen CLI displays formatted rules digest with descriptions, priorities, DO/DON'T sections\nAnd Display includes rule names with their file paths\nAnd All rules from behavior are included in digest"
                        },
                        {
                          "name": "User gets rules with message parameter",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_with_message_parameter",
                          "steps": "Given Production story_bot with tests behavior\nWhen User enters 'tests.rules \"explain parameterized tests\"' in CLI\nThen CLI displays rules digest\nAnd Instructions include user message requesting specific rule information"
                        },
                        {
                          "name": "User gets rules without message parameter",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_without_message_parameter",
                          "steps": "Given Production story_bot with tests behavior\nWhen User enters 'tests.rules' without message\nThen CLI displays rules digest\nAnd Instructions do not include user message section"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User navigates to behavior.rules",
                          "text": "WHEN User navigates to behavior.rules",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN CLI displays formatted rules digest with descriptions and DO/DON'T sections",
                          "text": "THEN CLI displays formatted rules digest with descriptions and DO/DON'T sections",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND CLI includes rule names with their file paths",
                          "text": "AND CLI includes rule names with their file paths",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND CLI includes all rules from the behavior",
                          "text": "AND CLI includes all rules from the behavior",
                          "sequential_order": 4.0
                        }
                      ]
                    },
                    {
                      "name": "Display Rules",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayRules",
                      "scenarios": [
                        {
                          "name": "Action loads and formats rules digest",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_action_loads_and_formats_rules_digest",
                          "steps": "Given Production story_bot with tests behavior (has rules)\nWhen Rules action executes\nThen Instructions contain formatted rules digest with descriptions, priorities, DO/DON'T sections"
                        },
                        {
                          "name": "Rules list includes file paths for each rule",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_rules_list_includes_file_paths",
                          "steps": "Given Production story_bot with tests behavior (has rules)\nWhen Rules action executes\nThen Display includes rule names with their file paths"
                        },
                        {
                          "name": "All behavior rules are included in the digest",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_all_behavior_rules_included_in_digest",
                          "steps": "Given Production story_bot with tests behavior (has multiple rules)\nWhen Rules action executes\nThen All rules from behavior are included in digest"
                        },
                        {
                          "name": "User message is included in instructions when provided",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_message_included_when_provided",
                          "steps": "Given Production story_bot with tests behavior\nWhen Rules action executes with message\nThen Instructions include user message\nThen And User message requesting specific rule information"
                        },
                        {
                          "name": "No user message section when message is empty",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_no_user_message_section_when_empty",
                          "steps": "Given Production story_bot with tests behavior\nWhen Rules action executes without message\nThen Instructions do not include user message section"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    },
                    {
                      "name": "Submit Behavior Rules Through Panel",
                      "sequential_order": 2.0,
                      "connector": "and",
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestSubmitBehaviorRulesThroughPanel",
                      "scenarios": [
                        {
                          "name": "",
                          "sequential_order": 1.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_user_clicks_get_rules_button_for_behavior",
                          "steps": "Given Panel displays behavior hierarchy\nAnd Behavior has rules defined\nWhen User clicks Get Rules button for behavior\nThen System executes behavior.rules command via CLI\nAnd System submits formatted rules digest to AI chat\nAnd Rules digest includes descriptions, priorities, DO/DON'T sections\nAnd Rules digest includes file paths for each rule"
                        },
                        {
                          "name": "",
                          "sequential_order": 2.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_get_rules_button_visible_for_behaviors_with_rules",
                          "steps": "Given Panel displays behavior hierarchy\nAnd Behavior has rules defined\nWhen User views behavior in hierarchy\nThen Get Rules button is visible next to behavior name"
                        },
                        {
                          "name": "",
                          "sequential_order": 3.0,
                          "type": "",
                          "background": [],
                          "test_method": "test_system_confirms_rules_submission_to_chat",
                          "steps": "Given Panel displays behavior hierarchy\nWhen User clicks Get Rules button\nAnd Rules are successfully submitted to chat\nThen System displays success confirmation message\nAnd Message indicates rules were submitted to chat"
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User clicks Get Rules button for a behavior",
                          "text": "WHEN User clicks Get Rules button for a behavior",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "THEN System executes behavior.rules command",
                          "text": "THEN System executes behavior.rules command",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "AND System submits rules digest to AI chat",
                          "text": "AND System submits rules digest to AI chat",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "AND Rules include formatted descriptions with DO/DON'T sections",
                          "text": "AND Rules include formatted descriptions with DO/DON'T sections",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "AND Rules include file paths for each rule",
                          "text": "AND Rules include file paths for each rule",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "AND All behavior rules are included in digest",
                          "text": "AND All behavior rules are included in digest",
                          "sequential_order": 6.0
                        }
                      ]
                    },
                    {
                      "name": "Display Rules Using CLI",
                      "sequential_order": 3.0,
                      "connector": null,
                      "story_type": "user",
                      "users": [
                        "User"
                      ],
                      "test_file": null,
                      "test_class": "TestDisplayRulesUsingCLI",
                      "scenarios": [
                        {
                          "name": "Rules action shows rules digest in CLI output",
                          "sequential_order": 1.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_rules_action_shows_rules_digest",
                          "steps": "GIVEN: CLI is at shape.validate (which shows rules)\nWHEN: user navigates to shape.validate\nTHEN: CLI output contains formatted rules digest"
                        },
                        {
                          "name": "Validation output includes rules content",
                          "sequential_order": 2.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_rules_output_includes_validation_content",
                          "steps": "GIVEN: CLI is at shape.validate\nWHEN: user navigates to shape.validate\nTHEN: CLI output contains validation rules"
                        },
                        {
                          "name": "User gets rules instructions for behavior",
                          "sequential_order": 3.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_instructions_for_behavior",
                          "steps": ""
                        },
                        {
                          "name": "User gets rules with message parameter",
                          "sequential_order": 4.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_with_message_parameter",
                          "steps": ""
                        },
                        {
                          "name": "User gets rules without message parameter",
                          "sequential_order": 5.0,
                          "type": "happy_path",
                          "background": [],
                          "test_method": "test_user_gets_rules_without_message_parameter",
                          "steps": ""
                        }
                      ],
                      "scenario_outlines": [],
                      "acceptance_criteria": []
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Get Rules Instructions Through CLI",
                  "sequential_order": 0.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestGetRulesInstructionsThroughCLI",
                  "scenarios": [
                    {
                      "name": "User gets rules instructions for behavior",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_user_gets_rules_instructions_for_behavior",
                      "steps": "Given Production story_bot with tests behavior (has rules)\nWhen User enters 'tests.rules' in CLI\nThen CLI displays formatted rules digest with descriptions, priorities, DO/DON'T sections\nAnd Display includes rule names with their file paths\nAnd All rules from behavior are included in digest"
                    },
                    {
                      "name": "User gets rules with message parameter",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_user_gets_rules_with_message_parameter",
                      "steps": "Given Production story_bot with tests behavior\nWhen User enters 'tests.rules \"explain parameterized tests\"' in CLI\nThen CLI displays rules digest\nAnd Instructions include user message requesting specific rule information"
                    },
                    {
                      "name": "User gets rules without message parameter",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_user_gets_rules_without_message_parameter",
                      "steps": "Given Production story_bot with tests behavior\nWhen User enters 'tests.rules' without message\nThen CLI displays rules digest\nAnd Instructions do not include user message section"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User navigates to behavior.rules",
                      "text": "WHEN User navigates to behavior.rules",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN CLI displays formatted rules digest with descriptions and DO/DON'T sections",
                      "text": "THEN CLI displays formatted rules digest with descriptions and DO/DON'T sections",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND CLI includes rule names with their file paths",
                      "text": "AND CLI includes rule names with their file paths",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND CLI includes all rules from the behavior",
                      "text": "AND CLI includes all rules from the behavior",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Rules",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDisplayRules",
                  "scenarios": [
                    {
                      "name": "Action loads and formats rules digest",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_loads_and_formats_rules_digest",
                      "steps": "Given Production story_bot with tests behavior (has rules)\nWhen Rules action executes\nThen Instructions contain formatted rules digest with descriptions, priorities, DO/DON'T sections"
                    },
                    {
                      "name": "Rules list includes file paths for each rule",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_rules_list_includes_file_paths",
                      "steps": "Given Production story_bot with tests behavior (has rules)\nWhen Rules action executes\nThen Display includes rule names with their file paths"
                    },
                    {
                      "name": "All behavior rules are included in the digest",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_all_behavior_rules_included_in_digest",
                      "steps": "Given Production story_bot with tests behavior (has multiple rules)\nWhen Rules action executes\nThen All rules from behavior are included in digest"
                    },
                    {
                      "name": "User message is included in instructions when provided",
                      "sequential_order": 4.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_user_message_included_when_provided",
                      "steps": "Given Production story_bot with tests behavior\nWhen Rules action executes with message\nThen Instructions include user message\nThen And User message requesting specific rule information"
                    },
                    {
                      "name": "No user message section when message is empty",
                      "sequential_order": 5.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_no_user_message_section_when_empty",
                      "steps": "Given Production story_bot with tests behavior\nWhen Rules action executes without message\nThen Instructions do not include user message section"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Submit Behavior Rules Through Panel",
                  "sequential_order": 2.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_class": "TestSubmitBehaviorRulesThroughPanel",
                  "scenarios": [
                    {
                      "name": "",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_clicks_get_rules_button_for_behavior",
                      "steps": "Given Panel displays behavior hierarchy\nAnd Behavior has rules defined\nWhen User clicks Get Rules button for behavior\nThen System executes behavior.rules command via CLI\nAnd System submits formatted rules digest to AI chat\nAnd Rules digest includes descriptions, priorities, DO/DON'T sections\nAnd Rules digest includes file paths for each rule"
                    },
                    {
                      "name": "",
                      "sequential_order": 2.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_get_rules_button_visible_for_behaviors_with_rules",
                      "steps": "Given Panel displays behavior hierarchy\nAnd Behavior has rules defined\nWhen User views behavior in hierarchy\nThen Get Rules button is visible next to behavior name"
                    },
                    {
                      "name": "",
                      "sequential_order": 3.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_system_confirms_rules_submission_to_chat",
                      "steps": "Given Panel displays behavior hierarchy\nWhen User clicks Get Rules button\nAnd Rules are successfully submitted to chat\nThen System displays success confirmation message\nAnd Message indicates rules were submitted to chat"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User clicks Get Rules button for a behavior",
                      "text": "WHEN User clicks Get Rules button for a behavior",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "THEN System executes behavior.rules command",
                      "text": "THEN System executes behavior.rules command",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "AND System submits rules digest to AI chat",
                      "text": "AND System submits rules digest to AI chat",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "AND Rules include formatted descriptions with DO/DON'T sections",
                      "text": "AND Rules include formatted descriptions with DO/DON'T sections",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "AND Rules include file paths for each rule",
                      "text": "AND Rules include file paths for each rule",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "AND All behavior rules are included in digest",
                      "text": "AND All behavior rules are included in digest",
                      "sequential_order": 6.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/perform_action/test_use_rules_in_prompt.py"
            },
            {
              "name": "Synchronize Graph From Rendered",
              "sequential_order": 7.0,
              "sub_epics": [],
              "story_groups": [
                {
                  "name": "",
                  "sequential_order": 0.0,
                  "type": "and",
                  "connector": null,
                  "stories": [
                    {
                      "name": "Detect Story Graph Changes From Diagram",
                      "sequential_order": 1.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDetectStoryGraphChangesFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN User makes changes to StoryOutput diagram\nTHEN the StoryMap hanging off StoryOutput reflects those changes in its object model\nAND the changes are visible when accessing the StoryMap directly via API\nAND the StoryRenderedNodes maintain parent/child relationships matching the modified structure",
                          "text": "WHEN User makes changes to StoryOutput diagram\nTHEN the StoryMap hanging off StoryOutput reflects those changes in its object model\nAND the changes are visible when accessing the StoryMap directly via API\nAND the StoryRenderedNodes maintain parent/child relationships matching the modified structure",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN User hits synchronize button\nTHEN Synchronizer compares StoryOutput's StoryMap against Bot's story_graph\nAND Synchronizer identifies all differences (added nodes, deleted nodes, renamed nodes, moved nodes)\nAND Synchronizer generates batch of change operations grouped by change type\nAND Synchronizer calculates dependencies between changes (e.g., must create parent before child)",
                          "text": "WHEN User hits synchronize button\nTHEN Synchronizer compares StoryOutput's StoryMap against Bot's story_graph\nAND Synchronizer identifies all differences (added nodes, deleted nodes, renamed nodes, moved nodes)\nAND Synchronizer generates batch of change operations grouped by change type\nAND Synchronizer calculates dependencies between changes (e.g., must create parent before child)",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Create Child Story Node From Diagram",
                      "sequential_order": 2.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestCreateChildStoryNodeFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot's StoryMap reads batch of add operations from Synchronizer\nTHEN Bot's StoryMap creates new child nodes at correct hierarchy positions\nAND new nodes include all properties from diagram's StoryMap (name, type, sequential order)\nAND Bot's StoryMap resequences existing siblings when inserting at specific positions\nAND parent-child relationships match diagram's StoryMap structure",
                          "text": "WHEN Bot's StoryMap reads batch of add operations from Synchronizer\nTHEN Bot's StoryMap creates new child nodes at correct hierarchy positions\nAND new nodes include all properties from diagram's StoryMap (name, type, sequential order)\nAND Bot's StoryMap resequences existing siblings when inserting at specific positions\nAND parent-child relationships match diagram's StoryMap structure",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads Epic add child SubEpic operation\nTHEN Bot's StoryMap adds Sub-Epic to Epic's children\nAND sequential order matches position from diagram's StoryMap",
                          "text": "WHEN Bot's StoryMap reads Epic add child SubEpic operation\nTHEN Bot's StoryMap adds Sub-Epic to Epic's children\nAND sequential order matches position from diagram's StoryMap",
                          "sequential_order": 2.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads SubEpic add child SubEpic operation (no Story children)\nTHEN Bot's StoryMap adds SubEpic to parent SubEpic's children",
                          "text": "WHEN Bot's StoryMap reads SubEpic add child SubEpic operation (no Story children)\nTHEN Bot's StoryMap adds SubEpic to parent SubEpic's children",
                          "sequential_order": 3.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads SubEpic add Story operation (no SubEpic children)\nTHEN Bot's StoryMap creates default StoryGroup under Sub-Epic if needed\nAND Bot's StoryMap adds Story to Story Group\nAND story properties match diagram's StoryMap",
                          "text": "WHEN Bot's StoryMap reads SubEpic add Story operation (no SubEpic children)\nTHEN Bot's StoryMap creates default StoryGroup under Sub-Epic if needed\nAND Bot's StoryMap adds Story to Story Group\nAND story properties match diagram's StoryMap",
                          "sequential_order": 4.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads SubEpic add SubEpic operation (has existing Story children)\nTHEN Bot's StoryMap identifies SubEpic already contains Stories\nAND Bot's StoryMap reports error indicating cannot create SubEpic under SubEpic with Stories\nBUT Bot's StoryMap does not apply the invalid add operation",
                          "text": "WHEN Bot's StoryMap reads SubEpic add SubEpic operation (has existing Story children)\nTHEN Bot's StoryMap identifies SubEpic already contains Stories\nAND Bot's StoryMap reports error indicating cannot create SubEpic under SubEpic with Stories\nBUT Bot's StoryMap does not apply the invalid add operation",
                          "sequential_order": 5.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads SubEpic add Story operation (has existing SubEpic children)\nTHEN Bot's StoryMap identifies SubEpic already contains Sub-Epics\nAND Bot's StoryMap reports error indicating cannot create Story under SubEpic with Sub-Epics\nBUT Bot's StoryMap does not apply the invalid add operation",
                          "text": "WHEN Bot's StoryMap reads SubEpic add Story operation (has existing SubEpic children)\nTHEN Bot's StoryMap identifies SubEpic already contains Sub-Epics\nAND Bot's StoryMap reports error indicating cannot create Story under SubEpic with Sub-Epics\nBUT Bot's StoryMap does not apply the invalid add operation",
                          "sequential_order": 6.0
                        },
                        {
                          "name": "WHEN both Bot's StoryMap and diagram's StoryMap implement same interface\nTHEN both expose load() method\nAND both expose save() method\nAND both expose update() method\nAND interface enables bidirectional synchronization",
                          "text": "WHEN both Bot's StoryMap and diagram's StoryMap implement same interface\nTHEN both expose load() method\nAND both expose save() method\nAND both expose update() method\nAND interface enables bidirectional synchronization",
                          "sequential_order": 7.0
                        }
                      ]
                    },
                    {
                      "name": "Delete Story Node From Diagram",
                      "sequential_order": 3.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestDeleteStoryNodeFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot's StoryMap reads batch of delete operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from story_graph\nAND Bot's StoryMap resequences remaining siblings after deletion\nAND Bot's StoryMap handles cascade deletes (removing node removes all descendants)\nBUT Bot's StoryMap preserves scenarios and steps from deleted stories in archive/backup",
                          "text": "WHEN Bot's StoryMap reads batch of delete operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from story_graph\nAND Bot's StoryMap resequences remaining siblings after deletion\nAND Bot's StoryMap handles cascade deletes (removing node removes all descendants)\nBUT Bot's StoryMap preserves scenarios and steps from deleted stories in archive/backup",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads delete operation for node with children\nTHEN Bot's StoryMap removes node and all descendants recursively\nAND Bot's StoryMap logs all deleted nodes for audit trail",
                          "text": "WHEN Bot's StoryMap reads delete operation for node with children\nTHEN Bot's StoryMap removes node and all descendants recursively\nAND Bot's StoryMap logs all deleted nodes for audit trail",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Update Story Node Name From Diagram",
                      "sequential_order": 4.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestUpdateStoryNodeNameFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot's StoryMap reads batch of rename operations from Synchronizer\nTHEN Bot's StoryMap updates node names to match diagram's StoryMap names\nAND Bot's StoryMap validates no duplicate names at same hierarchy level\nAND Bot's StoryMap updates all references to renamed nodes",
                          "text": "WHEN Bot's StoryMap reads batch of rename operations from Synchronizer\nTHEN Bot's StoryMap updates node names to match diagram's StoryMap names\nAND Bot's StoryMap validates no duplicate names at same hierarchy level\nAND Bot's StoryMap updates all references to renamed nodes",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads rename operation that creates duplicate name at same level\nTHEN Bot's StoryMap identifies duplicate name\nAND Bot's StoryMap reports error\nBUT Bot's StoryMap does not apply conflicting rename",
                          "text": "WHEN Bot's StoryMap reads rename operation that creates duplicate name at same level\nTHEN Bot's StoryMap identifies duplicate name\nAND Bot's StoryMap reports error\nBUT Bot's StoryMap does not apply conflicting rename",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Move Story Node From Diagram",
                      "sequential_order": 5.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestMoveStoryNodeFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot's StoryMap reads batch of move/reorder operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from old parent\nAND Bot's StoryMap adds nodes to new parent at correct position\nAND Bot's StoryMap updates sequential_order values to match diagram's StoryMap ordering\nAND Bot's StoryMap resequences siblings in both old and new parent locations",
                          "text": "WHEN Bot's StoryMap reads batch of move/reorder operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from old parent\nAND Bot's StoryMap adds nodes to new parent at correct position\nAND Bot's StoryMap updates sequential_order values to match diagram's StoryMap ordering\nAND Bot's StoryMap resequences siblings in both old and new parent locations",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap reads move operation to new parent with specified position\nTHEN Bot's StoryMap inserts at specified position\nAND Bot's StoryMap resequences existing siblings at or after position",
                          "text": "WHEN Bot's StoryMap reads move operation to new parent with specified position\nTHEN Bot's StoryMap inserts at specified position\nAND Bot's StoryMap resequences existing siblings at or after position",
                          "sequential_order": 2.0
                        }
                      ]
                    },
                    {
                      "name": "Persist Story Graph Changes From Diagram",
                      "sequential_order": 6.0,
                      "connector": "or",
                      "story_type": "user",
                      "users": [
                        "Bot Behavior"
                      ],
                      "test_file": null,
                      "test_class": "TestPersistStoryGraphChangesFromDiagram",
                      "scenarios": [],
                      "scenario_outlines": [],
                      "acceptance_criteria": [
                        {
                          "name": "WHEN Bot's StoryMap completes reading and applying all batches successfully\nTHEN Bot's StoryMap structure matches diagram's StoryMap structure\nAND all node names, types, hierarchy, and ordering match\nAND Bot's StoryMap logs summary (nodes added, deleted, renamed, moved)\nAND Bot's StoryMap persists updated story_graph to file using save() method",
                          "text": "WHEN Bot's StoryMap completes reading and applying all batches successfully\nTHEN Bot's StoryMap structure matches diagram's StoryMap structure\nAND all node names, types, hierarchy, and ordering match\nAND Bot's StoryMap logs summary (nodes added, deleted, renamed, moved)\nAND Bot's StoryMap persists updated story_graph to file using save() method",
                          "sequential_order": 1.0
                        },
                        {
                          "name": "WHEN Bot's StoryMap encounters errors during batch application\nTHEN Bot's StoryMap identifies which operation failed and why\nAND Bot's StoryMap rolls back incomplete batch to maintain consistency\nAND Bot's StoryMap reports error details to user\nBUT Bot's StoryMap does not apply partial changes that leave story_graph in inconsistent state",
                          "text": "WHEN Bot's StoryMap encounters errors during batch application\nTHEN Bot's StoryMap identifies which operation failed and why\nAND Bot's StoryMap rolls back incomplete batch to maintain consistency\nAND Bot's StoryMap reports error details to user\nBUT Bot's StoryMap does not apply partial changes that leave story_graph in inconsistent state",
                          "sequential_order": 2.0
                        }
                      ]
                    }
                  ]
                }
              ],
              "stories": [
                {
                  "name": "Detect Story Graph Changes From Diagram",
                  "sequential_order": 1.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDetectStoryGraphChangesFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN User makes changes to StoryOutput diagram\nTHEN the StoryMap hanging off StoryOutput reflects those changes in its object model\nAND the changes are visible when accessing the StoryMap directly via API\nAND the StoryRenderedNodes maintain parent/child relationships matching the modified structure",
                      "text": "WHEN User makes changes to StoryOutput diagram\nTHEN the StoryMap hanging off StoryOutput reflects those changes in its object model\nAND the changes are visible when accessing the StoryMap directly via API\nAND the StoryRenderedNodes maintain parent/child relationships matching the modified structure",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN User hits synchronize button\nTHEN Synchronizer compares StoryOutput's StoryMap against Bot's story_graph\nAND Synchronizer identifies all differences (added nodes, deleted nodes, renamed nodes, moved nodes)\nAND Synchronizer generates batch of change operations grouped by change type\nAND Synchronizer calculates dependencies between changes (e.g., must create parent before child)",
                      "text": "WHEN User hits synchronize button\nTHEN Synchronizer compares StoryOutput's StoryMap against Bot's story_graph\nAND Synchronizer identifies all differences (added nodes, deleted nodes, renamed nodes, moved nodes)\nAND Synchronizer generates batch of change operations grouped by change type\nAND Synchronizer calculates dependencies between changes (e.g., must create parent before child)",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Create Child Story Node From Diagram",
                  "sequential_order": 2.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestCreateChildStoryNodeFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot's StoryMap reads batch of add operations from Synchronizer\nTHEN Bot's StoryMap creates new child nodes at correct hierarchy positions\nAND new nodes include all properties from diagram's StoryMap (name, type, sequential order)\nAND Bot's StoryMap resequences existing siblings when inserting at specific positions\nAND parent-child relationships match diagram's StoryMap structure",
                      "text": "WHEN Bot's StoryMap reads batch of add operations from Synchronizer\nTHEN Bot's StoryMap creates new child nodes at correct hierarchy positions\nAND new nodes include all properties from diagram's StoryMap (name, type, sequential order)\nAND Bot's StoryMap resequences existing siblings when inserting at specific positions\nAND parent-child relationships match diagram's StoryMap structure",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads Epic add child SubEpic operation\nTHEN Bot's StoryMap adds Sub-Epic to Epic's children\nAND sequential order matches position from diagram's StoryMap",
                      "text": "WHEN Bot's StoryMap reads Epic add child SubEpic operation\nTHEN Bot's StoryMap adds Sub-Epic to Epic's children\nAND sequential order matches position from diagram's StoryMap",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads SubEpic add child SubEpic operation (no Story children)\nTHEN Bot's StoryMap adds SubEpic to parent SubEpic's children",
                      "text": "WHEN Bot's StoryMap reads SubEpic add child SubEpic operation (no Story children)\nTHEN Bot's StoryMap adds SubEpic to parent SubEpic's children",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads SubEpic add Story operation (no SubEpic children)\nTHEN Bot's StoryMap creates default StoryGroup under Sub-Epic if needed\nAND Bot's StoryMap adds Story to Story Group\nAND story properties match diagram's StoryMap",
                      "text": "WHEN Bot's StoryMap reads SubEpic add Story operation (no SubEpic children)\nTHEN Bot's StoryMap creates default StoryGroup under Sub-Epic if needed\nAND Bot's StoryMap adds Story to Story Group\nAND story properties match diagram's StoryMap",
                      "sequential_order": 4.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads SubEpic add SubEpic operation (has existing Story children)\nTHEN Bot's StoryMap identifies SubEpic already contains Stories\nAND Bot's StoryMap reports error indicating cannot create SubEpic under SubEpic with Stories\nBUT Bot's StoryMap does not apply the invalid add operation",
                      "text": "WHEN Bot's StoryMap reads SubEpic add SubEpic operation (has existing Story children)\nTHEN Bot's StoryMap identifies SubEpic already contains Stories\nAND Bot's StoryMap reports error indicating cannot create SubEpic under SubEpic with Stories\nBUT Bot's StoryMap does not apply the invalid add operation",
                      "sequential_order": 5.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads SubEpic add Story operation (has existing SubEpic children)\nTHEN Bot's StoryMap identifies SubEpic already contains Sub-Epics\nAND Bot's StoryMap reports error indicating cannot create Story under SubEpic with Sub-Epics\nBUT Bot's StoryMap does not apply the invalid add operation",
                      "text": "WHEN Bot's StoryMap reads SubEpic add Story operation (has existing SubEpic children)\nTHEN Bot's StoryMap identifies SubEpic already contains Sub-Epics\nAND Bot's StoryMap reports error indicating cannot create Story under SubEpic with Sub-Epics\nBUT Bot's StoryMap does not apply the invalid add operation",
                      "sequential_order": 6.0
                    },
                    {
                      "name": "WHEN both Bot's StoryMap and diagram's StoryMap implement same interface\nTHEN both expose load() method\nAND both expose save() method\nAND both expose update() method\nAND interface enables bidirectional synchronization",
                      "text": "WHEN both Bot's StoryMap and diagram's StoryMap implement same interface\nTHEN both expose load() method\nAND both expose save() method\nAND both expose update() method\nAND interface enables bidirectional synchronization",
                      "sequential_order": 7.0
                    }
                  ]
                },
                {
                  "name": "Delete Story Node From Diagram",
                  "sequential_order": 3.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestDeleteStoryNodeFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot's StoryMap reads batch of delete operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from story_graph\nAND Bot's StoryMap resequences remaining siblings after deletion\nAND Bot's StoryMap handles cascade deletes (removing node removes all descendants)\nBUT Bot's StoryMap preserves scenarios and steps from deleted stories in archive/backup",
                      "text": "WHEN Bot's StoryMap reads batch of delete operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from story_graph\nAND Bot's StoryMap resequences remaining siblings after deletion\nAND Bot's StoryMap handles cascade deletes (removing node removes all descendants)\nBUT Bot's StoryMap preserves scenarios and steps from deleted stories in archive/backup",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads delete operation for node with children\nTHEN Bot's StoryMap removes node and all descendants recursively\nAND Bot's StoryMap logs all deleted nodes for audit trail",
                      "text": "WHEN Bot's StoryMap reads delete operation for node with children\nTHEN Bot's StoryMap removes node and all descendants recursively\nAND Bot's StoryMap logs all deleted nodes for audit trail",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Update Story Node Name From Diagram",
                  "sequential_order": 4.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestUpdateStoryNodeNameFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot's StoryMap reads batch of rename operations from Synchronizer\nTHEN Bot's StoryMap updates node names to match diagram's StoryMap names\nAND Bot's StoryMap validates no duplicate names at same hierarchy level\nAND Bot's StoryMap updates all references to renamed nodes",
                      "text": "WHEN Bot's StoryMap reads batch of rename operations from Synchronizer\nTHEN Bot's StoryMap updates node names to match diagram's StoryMap names\nAND Bot's StoryMap validates no duplicate names at same hierarchy level\nAND Bot's StoryMap updates all references to renamed nodes",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads rename operation that creates duplicate name at same level\nTHEN Bot's StoryMap identifies duplicate name\nAND Bot's StoryMap reports error\nBUT Bot's StoryMap does not apply conflicting rename",
                      "text": "WHEN Bot's StoryMap reads rename operation that creates duplicate name at same level\nTHEN Bot's StoryMap identifies duplicate name\nAND Bot's StoryMap reports error\nBUT Bot's StoryMap does not apply conflicting rename",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Move Story Node From Diagram",
                  "sequential_order": 5.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestMoveStoryNodeFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot's StoryMap reads batch of move/reorder operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from old parent\nAND Bot's StoryMap adds nodes to new parent at correct position\nAND Bot's StoryMap updates sequential_order values to match diagram's StoryMap ordering\nAND Bot's StoryMap resequences siblings in both old and new parent locations",
                      "text": "WHEN Bot's StoryMap reads batch of move/reorder operations from Synchronizer\nTHEN Bot's StoryMap removes nodes from old parent\nAND Bot's StoryMap adds nodes to new parent at correct position\nAND Bot's StoryMap updates sequential_order values to match diagram's StoryMap ordering\nAND Bot's StoryMap resequences siblings in both old and new parent locations",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap reads move operation to new parent with specified position\nTHEN Bot's StoryMap inserts at specified position\nAND Bot's StoryMap resequences existing siblings at or after position",
                      "text": "WHEN Bot's StoryMap reads move operation to new parent with specified position\nTHEN Bot's StoryMap inserts at specified position\nAND Bot's StoryMap resequences existing siblings at or after position",
                      "sequential_order": 2.0
                    }
                  ]
                },
                {
                  "name": "Persist Story Graph Changes From Diagram",
                  "sequential_order": 6.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_class": "TestPersistStoryGraphChangesFromDiagram",
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN Bot's StoryMap completes reading and applying all batches successfully\nTHEN Bot's StoryMap structure matches diagram's StoryMap structure\nAND all node names, types, hierarchy, and ordering match\nAND Bot's StoryMap logs summary (nodes added, deleted, renamed, moved)\nAND Bot's StoryMap persists updated story_graph to file using save() method",
                      "text": "WHEN Bot's StoryMap completes reading and applying all batches successfully\nTHEN Bot's StoryMap structure matches diagram's StoryMap structure\nAND all node names, types, hierarchy, and ordering match\nAND Bot's StoryMap logs summary (nodes added, deleted, renamed, moved)\nAND Bot's StoryMap persists updated story_graph to file using save() method",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN Bot's StoryMap encounters errors during batch application\nTHEN Bot's StoryMap identifies which operation failed and why\nAND Bot's StoryMap rolls back incomplete batch to maintain consistency\nAND Bot's StoryMap reports error details to user\nBUT Bot's StoryMap does not apply partial changes that leave story_graph in inconsistent state",
                      "text": "WHEN Bot's StoryMap encounters errors during batch application\nTHEN Bot's StoryMap identifies which operation failed and why\nAND Bot's StoryMap rolls back incomplete batch to maintain consistency\nAND Bot's StoryMap reports error details to user\nBUT Bot's StoryMap does not apply partial changes that leave story_graph in inconsistent state",
                      "sequential_order": 2.0
                    }
                  ]
                }
              ],
              "test_file": "invoke_bot/perform_action/test_synchronize_graph_from_rendered.py"
            }
          ],
          "story_groups": [],
          "stories": [],
          "test_file": "invoke_bot/perform_action/"
        },
        {
          "name": "Get Help",
          "sequential_order": 4.0,
          "sub_epics": [],
          "story_groups": [
            {
              "name": "",
              "sequential_order": 0.0,
              "type": "and",
              "connector": null,
              "stories": [
                {
                  "name": "Get Help",
                  "sequential_order": 0.0,
                  "connector": "or",
                  "story_type": "user",
                  "users": [
                    "Bot Behavior"
                  ],
                  "test_file": null,
                  "test_class": "TestGetHelp",
                  "scenarios": [
                    {
                      "name": "Verify actions can provide instructions",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_has_instructions_method",
                      "steps": "Given Bot has behavior with action\nWhen Action is accessed\nThen Action has method to get instructions\nThen Domain focus: Action instructions method availability"
                    },
                    {
                      "name": "Action provides parameter help via .help property",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_provides_parameter_help",
                      "steps": "Given Bot has behavior with action\nWhen Action.help is accessed\nThen Returns dict with description and parameters list\nThen Domain focus: Parameter help retrieval from Action.help"
                    },
                    {
                      "name": "Action provides command examples",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_provides_command_examples",
                      "steps": "Given Bot has behavior with action\nWhen Command examples are requested\nThen Action returns usage examples\nThen Domain focus: Command examples retrieval"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Parameter Help Using CLI",
                  "sequential_order": 1.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Action Help Using CLI",
                  "sequential_order": 2.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_file": null,
                  "test_class": "TestDisplayActionHelpUsingCLI",
                  "scenarios": [
                    {
                      "name": "User views all available commands",
                      "sequential_order": 1.0,
                      "type": "",
                      "background": [],
                      "test_method": "test_user_views_all_available_commands",
                      "steps": "GIVEN: CLI is running\nWHEN: user enters 'help'\nTHEN: CLI displays help menu with commands"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": [
                    {
                      "name": "WHEN user enters help command\nTHEN CLI displays available commands AND their descriptions",
                      "text": "WHEN user enters help command\nTHEN CLI displays available commands AND their descriptions",
                      "sequential_order": 1.0
                    },
                    {
                      "name": "WHEN user requests help for specific action\nTHEN CLI displays detailed help for that action",
                      "text": "WHEN user requests help for specific action\nTHEN CLI displays detailed help for that action",
                      "sequential_order": 2.0
                    },
                    {
                      "name": "WHEN displaying help\nTHEN CLI shows command syntax AND parameter descriptions",
                      "text": "WHEN displaying help\nTHEN CLI shows command syntax AND parameter descriptions",
                      "sequential_order": 3.0
                    },
                    {
                      "name": "WHEN help is requested for non-existent command\nTHEN CLI displays error message with available commands",
                      "text": "WHEN help is requested for non-existent command\nTHEN CLI displays error message with available commands",
                      "sequential_order": 4.0
                    }
                  ]
                },
                {
                  "name": "Display Command Examples Using CLI",
                  "sequential_order": 3.0,
                  "connector": "and",
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_file": null,
                  "test_class": null,
                  "scenarios": [],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Get Help Using CLI",
                  "sequential_order": 4.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_file": null,
                  "test_class": "TestGetHelpUsingCLI",
                  "scenarios": [
                    {
                      "name": "Action instructions are shown in CLI output",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_shows_instructions_in_cli_output",
                      "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user navigates to action\nTHEN: CLI output shows action instructions"
                    },
                    {
                      "name": "Action parameter help is shown in CLI output",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_shows_parameter_help_in_output",
                      "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user navigates to action with parameters\nTHEN: CLI output shows parameter information"
                    },
                    {
                      "name": "Action shows usage information in CLI output",
                      "sequential_order": 3.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_action_shows_usage_information_in_output",
                      "steps": "GIVEN: CLI is at shape.clarify\nWHEN: user navigates to action\nTHEN: CLI output shows how to use the action"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                },
                {
                  "name": "Display Help Using CLI",
                  "sequential_order": 5.0,
                  "connector": null,
                  "story_type": "user",
                  "users": [
                    "User"
                  ],
                  "test_file": null,
                  "test_class": "TestDisplayHelpUsingCLI",
                  "scenarios": [
                    {
                      "name": "Help command shows available commands (all channels)",
                      "sequential_order": 1.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_help_command_shows_available_commands",
                      "steps": "GIVEN: CLI session active\nWHEN: user enters 'help'\nTHEN: CLI displays list of available commands"
                    },
                    {
                      "name": "Help with command name shows command details (all channels)",
                      "sequential_order": 2.0,
                      "type": "happy_path",
                      "background": [],
                      "test_method": "test_help_with_command_shows_details",
                      "steps": "GIVEN: CLI session active\nWHEN: user enters 'help status'\nTHEN: CLI displays help for 'status' command"
                    }
                  ],
                  "scenario_outlines": [],
                  "acceptance_criteria": []
                }
              ]
            }
          ],
          "stories": [
            {
              "name": "Get Help",
              "sequential_order": 0.0,
              "connector": "or",
              "story_type": "user",
              "users": [
                "Bot Behavior"
              ],
              "test_class": "TestGetHelp",
              "scenarios": [
                {
                  "name": "Verify actions can provide instructions",
                  "sequential_order": 1.0,
                  "type": "happy_path",
                  "background": [],
                  "test_method": "test_action_has_instructions_method",
                  "steps": "Given Bot has behavior with action\nWhen Action is accessed\nThen Action has method to get instructions\nThen Domain focus: Action instructions method availability"
                },
                {
                  "name": "Action provides parameter help via .help property",
                  "sequential_order": 2.0,
                  "type": "happy_path",
                  "background": [],
                  "test_method": "test_action_provides_parameter_help",
                  "steps": "Given Bot has behavior with action\nWhen Action.help is accessed\nThen Returns dict with description and parameters list\nThen Domain focus: Parameter help retrieval from Action.help"
                },
                {
                  "name": "Action provides command examples",
                  "sequential_order": 3.0,
                  "type": "happy_path",
                  "background": [],
                  "test_method": "test_action_provides_command_examples",
                  "steps": "Given Bot has behavior with action\nWhen Command examples are requested\nThen Action returns usage examples\nThen Domain focus: Command examples retrieval"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": []
            },
            {
              "name": "Display Parameter Help Using CLI",
              "sequential_order": 1.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "User"
              ],
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": []
            },
            {
              "name": "Display Action Help Using CLI",
              "sequential_order": 2.0,
              "connector": null,
              "story_type": "user",
              "users": [
                "User"
              ],
              "test_class": "TestDisplayActionHelpUsingCLI",
              "scenarios": [
                {
                  "name": "User views all available commands",
                  "sequential_order": 1.0,
                  "type": "",
                  "background": [],
                  "test_method": "test_user_views_all_available_commands",
                  "steps": "GIVEN: CLI is running\nWHEN: user enters 'help'\nTHEN: CLI displays help menu with commands"
                }
              ],
              "scenario_outlines": [],
              "acceptance_criteria": [
                {
                  "name": "WHEN user enters help command\nTHEN CLI displays available commands AND their descriptions",
                  "text": "WHEN user enters help command\nTHEN CLI displays available commands AND their descriptions",
                  "sequential_order": 1.0
                },
                {
                  "name": "WHEN user requests help for specific action\nTHEN CLI displays detailed help for that action",
                  "text": "WHEN user requests help for specific action\nTHEN CLI displays detailed help for that action",
                  "sequential_order": 2.0
                },
                {
                  "name": "WHEN displaying help\nTHEN CLI shows command syntax AND parameter descriptions",
                  "text": "WHEN displaying help\nTHEN CLI shows command syntax AND parameter descriptions",
                  "sequential_order": 3.0
                },
                {
                  "name": "WHEN help is requested for non-existent command\nTHEN CLI displays error message with available commands",
                  "text": "WHEN help is requested for non-existent command\nTHEN CLI displays error message with available commands",
                  "sequential_order": 4.0
                }
              ]
            },
            {
              "name": "Display Command Examples Using CLI",
              "sequential_order": 3.0,
              "connector": "and",
              "story_type": "user",
              "users": [
                "User"
              ],
              "test_class": null,
              "scenarios": [],
              "scenario_outlines": [],
              "acceptance_criteria": []
            }
          ],
          "test_file": "invoke_bot/get_help/test_get_help_using_cli.py"
        }
      ],
      "story_groups": []
    }
  ],
  "increments": [
    {
      "name": "User Manually Drops Config In to AI Chat",
      "priority": 1,
      "stories": [
        "Generate Bot Tools"
      ]
    },
    {
      "name": "Simplest MCP",
      "priority": 2,
      "stories": [
        "Generate MCP Bot Server",
        "Generate Behavior Action Tools",
        "Deploy MCP BOT Server",
        "Inject Validation Rules for Validate Rules Action",
        "Restart MCP Server To Load Code Changes",
        "Invoke Bot Tool"
      ]
    },
    {
      "name": "Workflow",
      "priority": 3,
      "stories": [
        "Generate Behavior Tools",
        "Generate MCP Bot Server",
        "Inject Knowledge Graph Template and Builder Instructions",
        "Track Activity for Build Knowledge Action",
        "Proceed To Render Output",
        "Track Activity for Gather Context Action",
        "Proceed To Decide Planning",
        "Load Render Configurations",
        "Inject Template Instructions",
        "Inject Synchronizer Instructions",
        "Track Activity for Render Output Action",
        "Track Activity for Validate Rules Action",
        "Initialize Project Location",
        "Close Current Action",
        "Execute Behavior",
        "Find Behavior Folder",
        "Forward To Current Action",
        "Forward To Current Behavior and Current Action",
        "Invoke Behavior Actions in Workflow Order",
        "Invoke Behavior in Workflow Order",
        "Track Activity For Workspace"
      ]
    },
    {
      "name": "CLI",
      "priority": 4,
      "stories": [
        "Generate REPL Command Definitions",
        "Generate CLI Entry Point",
        "Generate Cursor Commands",
        "Generate Help Documentation"
      ]
    },
    {
      "name": "Inject / Store Content",
      "priority": 6,
      "stories": [
        "Load Story Graph Into Memory",
        "Update Existing Knowledge Graph",
        "Save Final Assumptions and Decisions",
        "Store Clarification Data",
        "Inject Guardrails As Part Of Clarify Requirements",
        "Store Context Files",
        "Stores Activity for Initialize Project Action",
        "Guards Prevent Writes Without Project",
        "Initialize Project Creates Context Folder",
        "Inject Next Behavior Reminder",
        "Input File Copied To Context Folder",
        "Load And Merge Behavior Action Instructions"
      ]
    },
    {
      "name": "Code Scanner",
      "priority": 7,
      "stories": [
        "Inject Validation Rules for Validate Rules Action",
        "Discovers Scanners",
        "Run Scanners against Knowledge Graph",
        "Track Activity for Validate Rules Action",
        "Handle Validate Rules Exceptions",
        "Run All Scanners",
        "Run Scanners Against Test Code",
        "Run Scanners Against Code",
        "Load Rules Collection",
        "Find Rule By Name",
        "Iterate Rules",
        "Load Rule From File",
        "Load Scanner For Rule",
        "Get Rule Properties",
        "Create Validation Scope",
        "Load Scanner Class",
        "Load Scanner Classes",
        "Perform Incremental Validation",
        "Scope Based Parameter Handling",
        "Validation With All Parameter Combinations",
        "Inject Rules Into AI Chat Message",
        "Example Story",
        "Another Story"
      ]
    },
    {
      "name": "Refactoring",
      "priority": 8,
      "stories": [
        "Create Build Scope",
        "Filter Knowledge Graph",
        "Inject Render Instructions And Configs",
        "Get Render Instructions",
        "Merge Base And Render Instructions",
        "Render Output Using Synchronizers",
        "Detect Trigger Words Through Extension",
        "Get Trigger Priority",
        "Match Text Against Triggers",
        "CLI Accepts Scope With Python Dict Syntax",
        "CLI Normalizes Python Dict To JSON",
        "CLI Builds Parameters From Arguments",
        "CLI Handles Scope In Real Usage",
        "CLI Preserves Array Values In Scope",
        "Scope Based Parameter Handling",
        "Validation Parameter Variations",
        "CLI Type Safe Action Context",
        "CLI Context Builder Parses Typed Context",
        "CLI Parser Generator Creates Action Parsers",
        "Bootstrap Workspace",
        "Generate Help",
        "Generate Cursor Awareness Files",
        "Generate Help Parameters From Action Context Classes",
        "Insert Context Into Instructions",
        "Inject Status Update Breadcrumbs Into Instructions",
        "Load Bot Configuration",
        "Load Bot Behaviors",
        "Load Actions",
        "Load Base Action Configuration",
        "Access Bot Paths",
        "Get Base Instructions",
        "Load Behavior Config",
        "Manage Behaviors Collection",
        "Resolve Bot Paths",
        "Filter Action Based On Scope",
        "Inject Strategy Into Instructions",
        "Store Strategy Data"
      ]
    },
    {
      "name": "LangGraph Orchestration",
      "priority": 9,
      "stories": [
        "Route to Default Behavior Action",
        "Route to BotLangFlow",
        "Invoke BotLangActionNode",
        "Prepare Action Instructions",
        "Process Bot Behavor Action Instructions Automatically",
        "Process Behavor Action Instructions Through AI Chat",
        "Confirm Behavor Action Instruction Response",
        "Return to chat and pause for human-in-the-loop Node",
        "Handle Execution Modes",
        "Resume BotLangFlow from Checkpoint"
      ]
    },
    {
      "name": "REPL CLI",
      "priority": 10,
      "stories": [
        "Launch REPL Loop",
        "Detect TTY Input",
        "Support Pipe Automation Mode",
        "Support Dot Notation Commands",
        "Display Fresh Start",
        "Display Existing State",
        "Show Current Position In Workflow Breadcrumbs",
        "Show Available Behaviors and Actions",
        "Navigate To Behavior",
        "Navigate To Action",
        "Navigate Within Behavior",
        "Confirm Advances Across Behaviors",
        "Request Help",
        "Request Status",
        "Auto-Run Instructions On Navigate",
        "Confirm Action Completion Through CLI",
        "Auto-Confirm Action After Instructions Complete",
        "Advance To Next Action",
        "Loop Back To Display State",
        "Exit REPL",
        "Provide Context For Instructions",
        "Provide Story Scope Context For Instructions",
        "Provide File Scope Context For Instructions",
        "Store Scope Context",
        "Show Current Behavior Action Help",
        "Generate REPL Command Definitions",
        "Generate CLI Entry Point",
        "Generate Cursor Commands",
        "Generate Help Documentation",
        "Execute Current Action",
        "Parse Command Input",
        "Retrieve and Display Bot Behavior Action Instructions",
        "Display Action Output",
        "Prompt For Basic Parameters",
        "Prompt For Story Scope Parameters",
        "Prompt For File Scope Parameters"
      ]
    },
    {
      "name": "Existing",
      "priority": 11,
      "description": "Basic scope management functionality",
      "stories": [
        "Create Scope",
        "Filter Scope By Stories",
        "Filter Scope By Files",
        "Persist Scope",
        "Clear Scope",
        "Execute Actions With Scope",
        "Navigate Story Graph",
        "Filter Story Scope",
        "Show All Scope Through Panel",
        "Display Story Scope Hierarchy",
        "Filter Work Using Knowledge Graph Scope in CLI",
        "Filter Work Using Files Scope in CLI",
        "Enforce Mutually Exclusive Scope Types",
        "View Current Scope in CLI",
        "Clear Scope Through CLI"
      ]
    },
    {
      "name": "Manage Story Hierarchy",
      "priority": 12,
      "description": "Story node management including add, delete, update, move operations",
      "stories": [
        "Direct.Edit Story Graph.Add Child Story Node To Parent",
        "Direct.Edit Story Graph.Delete Story Node From Parent",
        "Direct.Edit Story Graph.Update Story Node name",
        "Direct.Edit Story Graph.Move Story Node",
        "Panel.Edit Story Graph.Add Child Story Node To Parent",
        "Panel.Edit Story Graph.Delete Story Node From Parent",
        "Panel.Edit Story Graph.Update Story Node name",
        "Panel.Edit Story Graph.Move Story Node",
        "CLI.Edit Story Graph.Add Child Story Node To Parent",
        "CLI.Edit Story Graph.Delete Story Node From Parent",
        "CLI.Edit Story Graph.Update Story Node name",
        "CLI.Edit Story Graph.Move Story Node",
        "Update Story Graph Changes",
        "Automatically Refresh Story Graph Changes",
        "CLI.Automatically Refresh Story Graph Changes"
      ]
    },
    {
      "name": "Display Domain Concepts",
      "priority": 13,
      "description": "Display domain concepts in the story graph",
      "stories": []
    },
    {
      "name": "Filter Domain Concepts",
      "priority": 14,
      "description": "Filter domain concepts in the story graph",
      "stories": []
    },
    {
      "name": "Manage Increments",
      "priority": 15,
      "description": "Increment management including add, delete, move, and update operations",
      "stories": [
        "Direct.Edit Increments.Add Increment",
        "Direct.Edit Increments.Delete Increment",
        "Direct.Edit Increments.Move Story to Increment",
        "Panel.Edit Increments.Add Increment",
        "Panel.Edit Increments.Delete Increment",
        "Panel.Edit Increments.Move Story to Increment",
        "CLI.Edit Increments.Add Increment",
        "CLI.Edit Increments.Delete Increment",
        "CLI.Edit Increments.Move Story to Increment"
      ]
    },
    {
      "name": "Perform Action",
      "priority": 16,
      "description": "Story graph API actions for building and rendering",
      "stories": [
        "Render Story Graph using Story Graph API",
        "Build Story Graph Using API",
        "Build Story Graph With CLI",
        "Render Output",
        "Detect Story Graph Changes From Diagram",
        "Create Child Story Node From Diagram",
        "Delete Story Node From Diagram",
        "Update Story Node Name From Diagram",
        "Move Story Node From Diagram",
        "Persist Story Graph Changes From Diagram"
      ]
    },
    {
      "name": "Story Filter Advanced",
      "priority": 17,
      "description": "Advanced story filtering with add/remove filter parts",
      "stories": [
        "Direct.Filter on Story Scope.Add Filter Part To Story Scope",
        "Direct.Filter on Story Scope.Remove Filter Part From Story Scope",
        "CLI.Filter on Story Scope.Add Filter Part To Story Scope",
        "CLI.Filter on Story Scope.Remove Filter Part From Story Scope",
        "Panel.Filter on Story Scope.Add Filter Part To Story Scope",
        "Panel.Filter on Story Scope.Remove Filter Part From Story Scope"
      ]
    },
    {
      "name": "Increment Filtering",
      "priority": 18,
      "description": "Filtering by increments and increment scope management",
      "stories": [
        "Add Increment Filter Part To Story Scope",
        "Remove Increment Filter Part From Story Scope",
        "CLI.Filter on Increment Scope.Add Increment Filter Part To Story Scope",
        "CLI.Filter on Increment Scope.Remove Increment Filter Part From Story Scope",
        "Panel.Filter on Increment Scope.Add Increment Filter Part To Story Scope",
        "Panel.Filter on Increment Scope.Remove Increment Filter Part From Story Scope",
        "Filter Story Scope Using Increment View",
        "Display Story Scope Using Increment View in CLI",
        "Display Story Scope Using Increment View",
        "Show All Increment Scope",
        "Show All Increment Scope Through Panel",
        "Show All Increment Scope Through CLI"
      ]
    },
    {
      "name": "File Filtering",
      "priority": 19,
      "description": "File scope filtering and management",
      "stories": [
        "Direct.Manage File Scope.Filter File Scope",
        "Direct.Manage File Scope.Get All Files For Behavior",
        "Direct.Manage File Scope.Add Filter Part To File Scope",
        "Direct.Manage File Scope.Remove Filter Part From File Scope",
        "Panel.Manage File Scope.Filter File Scope",
        "Panel.Manage File Scope.Display All Files For Behavior",
        "Panel.Manage File Scope.Add Filter Part To File Scope",
        "Panel.Manage File Scope.Remove Filter Part From File Scope",
        "REPL.Manage File Scope.Filter File Scope",
        "REPL.Manage File Scope.Display All Files For Behavior",
        "REPL.Manage File Scope.Add Filter Part To File Scope",
        "REPL.Manage File Scope.Remove Filter Part From File Scope",
        "Panel.Manage Story Scope.Filter File Scope",
        "Open Story Files",
        "Get Files Filtered By Story Scope",
        "CLI.Display Files Filtered By Story Scope",
        "Display Files Filtered By Story Scope"
      ]
    },
    {
      "name": "Submit Scoped Action",
      "priority": 20,
      "description": "Submit actions scoped to story scope or increment",
      "stories": [
        "Direct.Edit Story Graph.Submit Action Scoped To Story Scope",
        "Panel.Edit Story Graph.Submit Action Scoped To Story Scope",
        "CLI.Edit Story Graph.Submit Action Scoped To Story Scope",
        "Direct.Edit Increments.Submit Action Scoped To Increment",
        "Panel.Edit Increments.Submit Action Scoped To Increment",
        "CLI.Edit Increments.Submit Action Scoped To Increment"
      ]
    },
    {
      "name": "CLI Multi Bots",
      "priority": 21,
      "description": "Additional CLI features for bot switching, command display, and behavior invocation",
      "stories": [
        "Load All Registered Bots",
        "Invoke Specific Bot Behavior Command through CLI",
        "Navigate to Bot using CLI Dot Notation",
        "Display Available Bot in Tree Hierarchy",
        "Display CLI Bot Command in Navigation Menu Footer"
      ]
    }
  ]
}